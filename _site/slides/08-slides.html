<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>POLS 1600</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.31/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">POLS 1600</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../class/index.html"> 
<span class="menu-text">Class</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignments/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="08-slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">POLS 1600</h1>
<p class="subtitle lead">Probably too much Probability</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Updated Jan 22, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-map-location" aria-label="map-location"></i> Overview</h1>
<section id="class-plan" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="class-plan">Class Plan</h2>
<ul>
<li>Announcements (5 min)</li>
<li>Feedback (5 min)</li>
<li>Class plan
<ul>
<li>Probability (10 min)</li>
<li>Conditional Probability (10 min)</li>
<li>Probability Distributions (10 min)</li>
<li>Expected Values and Variances (10 min)</li>
<li>Standard Errors (10 min)</li>
<li>Previewing Lab 8 (10 min)</li>
</ul></li>
</ul>
</section>
<section id="annoucements-assignment-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="annoucements-assignment-2">Annoucements: Assignment 2</h2>
<p>Full prompt <a href="https://pols1600.paultesta.org/assignments/a2" target="_blank">here</a></p>
<ol type="1">
<li>A revised description of your group’s research project</li>
<li>A description of a linear model implied by your question</li>
<li>R code that loads some potentially relevant data to your question and at least one descriptive summary of that data.</li>
<li>Some information about your group such as:
<ul>
<li>A group name<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>A group color or color scheme</li>
<li>A group motto, mascot, crest, etc.</li>
<li>Your group’s theme song</li>
<li>Your group’s astrological sign</li>
<li>Anything else that you think well help you form strong ingroup bounds that facilitate collaboration</li>
</ul></li>
</ol>
</section>
<section id="setup-packages-for-today" class="level2">
<h2 class="anchored" data-anchor-id="setup-packages-for-today">Setup: Packages for today</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Pacakges for today</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>the_packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## R Markdown</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"kableExtra"</span>,<span class="st">"DT"</span>,<span class="st">"texreg"</span>,<span class="st">"htmltools"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Tidyverse</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>, <span class="st">"lubridate"</span>, <span class="st">"forcats"</span>, <span class="st">"haven"</span>, <span class="st">"labelled"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Extensions for ggplot</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggmap"</span>,<span class="st">"ggrepel"</span>, <span class="st">"ggridges"</span>, <span class="st">"ggthemes"</span>, <span class="st">"ggpubr"</span>, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"GGally"</span>, <span class="st">"scales"</span>, <span class="st">"dagitty"</span>, <span class="st">"ggdag"</span>, <span class="st">"ggforce"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Data </span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"COVID19"</span>,<span class="st">"maps"</span>,<span class="st">"mapdata"</span>,<span class="st">"qss"</span>,<span class="st">"tidycensus"</span>, <span class="st">"dataverse"</span>, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Analysis</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DeclareDesign"</span>, <span class="st">"easystats"</span>, <span class="st">"zoo"</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Define a function to load (and if needed install) packages</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>ipak <span class="ot">&lt;-</span> <span class="cf">function</span>(pkg){</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    new.pkg <span class="ot">&lt;-</span> pkg[<span class="sc">!</span>(pkg <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])]</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(new.pkg)) </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">install.packages</span>(new.pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sapply</span>(pkg, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="do">## Install (if needed) and load libraries in the_packages</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">ipak</span>(the_packages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   kableExtra            DT        texreg     htmltools     tidyverse 
         TRUE          TRUE          TRUE          TRUE          TRUE 
    lubridate       forcats         haven      labelled         ggmap 
         TRUE          TRUE          TRUE          TRUE          TRUE 
      ggrepel      ggridges      ggthemes        ggpubr        GGally 
         TRUE          TRUE          TRUE          TRUE          TRUE 
       scales       dagitty         ggdag       ggforce       COVID19 
         TRUE          TRUE          TRUE          TRUE          TRUE 
         maps       mapdata           qss    tidycensus     dataverse 
         TRUE          TRUE          TRUE          TRUE          TRUE 
DeclareDesign     easystats           zoo 
         TRUE          TRUE          TRUE </code></pre>
</div>
</div>
</section>
<section id="feedback" class="level2">
<h2 class="anchored" data-anchor-id="feedback">Feedback</h2>
<p><img src="https://media.tenor.com/rAdl6RX2ci4AAAAe/spongebob-oh-brother-this-guy-stinks.png" class="img-fluid"></p>
</section>
<section id="what-did-we-like" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="what-did-we-like">What did we like</h2>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-7764880f9457323167e1" style="width:100%;height:90%;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7764880f9457323167e1">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],["I really liked the reading for this lab I thought it was interesting.","I have experience using online written research, but this was the first time I have used online datasets. I found that to be a really cool \"portal of discovery.\"","I feel like I'm really starting to get the hang of coding, especially when it comes to \"wrangling\" our data and using things like mutate and case_when. Linear regressions are interesting (but a little confusing).","Learning diff-in-diff and unique variation was surprisingly understandable from a conceptual angle","I found the instructions on the lab to be clear and useful in order to do the lab","How the lab was concise enough to fully understand each step rather than rapidly copying and pasting code.","learning how to download the data","I like how in the lab you gave us time to work on our own but also gave us guidance of kinda where to look.","I liked the shorter lab. It really enabled us to focus on a smaller amount of code in more detail. I also liked that you gave us feedback on assignment 1! \n","I liked the assignment- it was fun to think about statistics in a way that didn't involve math","I liked that the lab was shorter this week as I didn't feel as overwhelmed by it","","","Linear regression is such a cool tool","","I liked being able to have some independence by working through code with our small groups\n","I thought the lab was followable and I appreciate when we walk through things together."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Likes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Likes","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="what-did-we-dislike" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="what-did-we-dislike">What did we dislike</h2>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-e6d33e9427d9f67bc8ce" style="width:100%;height:90%;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e6d33e9427d9f67bc8ce">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],["Downloading the data myself was an interesting \"portal of discovery\".","My own lack of understanding, which is completely within my control.","Nothing really to improve, I think it would be helpful to talk a little bit more about linear regressions and difference in difference analyses.","Lots of math! Without explaining the one-to-one translations of equation elements to what happens in the code. Or maybe we did and I just didn't pay attention","I think one of my group members is not participating in the labs, but I do not want to ask them directly to \"please work on it\" since it would probably not create a little hostile environment where we won't be able to do the project","No major complaints. Wasn't a huge fan of the Metallica suggestion though.","","Again, it gets really stressful toward the end of class when we haven’t finished the lab and we are rushing to do so. I think more independent work time could be good.","I wish there were a more outlined syllabus with required readings for every week, so that we could start doing homework over the weekend, and not only after Tuesday's class.","i did not like the math. i tried that damn tutorial like 8 times and it didnt work and i have never been so annoyed. i even asked my dad and he could give me an answer but had no idea how he got it. how is math stumping dads now??? please.","I was frustrated that we spent so long going over the survey results instead of getting to the material during Tuesday's class","How quickly things move","","Loading the data was difficult","","I am still having trouble understanding the longer code chunks especially when it comes to manipulating and adjusting data","I had several errors and even when I thought they were fixed they weren’t which put me really far behind. I realize there isn’t really anything that can be done about it but I find it really frustrating when I have copied the code exactly."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Dislikes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Dislikes","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="our-advice-for-pols-1600" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="our-advice-for-pols-1600">Our advice for POLS 1600</h2>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-16b1ee2f517568e6901d" style="width:100%;height:90%;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-16b1ee2f517568e6901d">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],["Be patient with yourself, ask questions, and ask for help.","To a prospective student:\n\nI would say that this is an exciting class with an even more exciting professor, which makes all the difference. I would say that what you take from this class is completely within your control and that you can leave POLS 1600 with varying levels of R competency depending on what you are willing to put in.","I think I'm starting to learn is the worst that can happen is your code doesn't work, so when in doubt, try it out! It's much easier to get to the right answer if you know where you're going wrong in your code (and thinking), so don't be afraid of getting things wrong.","It helps to go back, practice code (even if it's like 1 chunk only) and really let the info soak for a while","- make sure to do the reading/data downloads beforehand\n- please work on the lab and not something else while in lab","Don't let initial frustration deter you from taking the class","","I think reading the lab ahead of time is quite helpful. Especially this week, reading the lab and reading the paper made it so I pretty good understanding of what was going on.","This class, more than others, really comes down to how much effort you put into it. If you want to learn to code, you need to be proactive about it","GO TO OFFICE HOURS truly Prof. Testa is the only way i am surviving and the man has the patience of a saint because i feel stupid as heck and i leave office hours feeling a solid 50% less dumb. i swear I'm not just saying this for brownie points! but if i get some extra credit for this ill take it bc you know i need it","I think its really useful to refer to the textbook and the code examples they provide","It is harder than it seems so requires more effort and time. Asking questions.","Keep trying, even if it’s not exactly right you did something.","Read the book","","the most important part is showing up to class ready to pay attention and lock in.","I would say just to be patient and realize sometimes the computers run things or have them setup differently."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Advice<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Advice","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="our-fashion-advice" class="level2">
<h2 class="anchored" data-anchor-id="our-fashion-advice">Our Fashion Advice</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Option</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Choice</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Votes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Jacket</td>
<td style="text-align: left;">Tuxedo</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Palette</td>
<td style="text-align: left;">Spring (Warm + Light)</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pant</td>
<td style="text-align: left;">Khakis</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Patterns</td>
<td style="text-align: left;">How 'bout a fun graphic or print</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Shoe</td>
<td style="text-align: left;">Crocs</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tie</td>
<td style="text-align: left;">Bow tie</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Top</td>
<td style="text-align: left;">Sports jersey</td>
<td style="text-align: right;">8</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
Naive professor in class survey: "Help me with my fit"<br>Students: "Ok, bet. Tuxedo, crocs, and a jersey" <a href="https://t.co/NPmBZhsfen">https://t.co/NPmBZhsfen</a> <a href="https://t.co/cWlytcZ12h">pic.twitter.com/cWlytcZ12h</a>
</p>
— Paul Testa (<span class="citation" data-cites="ProfPaulTesta">(<a href="#ref-ProfPaulTesta" role="doc-biblioref"><strong>ProfPaulTesta?</strong></a>)</span>) <a href="https://twitter.com/ProfPaulTesta/status/1636820286950522894?ref_src=twsrc%5Etfw">March 17, 2023</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</section>
</section>
<section id="probability" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Probability</h1>
<section id="probability-1" class="level2">
<h2 class="anchored" data-anchor-id="probability-1">Probability</h2>
<ul>
<li><p>Probability describes the <span class="blue">likelihood of an event</span> happening.</p></li>
<li><p>Statistics uses probability to <span class="blue">quantify uncertainty</span> about estimates and hypotheses.</p></li>
<li><p>To do this, we will need to understand:</p>
<ul>
<li><p>Definitions (<span class="blue"><strong>experiment</strong>, <strong>sample space</strong>, <strong>events</strong></span>)</p></li>
<li><p>Three <em>rules</em> of probability (<span class="blue"><strong>Kolmogorov axioms</strong></span>)</p></li>
<li><p>Two interpretations interpreting probabilities (<span class="blue"><strong>Frequentist</strong></span> and <span class="blue"><strong>Bayesian</strong></span>)</p></li>
</ul></li>
</ul>
</section>
<section id="experiments-sample-spaces-sets-and-events" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="experiments-sample-spaces-sets-and-events">Experiments, sample spaces, sets, and events</h2>
<ul>
<li><p>In probability theory, an <span class="blue"><strong>experiment</strong></span> describes a repeatable process where the outcome is uncertain</p>
<ul>
<li>Processes where the outcomes are uncertain are called <span class="blue"><em>non-deterministic</em></span> or <span class="blue"><em>stochastic</em></span></li>
</ul></li>
<li><p>The <span class="blue"><strong>sample space</strong></span> of an experiment is the <strong>set</strong> <span class="math inline">\((\Omega\)</span> “omega”, or <span class="math inline">\(S\)</span>) of <span class="blue">all the possible outcomes</span> of an experiment</p></li>
</ul>
</section>
<section id="experiments-sample-spaces-sets-and-events-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="experiments-sample-spaces-sets-and-events-1">Experiments, sample spaces, sets, and events</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p>Sets can be:</p>
<ul>
<li>empty <span class="math inline">\(( A: \{\emptyset\})\)</span></li>
<li>a single event <span class="math inline">\(( Coin: \{\text{Heads}\})\)</span></li>
<li>multiple events <span class="math inline">\(( Odd\, \#s: \{\text{1,3,5}\})\)</span></li>
<li>infinite <span class="math inline">\((\mathbb{R}: \text{ The set of real numbers}\{ -\infty \dots +\infty\}\)</span>)</li>
</ul></li>
<li><p>An <strong>event</strong>, <span class="math inline">\((E\)</span> or <span class="math inline">\(A)\)</span> is a <strong>subset</strong> of outcomes in the sample space</p>
<ul>
<li>The sample space for a coin flip is <span class="math inline">\(\Omega = \{\text{Heads, Tails}\}\)</span></li>
<li>The event Heads is a subset of <span class="math inline">\(\Omega\)</span></li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<p><img src="https://www.playmonster.com/wp-content/uploads/2019/09/1000_set_pkgcontents-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="subsets" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="subsets">Subsets</h2>
<ul>
<li>Subset: Let <span class="math inline">\(D\)</span> be the set outcomes for a 6-side die: <span class="math inline">\(D=\{1,2,3,4,5,6\}\)</span>
<ul>
<li><span class="math inline">\(Primes=\{2,3,5\}\)</span></li>
<li><span class="math inline">\(Primes \subset D \iff \forall X \in Primes, X \in D\)</span></li>
</ul></li>
</ul>
</section>
<section id="unions-intersections-and-complements" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="unions-intersections-and-complements">Unions, Intersections, and Complements</h2>
<ul>
<li>Unions
<ul>
<li><span class="math inline">\(A \cup B = \{X:X \in A \lor X \in B \}\)</span></li>
<li>Either <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> or both <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> occur</li>
</ul></li>
<li>Intersections
<ul>
<li><span class="math inline">\(A \cap B = \{X:X \in A \land X \in B \}\)</span></li>
<li>Both <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> occur</li>
</ul></li>
<li>Complements
<ul>
<li><span class="math inline">\(A'=A^\complement = \{X:X\notin A\}\)</span></li>
<li><span class="math inline">\(A'=A^\complement\)</span> means <span class="math inline">\(A\)</span> does not occur</li>
<li><span class="math inline">\(\emptyset^\complement=S\)</span> and <span class="math inline">\(S^\complement=\emptyset\)</span></li>
</ul></li>
</ul>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<p><img src="https://www.onlinemathlearning.com/image-files/set-operations-venn-diagrams.png" class="img-fluid"> <a href="https://www.onlinemathlearning.com/union-set.html" target="_blank">Source</a></p>
</section>
<section id="three-rules-of-probability" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="three-rules-of-probability">Three Rules of Probability</h2>
<div class="nonincremental">
<ul>
<li>Probability is defined by three <em>rules</em> or assumptions called the <a href="https://win-vector.com/2020/09/19/kolmogorovs-axioms-of-probability-even-smarter-than-you-have-been-told/" target="_blank"><strong>Kolmogorov Axioms</strong></a></li>
</ul>
<ol type="1">
<li><span class="blue">Positivity:</span> The probability of any event <span class="math inline">\(A\)</span> is <span class="blue">nonnegative</span></li>
</ol>
<p><span class="math display">\[Pr(A) \geq 0 \]</span></p>
<ol start="2" type="1">
<li><span class="blue">Certainty:</span> The probability that <span class="blue">one of the outcomes</span> in the sample space <span class="blue">occurs</span> is 1</li>
</ol>
<p><span class="math display">\[Pr(\Omega) = 1 \]</span></p>
<ol start="3" type="1">
<li><span class="blue">Additivity:</span> If events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are <span class="blue">mutually exclusive</span>, then:</li>
</ol>
<p><span class="math display">\[Pr(A \text{ or } B) = Pr(A) + Pr(B)\]</span></p>
</div>
</section>
<section id="the-addition-rule" class="level2">
<h2 class="anchored" data-anchor-id="the-addition-rule">The Addition Rule</h2>
<p>For events, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, the <strong>addition</strong> rule says we can find the probability of either <span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span> occurring:</p>
<p><span class="math display">\[Pr(A \cup B) = Pr(A \text{ or } B) = Pr(A) + Pr(B) - \underbrace{Pr(A \text{ and } B)}_{\text{aka } Pr(A \cap B)}\]</span></p>
<p>In words: The probability of either A or B occurring is the probability that A occurs plus the probability that B occurs - minus the probability that both occur (so that we’re not double counting…)</p>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p><img src="https://www.onlinemathlearning.com/image-files/set-operations-venn-diagrams.png" class="img-fluid"></p>
<p><a href="https://www.onlinemathlearning.com/union-set.html" target="_blank">Source</a></p>
</section>
<section id="the-law-of-total-probability-part-1" class="level2">
<h2 class="anchored" data-anchor-id="the-law-of-total-probability-part-1">The Law of Total Probability (Part 1)</h2>
<p>For any event two events, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, the probability of <span class="math inline">\(A\)</span> <span class="math inline">\((Pr(A))\)</span> can be <strong>decomposed</strong> into the sum of the probabilities of two <strong>mutually exclusive</strong> events:</p>
<p><span class="math display">\[Pr(A) = Pr(A \text{ and } B) + Pr(A \text{ and } B^{\complement})\]</span></p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<p><img src="https://www.onlinemathlearning.com/image-files/set-operations-venn-diagrams.png" class="img-fluid"></p>
<p><a href="https://www.onlinemathlearning.com/union-set.html" target="_blank">Source</a></p>
</section>
<section id="two-interpretations-of-probablity" class="level2">
<h2 class="anchored" data-anchor-id="two-interpretations-of-probablity">Two interpretations of probablity</h2>
<ul>
<li><p>Probabilities are defined by these three axioms</p></li>
<li><p>The are two broad ways of interpreting what probabilities mean:</p>
<ul>
<li><p><span class="blue">Frequentist</span></p></li>
<li><p><span class="blue">Bayesian</span></p></li>
</ul></li>
</ul>
</section>
<section id="frequentist-interpretations-of-probability" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="frequentist-interpretations-of-probability">Frequentist interpretations of probability</h2>
<div class="nonincremental">
<ul>
<li><p>Probability describes how likely it is that some event happens.</p>
<ul>
<li>Flip a fair coin, the probability of heads is Pr(Heads) = 0.5</li>
</ul></li>
<li><p><strong>Frequentist:</strong> view this probability as the <span class="blue">limit of the relative frequency</span> of an event <span class="blue">over repeated trials</span>.</p></li>
</ul>
<p><span class="math display">\[Pr(E) = \lim_{n \to \infty} \frac{n_{E}}{n} \approx \frac{ \text{# of Times E happened}}{\text{Total # of Trials}}\]</span></p>
<ul>
<li>Thinking about probability as a relative frequency, requires us to <a href="https://bookdown.org/probability/beta/counting.html" target="_blank">know how to count</a> the number of times an event occurred (<a href="https://static1.squarespace.com/static/54bf3241e4b0f0d81bf7ff36/t/55e9494fe4b011aed10e48e5/1441352015658/probability_cheatsheet.pdf" target="_blank">see also</a>)</li>
</ul>
</div>
</section>
<section id="frequentist-interpretations-of-probability-1" class="level2">
<h2 class="anchored" data-anchor-id="frequentist-interpretations-of-probability-1">Frequentist interpretations of probability</h2>
<ul>
<li><p>Probabilities from a Frequentist perspective are defined by <em>fixed</em> and <em>unknown</em> <strong>parameters</strong></p></li>
<li><p>The goal of statistics for a frequentist is to learn about these parameters from data.</p></li>
<li><p>Frequentist statistics often ask questions like “What is the probability of observing some data <span class="math inline">\(Y\)</span>, given a hypothesis about the true value of parameter(s), <span class="math inline">\(\theta\)</span>, that generated it.</p></li>
</ul>
</section>
<section id="frequentist-interpretations-of-probability-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="frequentist-interpretations-of-probability-2">Frequentist interpretations of probability</h2>
<p>For example, suppose we wanted to test whether a coin is “fair” <span class="math inline">\((p = Pr(Heads) = .5; q = Pr(Tails) = 1-p = .5).\)</span> We could:</p>
<ul>
<li><p>Flip a fair coin 10 times. Our estimate of the <span class="math inline">\(Pr(H)\)</span> is the number of heads divided by 10. It could be 0.5, but also 0 or 1, or some number in between.</p></li>
<li><p>Flip a coin 100 times and our estimate will be closer to the true <span class="math inline">\(paramter\)</span>.</p></li>
<li><p>Flip a coin an <span class="math inline">\(\infty\)</span> amount of times and the relative frequency will converge to the true parameter <span class="math inline">\((Pr(H) = \lim_{n \to \infty} \frac{n_{H}}{n} = p = 0.5 \text{ for a fair coin})\)</span></p></li>
</ul>
</section>
<section id="bayesian-interpretations-of-probability" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="bayesian-interpretations-of-probability">Bayesian interpretations of probability</h2>
<ul>
<li><p>Frequentist interpretations make sense for describing processes that we could easily repeat (e.g.&nbsp;Coin flips, Surveys, Experiments)</p></li>
<li><p>But feel more convoluted when trying to describe events like “the probability of that Biden wins reelection.”</p></li>
<li><p>Bayesian interpretations of probability view probabilities as <span class="blue">subjective beliefs</span>.</p></li>
<li><p>The task for a Bayesian statistics is to update these <span class="blue"><em>prior</em> beliefs</span> () based on a model of the <span class="blue"><em>likelihood</em></span> of observing some data to form new beliefs after observing the data (called the <span class="blue"><em>posterior beliefs</em></span>).</p></li>
</ul>
</section>
<section id="bayesian-updating" class="level2">
<h2 class="anchored" data-anchor-id="bayesian-updating">Bayesian Updating</h2>
<div class="nonincremental">
<ul>
<li>Bayesians update their beliefs according to <em>Bayes Rule</em>, which says:</li>
</ul>
<p><span class="math display">\[\text{posterior} \propto \text{likelihood} \times \text{prior}\]</span> More formally:</p>
<p><span class="math display">\[\underbrace{Pr(\theta|Y)}_{\text{Posterior}} \propto \underbrace{Pr(Y|\theta)}_{\text{Likelihood}}) \times \underbrace{Pr(\theta)}_{\text{Prior}}\]</span></p>
</div>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<p><img src="https://imgs.xkcd.com/comics/frequentists_vs_bayesians.png" class="img-fluid"></p>
</section>
<section id="bayesian-vs-frequentists" class="level2">
<h2 class="anchored" data-anchor-id="bayesian-vs-frequentists">Bayesian vs Frequentists</h2>
<div class="nonincremental">
<p>Our two main tools for doing statistical inference in this course</p>
<ul>
<li>Hypothesis Testing</li>
<li>Interval Estimation</li>
</ul>
<p>Follow largely from frequentist interpretations of probability</p>
</div>
</section>
<section id="bayesian-vs-frequentists-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="bayesian-vs-frequentists-1">Bayesian vs Frequentists</h2>
<div class="nonincremental">
<p>The differences between Bayesian and Frequentist frameworks, are both philosophical and technical in nature</p>
<ul>
<li><p>Is probability a relative frequency or subjective belief? How do we form and use prior beliefs</p></li>
<li><p>Bayesian statistics relies heavily on algorhithms for <a href="http://www.columbia.edu/~mh2078/MonteCarlo/MCMC_Bayes.pdf" target="_blank">Markov Chain Monte-Carlo</a> simulations made possible by advances in computing.</p></li>
</ul>
<p>For most of the questions in this course, these two frameworks will yield similar (even identical) conclusions.</p>
<ul>
<li>Sometimes it’s helpful to think like a Bayesian, others, like a frequentist</li>
</ul>
</div>
</section>
<section id="summary-probability" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="summary-probability">Summary: Probability</h2>
<ul>
<li><p>Probability is a measure of uncertainty telling us how likely an event (or events) is (are) to occur</p></li>
<li><p>Probabilities are:</p>
<ul>
<li>Non-negative</li>
<li>Unitary</li>
<li>Additive</li>
</ul></li>
<li><p>Two different interpretations of probability:</p>
<ul>
<li>Frequentists: Probability is a long run relative frequency</li>
<li>Bayesians: Probability reflect subjective beliefs which we update upon observing data</li>
</ul></li>
</ul>
</section>
</section>
<section id="conditional-probability" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lighbulb" aria-label="lighbulb"></i> Conditional Probability</h1>
<section id="conditional-probability-definition" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="conditional-probability-definition">Conditional Probability: Definition</h2>
<p>The conditional probability that event <strong>A</strong> occurred, given that event <strong>B</strong> occurred is written as <span class="math inline">\(Pr(A|B)\)</span> (<em>“The probability of A given B”</em>) and defined as:</p>
<p><span class="math display">\[Pr(A|B) = \frac{Pr(A \cap B)}{Pr(B)} = \frac{\text{Probability of Both A and B}}{\text{Probability of B}}\]</span></p>
<ul>
<li><p><span class="math inline">\(Pr(A \cap B)\)</span> is the same as <span class="math inline">\(Pr(A \text{ and } B)\)</span> is the <strong>joint probability</strong> of both events occurring</p></li>
<li><p><span class="math inline">\(Pr(B)\)</span> is the <strong>marginal probability</strong> of B occuring</p></li>
</ul>
</section>
<section id="conditional-probability-multiplication-rule" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="conditional-probability-multiplication-rule">Conditional Probability: Multiplication Rule</h2>
<p>Joint probabilities are <strong>symmetrical</strong>. <span class="math inline">\(Pr(A \cap B) = Pr(B \cap A)\)</span>.</p>
<p>By rearranging terms:</p>
<p><span class="math display">\[Pr(A|B) = \frac{Pr(A \cap B)}{Pr(B)}\]</span> We get the <strong>multiplication rule</strong>:</p>
<p><span class="math display">\[Pr(A \cap B) = Pr(A|B)Pr(B) = Pr(B|A)Pr(A)\]</span></p>
</section>
<section id="the-law-of-total-probability-part-2" class="level2">
<h2 class="anchored" data-anchor-id="the-law-of-total-probability-part-2">The Law of Total Probability (Part 2)</h2>
<p>We can use multiplication rule to derive an alternative form of the law of total probability:</p>
<p><span class="math display">\[Pr(A) = Pr(A|B)Pr(B) + Pr(A|B^\complement)Pr(B^\complement)\]</span></p>
</section>
<section id="independence" class="level2">
<h2 class="anchored" data-anchor-id="independence">Independence</h2>
<p>Events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent if</p>
<p><span class="math display">\[Pr(A|B) = Pr(A) \text{ and } Pr(B|A) = Pr(B)\]</span></p>
<p>Conceputally, If <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are <strong>independent</strong> knowing whether <span class="math inline">\(B\)</span> occurred, tells us nothing about <span class="math inline">\(A\)</span>, and so the conditional probability of <span class="math inline">\(A\)</span> given <span class="math inline">\(B\)</span>, <span class="math inline">\(Pr(A|B)\)</span> is equal to the unconditional, or marginal probability, <span class="math inline">\(Pr(A)\)</span></p>
</section>
<section id="independence-1" class="level2">
<h2 class="anchored" data-anchor-id="independence-1">Independence</h2>
<p>Formally, two events are statistically independent if and only if the joint probability is equal to product of the marginal probabilities</p>
<p><span class="math display">\[Pr(A\text{ and }B) = Pr(A)Pr(B)\]</span></p>
</section>
<section id="conditional-independence" class="level2">
<h2 class="anchored" data-anchor-id="conditional-independence">Conditional Independence</h2>
<p>We can extend the concept of independence to situations with more than two events:</p>
<p>If events <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, and <span class="math inline">\(C\)</span> are jointly independent then:</p>
<p><span class="math display">\[Pr(A \cap B \cap C) = Pr(A)Pr(B)Pr(C)\]</span></p>
<p>Joint independence implies pairwise independence and conditional independence:</p>
<p><span class="math display">\[Pr(A \cap B | C) = Pr(A|C)Pr(B|C)\]</span> But not the reverse.</p>
</section>
<section id="bayes-rule" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="bayes-rule">Bayes Rule</h2>
<div class="nonincremental">
<p>Bayes rule is theorem for how we should update our beliefs about <span class="math inline">\(A\)</span> given that <span class="math inline">\(B\)</span> occurred:</p>
<p><span class="math display">\[Pr(A|B) = \frac{Pr(B|A)Pr(A)}{Pr(B)} = \frac{Pr(B|A)Pr(A)}{Pr(B|A)Pr(A)+Pr(B|A^\complement)Pr(A^\complement)}\]</span> Where</p>
<ul>
<li><p><span class="math inline">\(Pr(A)\)</span> is called the prior probability of A (our initial belief)</p></li>
<li><p><span class="math inline">\(Pr(A|B)\)</span> is called the posterior probability of A given B (our updated belief after observing B)</p></li>
</ul>
</div>
</section>
<section id="whats-the-probability-you-have-covid-19-given-a-positive-test" class="level2">
<h2 class="anchored" data-anchor-id="whats-the-probability-you-have-covid-19-given-a-positive-test">What’s the probability you have Covid-19 given a positive test</h2>
<p><span class="math display">\[Pr(Covid|Test +) = \frac{Pr(+|Covid)Pr(Covid)}{Pr(Test +)}\]</span></p>
</section>
<section id="possible-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="possible-outcomes">Possible Outcomes</h2>
<p>Four possible outcomes</p>
<div class="cell">
<div class="cell-output-display">
<div>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Test</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Have Covid</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Don't Have Covid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Positive</td>
<td style="text-align: left;">True Positive</td>
<td style="text-align: left;">False Positive</td>
</tr>
<tr class="even">
<td style="text-align: left;">Negative</td>
<td style="text-align: left;">False Negative</td>
<td style="text-align: left;">True Negative</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</section>
<section id="whats-the-probability-you-have-covid-19-given-a-positive-test-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="whats-the-probability-you-have-covid-19-given-a-positive-test-1">What’s the probability you have Covid-19 given a positive test</h2>
<div class="nonincremental">
<p>Let’s assume:</p>
<ul>
<li><p>1 out 100 people have Covid-19</p></li>
<li><p>Our test correctly identifies true positives 95 percent of the time (<span class="blue">sensitivity = True Positive Rate</span>)</p></li>
<li><p>Our test correctly identifies true negatives 95 percent of the time (<span class="blue">specificity = True Negative Rate</span>)</p></li>
</ul>
<p>In a sample of 100,000 people then:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Test</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Have Covid</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Don't Have Covid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Positive</td>
<td style="text-align: right;">950</td>
<td style="text-align: right;">4950</td>
</tr>
<tr class="even">
<td style="text-align: left;">Negative</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">94050</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</section>
<section id="whats-the-probability-you-have-covid-19-given-a-positive-test-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="whats-the-probability-you-have-covid-19-given-a-positive-test-2">What’s the probability you have Covid-19 given a positive test</h2>
<div class="nonincremental">
<p>Now we can calculate the relevant quantities for:</p>
<p><span class="math display">\[Pr(Covid|Test +) = \frac{Pr(+|Covid)Pr(Covid)}{Pr(Test +)}\]</span></p>
<ul>
<li><span class="math inline">\(Pr(+|Covid) = 950/(1000) \approx 0.95\)</span><br>
</li>
<li><span class="math inline">\(Pr(Covid) = 1000/100000 \approx 0.01\)</span><br>
</li>
<li><span class="math inline">\(Pr(+) = Pr(+|Covid) + Pr(+|Covid)= .95*.01 + .05*.99 \approx 0.059\)</span></li>
</ul>
<p>Which yields:</p>
<p><span class="math display">\[Pr(Covid|Test +) = \frac{Pr(+|Covid)Pr(Covid)}{Pr(Test +)} = \frac{0.95 \times 0.01}{0.059} \approx 0.16\]</span></p>
</div>
</section>
<section id="what-if-you-took-a-second-test" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="what-if-you-took-a-second-test">What if you took a second test?</h2>
<p>We could use our <span class="blue">updated posterior belief</span> as our <span class="blue">new prior</span>:</p>
<p><span class="math display">\[Pr(Covid|2nd +) = \frac{0.95 \times 0.16}{0.16\times0.95 + (1-0.16)\times 0.95 } \approx 0.783\]</span></p>
<p>Now we’re much more confident that we have Covid-19</p>
</section>
</section>
<section id="random-variables-and-probability-distributions" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Random Variables and Probability Distributions</h1>
<section id="random-variables" class="level2">
<h2 class="anchored" data-anchor-id="random-variables">Random Variables</h2>
<ul>
<li><p><span class="blue">Random variables</span> assign <span class="blue">numeric values</span> to each event in an experiment.</p>
<ul>
<li>Mutually exclusive and exhaustive, together cover the entire sample space.</li>
</ul></li>
<li><p><span class="blue">Discrete random</span> variables take on finite, or <a href="http://mathworld.wolfram.com/CountablyInfinite.html" target="_blank">countably infinite</a> distinct values.</p></li>
<li><p><span class="blue">Continuous variables</span> can take on an uncountably infinite number of values.</p></li>
</ul>
</section>
<section id="example-toss-two-coins" class="level2">
<h2 class="anchored" data-anchor-id="example-toss-two-coins">Example: Toss Two Coins</h2>
<ul>
<li><span class="math inline">\(S={TT,TH,HT,HH}\)</span></li>
<li>Let <span class="math inline">\(X\)</span> be the number of heads
<ul>
<li><span class="math inline">\(X(TT)=0\)</span></li>
<li><span class="math inline">\(X(TH)=1\)</span></li>
<li><span class="math inline">\(X(HT)=1\)</span></li>
<li><span class="math inline">\(X(HH)=2\)</span></li>
</ul></li>
</ul>
</section>
<section id="probability-distributions" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="probability-distributions">Probability Distributions</h2>
<p>Broadly probability distributions provide mathematical descriptions of random variables in terms of the probabilities of events.</p>
<p>The can be represented in terms of:</p>
<ul>
<li><span class="blue">Probability Mass/Density Functions</span>
<ul>
<li><span class="blue">Discrete variables</span> have probability mass functions (PMF)</li>
<li><span class="blue">Continuous variables</span> have probability density functions (PDF)</li>
</ul></li>
<li><span class="blue">Cumulative Density Functions</span>
<ul>
<li>Discrete: Summation of discrete probabilities</li>
<li>Continuous: Integration over a range of values</li>
</ul></li>
</ul>
</section>
<section id="discrete-distributions" class="level2">
<h2 class="anchored" data-anchor-id="discrete-distributions">Discrete distributions</h2>
<ul>
<li><p><strong>Probability Mass Function (pmf):</strong> <span class="math inline">\(f(x)=p(X=x)\)</span></p></li>
<li><p>Assigns probabilities to each unique event such that Kolmogorov Axioms (Positivity, Certainty, and Additivity) still apply</p></li>
<li><p><strong>Cumulative Distribution Function (cdf)</strong> <span class="math inline">\(F(x_j)=p(X\leq x)=\sum_{i=1}^{j}p(x_i)\)</span></p>
<ul>
<li>Sum of the probability mass for events less than or equal to <span class="math inline">\(x_j\)</span></li>
</ul></li>
</ul>
</section>
<section id="example-toss-two-coins-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="example-toss-two-coins-1">Example: Toss Two coins</h2>
<ul>
<li><span class="math inline">\(S={TT,TH,HT,HH}\)</span></li>
<li>Let <span class="math inline">\(X\)</span> be the number of heads
<ul>
<li><span class="math inline">\(X(TT)=0\)</span></li>
<li><span class="math inline">\(X(TH)=1\)</span></li>
<li><span class="math inline">\(X(HT)=1\)</span></li>
<li><span class="math inline">\(X(HH)=2\)</span></li>
</ul></li>
<li><span class="math inline">\(f(X=0)=p(X=0)=1/4\)</span></li>
<li><span class="math inline">\(f(X=1)=p(X=1)=1/2\)</span></li>
<li><span class="math inline">\(F(X\leq 1) = p(X \leq 1)= 3/4\)</span></li>
</ul>
</section>
<section id="rolling-a-die" class="level2">
<h2 class="anchored" data-anchor-id="rolling-a-die">Rolling a die</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Each side has equal probability of occurring (1/6). The probability that you roll a 2 or less P(X&lt;=2) = 1/6 + 1/6 = 1/3</p>
</section>
<section id="continuous-distributions" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="continuous-distributions">Continuous distributions</h2>
<ul>
<li><strong>Probability Density Functions (PDF):</strong> <span class="math inline">\(f(x)\)</span>
<ul>
<li>Assigns probabilities to events in the sample space such that Kolmogorov Axioms still apply</li>
<li>But… since their are an infinite number of values a continuous variable could take, p(X=x)=0, that is, the probability that X takes any one specific value is 0.</li>
</ul></li>
<li><strong>Cumulative Distribution Function (CDF)</strong> <span class="math inline">\(F(x)=p(X\leq x)=\int_{-\infty}^{x}f(x)dx\)</span>
<ul>
<li>Instead of summing up to a specific value (discrete) we integrate over all possible values up to <span class="math inline">\(x\)</span></li>
<li>Probability of having a value less than x</li>
</ul></li>
</ul>
</section>
<section id="integrals" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="integrals">Integrals</h2>
<p>What’s the area of the rectangle?</p>
<div class="fragment">
<p><span class="math inline">\(base\times height\)</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="integrals-1" class="level2">
<h2 class="anchored" data-anchor-id="integrals-1">Integrals</h2>
<p>How would we find the area under a curve?</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="integrals-2" class="level2">
<h2 class="anchored" data-anchor-id="integrals-2">Integrals</h2>
<p>Well suppose we added up the areas of a bunch of rectangles roughly whose height’s approximated the height of the curve?</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Can we do any better?</p>
</section>
<section id="integrals-3" class="level2">
<h2 class="anchored" data-anchor-id="integrals-3">Integrals</h2>
<p>Let’s make the rectangles smaller</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>What happens as the width of rectangles get even smaller, approaches 0? Our approximation get’s even better</p>
</section>
<section id="link-between-pdf-and-cdf" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="link-between-pdf-and-cdf">Link between PDF and CDF</h2>
<p>If <span class="math display">\[F(x)=p(X\leq x)=\int_{-\infty}^{x}f(x)dx \]</span></p>
<p>Then by the <a href="https://en.wikipedia.org/wiki/Fundamental_theorem_of_calculus" target="_blank">fundamental theorem of calculus</a></p>
<p><span class="math display">\[\frac{d}{dx}F(x)=f(x)\]</span></p>
<p>In words</p>
<ul>
<li><p>the PDF <span class="math inline">\((f(x))\)</span>is the derivative (rate of change) of the CDF <span class="math inline">\((F(X))\)</span></p></li>
<li><p>the CDF describes the area under the curve defined by f(x) up to x</p></li>
</ul>
</section>
<section id="properties-of-the-cdf" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-the-cdf">Properties of the CDF</h2>
<ul>
<li><p><span class="math inline">\(0\leq F(x) \leq 1\)</span></p></li>
<li><p><span class="math inline">\(F\)</span> is non-decreasing and right continuous</p></li>
<li><p><span class="math inline">\(\lim_{x\to-\infty}F(x)=0\)</span></p></li>
<li><p><span class="math inline">\(\lim_{x\to\infty}F(x)=1\)</span></p></li>
<li><p>For all <span class="math inline">\(a,b \in \mathbb{R}\)</span> s.t. <span class="math inline">\(a&lt;b\)</span></p></li>
</ul>
<div class="fragment">
<p><span class="math display">\[p(a &lt; X \leq b) = F(b)- F(a) = \int_a^b f(x)dx \]</span></p>
</div>
</section>
<section id="recall-the-pmf-and-cdf-of-a-die" class="level2">
<h2 class="anchored" data-anchor-id="recall-the-pmf-and-cdf-of-a-die">Recall the PMF and CDF of a die</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="whats-the-probability" class="level2">
<h2 class="anchored" data-anchor-id="whats-the-probability">What’s the probability</h2>
<ul>
<li><p><span class="math inline">\(p(X=1)...p(X=6) = 1/6\)</span></p></li>
<li><p><span class="math inline">\(p( 2 &lt; X \leq 5) = F(5)-F(2)=5/6-1/6=4/6=2/3\)</span></p></li>
</ul>
</section>
<section id="what-well-use-proability-distributions-for" class="level2">
<h2 class="anchored" data-anchor-id="what-well-use-proability-distributions-for">What we’ll use proability distributions for:</h2>
<p>In this course, we’ll use probability distributions to</p>
<ul>
<li><p>Model the <span class="blue">data generating process</span> as a function of parameters we can estimate</p></li>
<li><p>To perform <span class="blue">statitical inference</span> based on asymptotic theory (statements about how statistics would be have as our sample size approached infinity)</p></li>
</ul>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<p>Please memorize these over Spring Break:</p>
<p><img src="http://www.math.wm.edu/~leemis/chart/UDR/BaseImage.png" class="img-fluid"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><embed src="http://www.math.wm.edu/~leemis/chart/UDR/UDR.html" class="img-fluid"></p>
<figcaption>Source</figcaption>
</figure>
</div>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<p><img src="https://miro.medium.com/max/4854/1*szMCjXuMDfKu6L9T9c34wg.png" class="img-fluid"></p>
<p><a href="https://www.datasciencecentral.com/common-probability-distributions-the-data-scientist-s-crib-sheet/" target="_blank">Source</a></p>
</section>
</section>
<section id="expected-values-and-variances" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Expected Values and Variances</h1>
<section id="expected-value" class="level2">
<h2 class="anchored" data-anchor-id="expected-value">Expected Value</h2>
<p>A (probability) weighted average of the possible outcomes of a random variable, often labeled <span class="math inline">\(\mu\)</span></p>
<p>Discrete:</p>
<p><span class="math display">\[\mu_X=E(X)=\sum xp(x)\]</span></p>
<p>Continuous</p>
<p><span class="math display">\[\mu_X=E(X)=\int_{-\infty}^{\infty}xf(x) dx\]</span></p>
</section>
<section id="condtional-expectations" class="level2">
<h2 class="anchored" data-anchor-id="condtional-expectations">Condtional Expectations:</h2>
<p>For a continuous variable:</p>
<p><span class="math display">\[
E(X|Y=y) = \int_{-\infty}^{\infty}xf_{x|y}(x|y) dx
\]</span></p>
<p>Where:</p>
<p><span class="math display">\[
f_{x|y}(x|y) = \frac{f_{x,y}(x,y)}{f_y(y)} = \frac{\text{Joint distribution of X and Y}}{\text{Marginal distribution of Y}}
\]</span></p>
<p>Which follows from the law of total probability</p>
</section>
<section id="whats-the-expected-value-of-a-1-roll-of-fair-die" class="level2">
<h2 class="anchored" data-anchor-id="whats-the-expected-value-of-a-1-roll-of-fair-die">What’s the expected value of a 1 roll of fair die?</h2>
<p><span class="math display">\[\begin{align*}
E(X)&amp;=\sum_{i=1}^{6}x_ip(x_i)\\
     &amp;=1/6\times(1+2+3+4+5+6)\\
     &amp;= 21/6\\
     &amp;=3.5
\end{align*}\]</span></p>
</section>
<section id="properties-of-expected-values" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-expected-values">Properties of Expected Values</h2>
<ul>
<li><p><span class="math inline">\(E(c)=c\)</span></p></li>
<li><p><span class="math inline">\(E(a+bX)=a+bE[X]\)</span></p></li>
<li><p><span class="math inline">\(E[E[X]]=X\)</span></p></li>
<li><p><span class="math inline">\(E[E[Y|X]]=E[Y]\)</span></p></li>
<li><p><span class="math inline">\(E[g(X)]=\int_{-\infty}^\infty g(x)f(x)dx\)</span></p></li>
<li><p><span class="math inline">\(E[g(X_1)+\dots+g(X_n)]=E[g(X_1)]+\dots E[g(X_n)\)</span></p></li>
<li><p><span class="math inline">\(E[XY]=E[X]E[Y]\)</span> if <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are independent</p></li>
</ul>
</section>
<section id="section-7" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section-7"></h2>
<section id="how-many-times-would-you-have-to-roll-a-fair-die-to-get-all-six-sides" class="level4">
<h4 class="anchored" data-anchor-id="how-many-times-would-you-have-to-roll-a-fair-die-to-get-all-six-sides">How many times would you have to roll a fair die to get all six sides?</h4>
<ul>
<li>We can think of this as the sum of the expected values for a series of geometric distributions with varying probabilities of success, <span class="math inline">\(p\)</span>. The expected value of a geometric variable is:</li>
</ul>
<div class="fragment">
<p><span class="math display">\[\begin{align*}E(X)&amp;=\sum_{k=1}^{\infty}kp(1-p)^{k-1} \\
&amp;=p\sum_{k=1}^{\infty}k(1-p)^{k-1} \\
&amp;=p\left(-\frac{d}{dp}\sum_{k=1}^{\infty}(1-p)^k\right) \text{(Chain rule)} \\
&amp;=p\left(-\frac{d}{dp}\frac{1-p}{p}\right) \text{(Geometric Series)} \\
&amp;=p\left(\frac{d}{dp}\left(1-\frac{1}{p}\right)\right)=p\left(\frac{1}{p^2}\right)=\frac1p\end{align*}\]</span></p>
</div>
</section>
</section>
<section id="rolling-a-fair-die-to-get-all-six-sides" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="rolling-a-fair-die-to-get-all-six-sides">Rolling a fair die to get all six sides</h2>
<p>For this question, we need to calculate the probability of success, p, after getting a side we need.</p>
<p>The probability of getting a side you need on your first role is 1. The probability of getting a side you need on the second role, is 5/6 and so the expected number of roles is 6/5, and so the expected number of rolls to get all six is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ev <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">1</span>){</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  ev[i] <span class="ot">&lt;-</span> <span class="dv">6</span><span class="sc">/</span>i</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Expected rolls for each 1 through 6th side</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rev</span>(ev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.0 1.2 1.5 2.0 3.0 6.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(ev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.7</code></pre>
</div>
</div>
</section>
<section id="variance" class="level2">
<h2 class="anchored" data-anchor-id="variance">Variance</h2>
<p>If <span class="math inline">\(X\)</span> has a finite mean <span class="math inline">\(E[X]=\mu\)</span>, then <span class="math inline">\(E[(X-\mu)^2]\)</span> is finite and called the <span class="blue">variance of <span class="math inline">\(X\)</span></span> which we write as <span class="math inline">\(\sigma^2\)</span> or <span class="math inline">\(Var[X]\)</span>.</p>
</section>
<section id="variance-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="variance-1">Variance</h2>
<p><span class="math display">\[\begin{align*}
\sigma^2=E[(X-\mu)^2]&amp;=E[(X^2-2\mu X+\mu^2)]\\
&amp;= E[X^2]-2\mu E[X]+\mu^2\\
&amp;= E[X^2]-2\mu^2+\mu^2\\
&amp;= E[X^2]-\mu^2\\
&amp;= E[X^2]-E[X]^2
\end{align*}\]</span></p>
<ul>
<li>“The variance of X is equal to the expected value of X-squared, minus the square of X’s expected value.”</li>
<li><span class="math inline">\(\sigma^2=E[X^2]-E[X]^2\)</span> is a useful identity in proofs and derivations</li>
</ul>
</section>
<section id="standard-deviations" class="level2">
<h2 class="anchored" data-anchor-id="standard-deviations">Standard Deviations</h2>
<p>A standard deviation is just the square root of the variance</p>
<p><span class="math display">\[\sigma=\sqrt{Var[X]}\]</span></p>
<p>Standard deviations are useful for describing:</p>
<ul>
<li>A typical deviation from the mean/Expected value</li>
<li>The width or spread of a distribution</li>
</ul>
</section>
<section id="covariance-and-correlation" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="covariance-and-correlation">Covariance and correlation</h2>
<div class="nonincremental">
<p>Covariance measures the degree to which two random variables vary together.</p>
<ul>
<li><span class="math inline">\(Cov[X,Y] \to +\)</span> An increase in <span class="math inline">\(X\)</span> tends to be larger than its mean when <span class="math inline">\(Y\)</span> is larger than its mean</li>
</ul>
<p><span class="math display">\[Cov[X,Y]=E[(X-E[X])(Y-E[Y])]=E[XY]-E[X]E[Y]\]</span></p>
<ul>
<li>The correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> is simply the covariance of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> divided by the standard deviation of each.</li>
</ul>
<p><span class="math display">\[\rho=\frac{Cov[X,Y]}{\sigma_X\sigma_Y}\]</span></p>
<ul>
<li>Normalized covariance to a scale that runs between <span class="math inline">\([-1,1]\)</span></li>
</ul>
</div>
</section>
<section id="properties-of-variance-and-covariance" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-variance-and-covariance">Properties of Variance and Covariance</h2>
<ul>
<li><p><span class="math inline">\(Cov[X,Y]=E[XY]-E[X]E[Y]\)</span></p></li>
<li><p><span class="math inline">\(Var[X]=E[X^2]-(E[X])^2\)</span></p></li>
<li><p><span class="math inline">\(Var[X|Y]=E[X^2|Y]-(E[X|Y])^2\)</span></p></li>
<li><p><span class="math inline">\(Cov[X,Y]=Cov[X,E[Y|X]]\)</span></p></li>
<li><p><span class="math inline">\(Var[X+Y]=Var[X]+Var[Y]+2Cov[X,Y]\)</span></p></li>
<li><p><span class="math inline">\(Var[Y]=Var[E[Y|X]]+E[Var[Y|X]]\)</span></p></li>
</ul>
</section>
<section id="what-you-need-to-know-wynk" class="level2">
<h2 class="anchored" data-anchor-id="what-you-need-to-know-wynk">What you need to know (WYNK)</h2>
<p>Honestly, for this class, you won’t need to know these properties.</p>
<p>They’ll show up in proofs and theorems and become important when you’re trying to evaluate properties of an estimator (isn’t unbiased, is it “efficient”, or consistent does it have minimum variance?) but that’s for another day/course.</p>
</section>
<section id="summary-random-variables-and-probability-distributions" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="summary-random-variables-and-probability-distributions">Summary: Random Variables and Probability Distributions</h2>
<ul>
<li><p><span class="blue">Random variables</span> assign numeric values to each event in an experiment.</p></li>
<li><p><span class="blue">Probability distributions</span> assign probabilities to the values that a random variable can take.</p>
<ul>
<li>Discrete distributions are described by their pmf and cdf</li>
<li>Continuous distributions by their pdf and cdf</li>
</ul></li>
</ul>
</section>
<section id="summary-random-variables-and-probability-distributions-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="summary-random-variables-and-probability-distributions-1">Summary: Random Variables and Probability Distributions</h2>
<ul>
<li><p>Probability distributions let us <span class="blue"><em>describe the data generating process</em></span> and encode information about the world into our models</p>
<ul>
<li>There are lots of distributions</li>
<li>Don’t worry about memorizing formulas</li>
<li>Do develop intuitions about the nature of your data generating process (Is my outcome continuous or disrecte, binary or count, etc.)</li>
</ul></li>
<li><p>Two key features of probability distributions are their:</p>
<ul>
<li><span class="blue">Expected values</span> probability weighted averages</li>
<li><span class="blue">Variances</span> which quantify variation around expected values</li>
</ul></li>
</ul>
</section>
</section>
<section id="standard-errors-for-regression" class="level1" data-background-image="https://www.phrases.org.uk/images/cart-before-the-horse.jpg" data-background-size="contain" data-background-opacity=".2">
<h1 data-background-image="https://www.phrases.org.uk/images/cart-before-the-horse.jpg" data-background-size="contain" data-background-opacity=".2"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Standard Errors for Regression</h1>
<section id="interpreting-regressions" class="level2">
<h2 class="anchored" data-anchor-id="interpreting-regressions">Interpreting regressions</h2>
<ul>
<li><p>Regression coefficients <span class="math inline">\((\beta)\)</span> are crucial for <span class="blue">substantive interpretations</span> (sign and size)</p></li>
<li><p>The <span class="blue">standard errors</span> of these coefficients <span class="math inline">\((SE(\beta))\)</span> are the key to evaluating the <span class="blue">statistical significance</span> of these coefficients</p></li>
</ul>
</section>
<section id="whats-a-standard-error" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="whats-a-standard-error">What’s a standard error?</h2>
<ul>
<li><p>The <span class="blue">standard error</span> of an estimate is the <span class="blue">standard deviation</span> of the theoretical <span class="blue">sampling distribution</span></p></li>
<li><p>A sampling distribution is a distribution of the estimates we would observe in <span class="blue">repeated sampling</span></p>
<ul>
<li>Example: Re-run the 1978 CPS, we get different respondents, and thus different estimates.</li>
</ul></li>
<li><p><span class="blue">Standard errors</span> describe the width of the sampling distribution</p>
<ul>
<li>How much our estimates might vary from the true (population) value from sample to sample.</li>
</ul></li>
<li><p><span class="blue">Standard errors</span> can be used to construct intervals and conduct tests that <span class="blue">quantify our uncertainty</span> about our estimate</p></li>
</ul>
</section>
<section id="section-8" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section-8"></h2>
<section id="standard-errors-of-regression-coefficients" class="level4">
<h4 class="anchored" data-anchor-id="standard-errors-of-regression-coefficients">Standard errors of regression coefficients</h4>
<p>For a linear regression written in matrix notation:</p>
<p><span class="math display">\[
y = X\beta + \epsilon
\]</span></p>
<p>OLS yields estimates of <span class="math inline">\(\beta\)</span>, <span class="math inline">\(\hat{\beta}\)</span> by minimizing the sum of squared residuals</p>
<p><span class="math display">\[
\hat{\beta} = (X'X)^{-1}X'y
\]</span></p>
</section>
</section>
<section id="section-9" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section-9"></h2>
<section id="standard-errors-of-regression-coefficients-1" class="level4">
<h4 class="anchored" data-anchor-id="standard-errors-of-regression-coefficients-1">Standard errors of regression coefficients</h4>
<p><a href="https://web.stanford.edu/~mrosenfe/soc_meth_proj3/matrix_OLS_NYU_notes.pdf" target="_blank">One can show</a> under a <a href="https://en.wikipedia.org/wiki/Linear_regression#Assumptions" target="_blank">set of assumptions</a> that variance-covariance matrix of <span class="math inline">\(\hat{\beta}\)</span> is</p>
<p><span class="math display">\[
\begin{aligned}
E[(\hat{\beta} -\beta)-(\hat{\beta} -\beta)'] &amp;= \sigma^2(X'X)^{-1}\\
&amp; = \begin{bmatrix}
Var(\hat\beta_0) &amp; Cov(\hat{\beta_0},\hat{\beta_1}) &amp; \cdots &amp; Cov(\hat{\beta_0},\hat{\beta_k}))\\
Cov(\hat\beta_1,\hat{\beta_0}) &amp; Var(\hat{\beta_1},) &amp; \cdots &amp; Cov(\hat{\beta_1},\hat{\beta_k}))\\
\vdots &amp; \vdots &amp; \vdots &amp; \vdots \\
Cov(\hat\beta_k,\hat{\beta_0}) &amp; Cov(\hat{\beta_k},\hat{\beta_1}) &amp; \cdots &amp; Var(\hat{\beta_k})\\
\end{bmatrix}
\end{aligned}
\]</span> Where we can estimate <span class="math inline">\(\sigma^2\)</span> with <span class="math inline">\(\hat{\sigma}^2\)</span> the mean <span class="math inline">\((1/n-k)\)</span> squared error <span class="math inline">\((\epsilon'\epsilon)\)</span> of the regression</p>
<p><span class="math display">\[
\hat{\sigma}^2 = \frac{\epsilon'\epsilon}{n-k}
\]</span></p>
</section>
</section>
<section id="section-10" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section-10"></h2>
<section id="standard-errors-of-regression-coefficients-2" class="level4">
<h4 class="anchored" data-anchor-id="standard-errors-of-regression-coefficients-2">Standard errors of regression coefficients</h4>
<p>The standard error for the <span class="math inline">\(k\)</span>th coefficient <span class="math inline">\(\beta_k\)</span> is simply the square root of the of the <span class="math inline">\(k\)</span>th diagnoal element of the <span class="blue">variance-covariance matrix</span></p>
<p><span class="math display">\[
\text{SE}(\beta_k) = \sqrt{Var(\beta_k)}
\]</span></p>
</section>
</section>
<section id="robust-standard-errors" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="robust-standard-errors">Robust Standard Errors</h2>
<p><span class="math inline">\(\sigma^2(X'X)^{-1}\)</span> is a good estimate of the variance of <span class="math inline">\(\hat{\beta}\)</span> if the errors in a regression are <span class="blue">independent</span> and <span class="blue">identically distributed</span> (iid).</p>
<p>These turn out to be <span class="blue">strong assumptions</span> that are violated when there is:</p>
<ul>
<li><span class="blue">Non-constant error variance</span> (aka heteroskedasticity)
<ul>
<li>The variance among the treated units tends to be higher than the variance among control units</li>
</ul></li>
<li><span class="blue">Autocorrelation</span>
<ul>
<li>We observe the <span class="blue">same unit</span> over <span class="blue">multiple periods</span> (Say RI in 2016, 2018, 2020)</li>
</ul></li>
<li><span class="blue">Clustering</span>
<ul>
<li>Respondents in RI are more similar to each other than respondents in MA</li>
</ul></li>
</ul>
</section>
<section id="robust-standard-errors-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="robust-standard-errors-1">Robust Standard Errors</h2>
<ul>
<li><p><span class="blue">Robust standard errors</span> are ways of <span class="blue">calculating standard errors</span> for regressions when we think the assumption of <span class="blue">IID errors</span> is unrealistic</p>
<ul>
<li>The assumption of IID is almost always unrealistic…</li>
</ul></li>
<li><p>We call these of estimators <span class="blue">robust</span> because they provide <a href="https://en.wikipedia.org/wiki/Consistent_estimator" target="_blank">consistent</a> estimates of the SE even when errors are not <span class="blue">independent</span> and <span class="blue">identically distributed</span>.</p></li>
</ul>
</section>
<section id="robust-standard-errors-in-r" class="level2">
<h2 class="anchored" data-anchor-id="robust-standard-errors-in-r">Robust standard errors in R</h2>
<p><img src="images/08_robust.jpg" class="img-fluid"></p>
</section>
<section id="lm_robust" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="lm_robust"><code>lm_robust()</code></h2>
<p>In this weeks lab we will get practice using the <code>lm_robust()</code> function from the <code>estimatr</code>.</p>
<p>As you will see, <code>lm_robust()</code> provides a convenient way to:</p>
<ul>
<li>calculate a variety of robust <span class="blue">standard errors</span> using the <code>se_type = "stata"</code> argument for example to get the SEs Stata uses</li>
<li>include <span class="blue">fixed effects</span> using <code>fixed_effects = ~ st + year</code> argument</li>
<li>cluster standard errors by some grouping id variable <code>cluster=st</code></li>
<li>generate estimates quickly using the <span class="blue">Cholesky Decomposition</span></li>
</ul>
</section>
</section>
<section id="previewing-lab-8" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i> Previewing Lab 8</h1>
<section id="overview-1" class="level2">
<h2 class="anchored" data-anchor-id="overview-1">Overview</h2>
<p>The goals of this weeks lab are to:</p>
<ul>
<li><p>Help develop your inuition behind the Two-way Fixed Effects Estimator</p></li>
<li><p>Learn how to estimate models with fixed effects and robust clustered standard errors using <code>lm_robust()</code></p></li>
<li><p>Interpret the marginal effects of interaction models</p></li>
</ul>
</section>
<section id="recreating-figure-2" class="level2">
<h2 class="anchored" data-anchor-id="recreating-figure-2">Recreating Figure 2</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Task</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><i class="fa-solid fa-code" aria-label="code"></i> Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false"><i class="fa-solid fa-chart-line" aria-label="chart-line"></i> Fig 2</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Question 8 from last week’s lab asked you to recreate Figure 2 from <span class="citation" data-cites="Grumbach2022-zj">Grumbach and Hill (<a href="#ref-Grumbach2022-zj" role="doc-biblioref">2022</a>)</span></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"https://pols1600.paultesta.org/files/data/cps_clean.rda"</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate turnout by age group and SDR</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>cps <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_group, SDR) <span class="sc">%&gt;%</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop_vote =</span> <span class="fu">mean</span>(dv_voted, <span class="at">na.rm=</span>T)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> fig2_df</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Recreate figure 2</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>fig2_df <span class="sc">%&gt;%</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(age_group)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(age_group,prop_vote,<span class="at">fill =</span> SDR))<span class="sc">+</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="ot">-&gt;</span> fig2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/fig2-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="q3.1-describing-variation-across-states" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="q3.1-describing-variation-across-states">Q3.1 Describing variation across states</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Task</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><i class="fa-solid fa-code" aria-label="code"></i> Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false"><i class="fa-solid fa-chart-line" aria-label="chart-line"></i> Fig 3.1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Fixed Effects</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Q3 will ask you to describe variation in turnout across states and years, and policy.</p>
<p>Let’s get a little practice calculating turnout across states</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate turnout by state</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>cps <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(st) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">turnout =</span> <span class="fu">mean</span>(dv_voted, <span class="at">na.rm=</span>T)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">st =</span> <span class="fu">fct_reorder</span>(st, turnout)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="ot">-&gt;</span> df_state</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize turnout by state</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>df_state <span class="sc">%&gt;%</span> </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(turnout,st))<span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="ot">-&gt;</span> fig3_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08-slides_files/figure-revealjs/fig3_1-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>As you can see, there is considerable variation in average turnout across States</p>
<p>Q3.2 will ask you to describe similar variation across years.</p>
<p>Q3.3 will then ask you to look at variation across SDR policy within a single state.</p>
<p>The goal these questions is to help illustrate motivation for including <span class="blue">fixed effects</span> as way of generalizing the logic of a <span class="blue">difference in differences</span> design</p>
</div>
</div>
</div>
</section>
<section id="references" class="level2">




</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Grumbach2022-zj" class="csl-entry" role="listitem">
Grumbach, Jacob M, and Charlotte Hill. 2022. <span>“<span class="nocase">Rock the Registration: Same Day Registration Increases Turnout of Young Voters</span>.”</span> <em>The Journal of Politics</em> 84 (1): 405–17.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>If you’re Group 01 don’t change your name to Group 4<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>