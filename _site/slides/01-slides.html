<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>POLS 1600</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.31/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">POLS 1600</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../class/index.html"> 
<span class="menu-text">Class</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignments/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="01-slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">POLS 1600</h1>
<p class="subtitle lead">Data and Measurement</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Updated Jan 30, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-map-location" aria-label="map-location"></i> Overview</h1>
<section id="class-plan" class="level2">
<h2 class="anchored" data-anchor-id="class-plan">Class Plan</h2>
<ul>
<li>Logistics (15 minutes)
<ul>
<li>Announcements</li>
<li>Feedback</li>
</ul></li>
<li>Class plan (60 minutes)
<ul>
<li>Introduction to R, R Studio and Quarto</li>
<li>Loading and Looking at Data in R</li>
<li>Transforming, Recoding, and Cleaning Data in R</li>
<li>Describing Data in R</li>
<li>Exploring Covid-19 Data for Lab</li>
</ul></li>
</ul>
</section>
<section id="annoucements" class="level2">
<h2 class="anchored" data-anchor-id="annoucements">Annoucements</h2>
<ul>
<li><p>If it’s your first time here you’ll need to work through <a href="../resources/00-software-setup.html" target="_blank">Software Setup</a> to follow along today</p>
<ul>
<li>Talk to me after class if you’re having installation issues</li>
</ul></li>
<li><p>If you’re still on the waitlist on CAB, speak to me after class</p></li>
</ul>
</section>
<section id="announcements" class="level2">
<h2 class="anchored" data-anchor-id="announcements">Announcements</h2>
<blockquote class="twitter-tweet blockquote" data-media-max-width="560">
<p lang="en" dir="ltr">
"Uh ohhh, the Cavs are playing playoff basketball" <a href="https://t.co/WrOrzeuEtW">pic.twitter.com/WrOrzeuEtW</a>
</p>
— Bottlegate (<span class="citation" data-cites="Bottlegate">(<a href="#ref-Bottlegate" role="doc-biblioref"><strong>Bottlegate?</strong></a>)</span>) <a href="https://twitter.com/Bottlegate/status/855250365402447872?ref_src=twsrc%5Etfw">April 21, 2017</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</section>
<section id="tutorials" class="level2">
<h2 class="anchored" data-anchor-id="tutorials">Tutorials</h2>
<p>Once you’ve done the following</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rstudio/learnr"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rstudio-education/gradethis"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"PaulTestaBrown/qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can see the available problem sets by running the following code in your console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>learnr<span class="sc">::</span><span class="fu">run_tutorial</span>(<span class="at">package =</span> <span class="st">"qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tutorials-1" class="level2">
<h2 class="anchored" data-anchor-id="tutorials-1">Tutorials</h2>
<p>And start a specific tutorial by running:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>learnr<span class="sc">::</span><span class="fu">run_tutorial</span>(<span class="st">"00-intro"</span>, <span class="at">package =</span> <span class="st">"qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="blue">Please upload tutorials 00-intro and 01-measurement1 to Canvas by Friday</span></p>
</section>
<section id="section" class="level2" data-background-image="https://upload.wikimedia.org/wikipedia/en/thumb/0/04/How_to_Get_Away_with_Murder_season_5_poster.jpg/220px-How_to_Get_Away_with_Murder_season_5_poster.jpg" data-background-size="contain">
<h2 data-background-image="https://upload.wikimedia.org/wikipedia/en/thumb/0/04/How_to_Get_Away_with_Murder_season_5_poster.jpg/220px-How_to_Get_Away_with_Murder_season_5_poster.jpg" data-background-size="contain" class="anchored" data-anchor-id="section"></h2>
</section>
<section id="youve-committed-a-murder" class="level2">
<h2 class="anchored" data-anchor-id="youve-committed-a-murder">You’ve committed a murder</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01-slides_files/figure-revealjs/murder-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="why" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="why">Why</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e883fe25059dec6a49e9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e883fe25059dec6a49e9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],["Dad","Mom","Mom","Mom","Dad","Dad","Dad","Mom","Mom","Dad","Mom","Mom","Mom","Mom","Mom","Dad","Dad","Dad"],["he doesn't trust the government but also he'd get me a really good lawyer","She won't remember I told her","My mom watches all these murder mystery shows, so she must have picked up something to help.","While I think she would be shocked, she would be understanding and help me. She is really good at research and dealing with furstrating systems of people and getting her way. I think she would do a good job covering it up and bribing people and tying up all the loose ends. She is detail-oriented and organized.","I will probably get caught, so running away is not an option. The next course of action for me is to discuss what steps I need to take to receive the lowest charge/conviction possible (I would have likely murdered someone accidentally because I do not have the guts to do such as act even if I thought about it). My mother has been a stay at home mother most of her life so it is a natural decision for me to ask my father for advise.","He'd help me get away with it","he's a lawyer","1. My mom is a literal Harvard lawyer. 2. My mom will be more willing to help me address the issue. 3. My mom is more responsive.","My mom is the coolest person you will ever meet and my best friend. She's also somehow always right.","My dad is an incredible problem-solver and he is always the person I turn to ask for help with concerning issues that require quick thinking and non-BS immediate action. My mom, on the other hand, tends to be the person that I ask for help with when I need emotional and mental support, which I also 100% need given that I am a murderer, but I think my primary concern here is more logistical ie. discarding the body, creating my alibi, framing someone (?)","She'll help me cover it up!!!","I don't speak to my dad &amp;lt;3","She knows ME very well, the good, bad, and confusing. Also, she's completely prepared for any situation and somehow always has a plan for everything. Over the years, I've come to trust her judgement 1000%.","I have a closer relationship with my mom, and she's more of a logical problem-solver so I believe she'll be objective and know what to do next.","I feel like she would just know what to do. My dad would ask too many questions.","My dad is very calm and I feel like he would be able to keep a secret better than my mom. I think my mom would probably be very driven to help me but would leave more loose ends...hopefully it never comes to this!","My dad would help me bury the body no questions asked. I'm his baby girl anything to keep his daughter safe.","I think he would be more calm and have a better idea of what to do."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Who would you tell?<\/th>\n      <th>Why?<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Who would you tell?","targets":1},{"name":"Why?","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="why-do-you-ask" class="level2">
<h2 class="anchored" data-anchor-id="why-do-you-ask">Why do you ask?</h2>
<p>It’s cousin Nick’s fault…</p>
<ul>
<li><p>Funny icebreaker, but lots of assumptions…</p>
<ul>
<li><p>You’re not a murderer</p></li>
<li><p>You don’t know someone who’s committed a murder or been murdered</p></li>
<li><p>You’ve got a mom and dad</p></li>
</ul></li>
</ul>
</section>
<section id="why-do-you-ask-1" class="level2">
<h2 class="anchored" data-anchor-id="why-do-you-ask-1">Why do you ask?</h2>
<ul>
<li><p>How might we make this question better?</p>
<ul>
<li>Use a screener question
<ul>
<li>“Would you feel comfortable…”</li>
</ul></li>
<li>“Pipe” in responses from a prior question
<ul>
<li>“Who are two people who raised you…”</li>
</ul></li>
</ul></li>
</ul>
<p>. . .</p>
<p><span class="blue"><strong>What questions we ask and how we ask them matters</strong></span></p>
</section>
<section id="hopes-and-dreams-fears-and-worries" class="level2">
<h2 class="anchored" data-anchor-id="hopes-and-dreams-fears-and-worries">Hopes and Dreams, Fears and Worries</h2>
<div class="columns">
<div class="column" style="width:48%;">
<p>What are we <span class="blue">excited</span> about?</p>
<ul>
<li>Engaging with social science</li>
<li>Learning statistics and math</li>
<li>Learning to code</li>
</ul>
</div><div class="column" style="width:48%;">
<p><span class="fragment">What are we <span class="blue">worried</span> about?</span></p>
<ul>
<li>Engaging with social science</li>
<li>Learning statistics and math</li>
<li>Learning to code</li>
</ul>
</div>
</div>
</section>
</section>
<section id="introduction-to-r-r-studio-and-quarto" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Introduction to R, R Studio and Quarto</h1>
<section id="overview-1" class="level2">
<h2 class="anchored" data-anchor-id="overview-1">Overview</h2>
<ul>
<li><p>R, R Studio and Quarto</p></li>
<li><p>Getting set up to work in R</p></li>
<li><p>Basic Programming in R</p></li>
</ul>
</section>
<section id="r-r-studio-and-quarto" class="level2">
<h2 class="anchored" data-anchor-id="r-r-studio-and-quarto">R, R Studio and Quarto</h2>
<ul>
<li><p><span class="blue">R</span> is an open source <span class="blue">statistical programming language</span> (<a href="https://rstudio.github.io/cheatsheets/base-r.pdf" target="_blank">cheatsheet</a>)</p></li>
<li><p><span class="blue">R Studio</span> is an <span class="blue">integrated development environment (IDE)</span> that makes working in R <span class="blue">much</span> easier (<a href="https://rstudio.github.io/cheatsheets/html/rstudio-ide.html?_gl=1*1i40yim*_ga*MTE1MDU5MzUyNC4xNzAzMTgzMDI2*_ga_2C0WZ1JHG0*MTcwNjU3MDk4Mi43LjAuMTcwNjU3MDk4Mi4wLjAuMA.." target="_blank">cheatsheet</a>)</p></li>
<li><p><span class="blue">Quarto</span> is a publishing system that allows us to write and present code in <span class="blue">different formats</span> (<a href="https://rstudio.github.io/cheatsheets/html/quarto.html?_gl=1*nz9m6y*_ga*MTE1MDU5MzUyNC4xNzAzMTgzMDI2*_ga_2C0WZ1JHG0*MTcwNjU3MDk4Mi43LjAuMTcwNjU3MDk4Mi4wLjAuMA.." target="_blank">cheatsheet</a>)</p></li>
</ul>
</section>
<section id="general-tuesday-workflow" class="level2">
<h2 class="anchored" data-anchor-id="general-tuesday-workflow">General Tuesday Workflow</h2>
<ul>
<li><p>Go to <a href="https://pols1600.paultesta.org" class="uri" target="_blank">https://pols1600.paultesta.org</a></p></li>
<li><p>Go to class content for current week</p></li>
<li><p>Open slides in browser</p></li>
<li><p>Open R Studio</p></li>
<li><p>Create .qmd file titled <code>wk01-notes.qmd</code> and save in course folder</p></li>
<li><p>Get set up to work</p></li>
<li><p>Take notes and follow along</p></li>
</ul>
</section>
<section id="lets-create-a-.qmd-file" class="level2 inverse">
<h2 class="inverse anchored" data-anchor-id="lets-create-a-.qmd-file"><i class="fa-solid fa-code" aria-label="code"></i> Let’s create a .qmd file</h2>
</section>
<section id="three-components-of-a-.qmd" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="three-components-of-a-.qmd">Three components of a .qmd</h2>
<div class="nonincremental">
<ul>
<li>Control output with YAML header</li>
</ul>
<pre><code>  ---
  title: "Title here"
  author: "Your name"
  format:
    html:
      toc: true
  ---</code></pre>
<ul>
<li>Write code Blocks/Chunks</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo: true</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="in">2+2</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Describe code using Markdown</p>
<ul>
<li>See Help &gt; Markdown quick reference</li>
</ul></li>
</ul>
</div>
</section>
<section id="the-basics-of-r" class="level2">
<h2 class="anchored" data-anchor-id="the-basics-of-r">The Basics of R</h2>
<ul>
<li><p>R is an interpreter (&gt;)</p></li>
<li><p>“Everything that exists in R is an object”</p></li>
<li><p>“Everything that happens in R is the result of a function”</p></li>
<li><p>Data come in different types, shapes, and sizes</p></li>
<li><p>Packages make R great</p></li>
</ul>
</section>
<section id="r-is-an-interpreter" class="level2">
<h2 class="anchored" data-anchor-id="r-is-an-interpreter">R is an interpreter (&gt;)</h2>
<p>Enter commands line-by-line in the console</p>
<ul>
<li><p>The <code>&gt;</code> means R is a ready for a command</p></li>
<li><p>The <code>+</code> means your last command isn’t complete</p>
<ul>
<li>If you get stuck with a <code>+</code> use your escape key!</li>
</ul></li>
<li><p>Send code from .qmd file to the console:</p>
<ul>
<li><code>cntrl + Enter</code> (PC) | <code>cmd + Return</code> (Mac) -&gt; run current line</li>
<li><code>cntrl + shift + Enter</code> (PC) | <code>cmd + shift  + Return</code> (Mac) -&gt; run all code in current chunk</li>
</ul></li>
</ul>
</section>
<section id="r-is-a-calculator" class="level2">
<h2 class="anchored" data-anchor-id="r-is-a-calculator">R is a Calculator</h2>
<table data-quarto-postprocess="true" class="table">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Operator</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">+</td>
<td style="text-align: left;">addition</td>
<td style="text-align: left;">x + y</td>
</tr>
<tr class="even">
<td style="text-align: left;">-</td>
<td style="text-align: left;">subtraction</td>
<td style="text-align: left;">x - y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">*</td>
<td style="text-align: left;">multiplication</td>
<td style="text-align: left;">x * y</td>
</tr>
<tr class="even">
<td style="text-align: left;">/</td>
<td style="text-align: left;">division</td>
<td style="text-align: left;">x / y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">^</td>
<td style="text-align: left;">raised to the power of</td>
<td style="text-align: left;">x ^ y</td>
</tr>
<tr class="even">
<td style="text-align: left;">abs</td>
<td style="text-align: left;">absolute value</td>
<td style="text-align: left;">abs(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">%/%</td>
<td style="text-align: left;">integer division</td>
<td style="text-align: left;">x %/% y</td>
</tr>
<tr class="even">
<td style="text-align: left;">%%</td>
<td style="text-align: left;">remainder after division</td>
<td style="text-align: left;">x %% y</td>
</tr>
</tbody>
</table>


</section>
<section id="r-is-logical" class="level2">
<h2 class="anchored" data-anchor-id="r-is-logical">R is logical</h2>
<table data-quarto-postprocess="true" class="table">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Operator</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">&amp;</td>
<td style="text-align: left;">and</td>
<td style="text-align: left;">x &amp; y</td>
</tr>
<tr class="even">
<td style="text-align: left;">|</td>
<td style="text-align: left;">or</td>
<td style="text-align: left;">x | y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">xor</td>
<td style="text-align: left;">exactly x or y</td>
<td style="text-align: left;">xor(x, y)</td>
</tr>
<tr class="even">
<td style="text-align: left;">!</td>
<td style="text-align: left;">not</td>
<td style="text-align: left;">!x</td>
</tr>
</tbody>
</table>


</section>
<section id="r-is-logical-1" class="level2">
<h2 class="anchored" data-anchor-id="r-is-logical-1">R is logical</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> T; y <span class="ot">&lt;-</span> F</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> T <span class="sc">&amp;</span> y <span class="sc">==</span> T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> T <span class="sc">|</span> y <span class="sc">==</span> T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="r-can-make-comparisons" class="level2">
<h2 class="anchored" data-anchor-id="r-can-make-comparisons">R can make comparisons</h2>
<table data-quarto-postprocess="true" class="table">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Operator</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">&lt;</td>
<td style="text-align: left;">less than</td>
<td style="text-align: left;">x &lt; y</td>
</tr>
<tr class="even">
<td style="text-align: left;">&lt;=</td>
<td style="text-align: left;">less than or equal to</td>
<td style="text-align: left;">x &lt;= y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">&gt;</td>
<td style="text-align: left;">greater than</td>
<td style="text-align: left;">x &gt; y</td>
</tr>
<tr class="even">
<td style="text-align: left;">&gt;=</td>
<td style="text-align: left;">greater than or equal to</td>
<td style="text-align: left;">x &gt;= y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">==</td>
<td style="text-align: left;">exactly equal to</td>
<td style="text-align: left;">x == y</td>
</tr>
<tr class="even">
<td style="text-align: left;">!=</td>
<td style="text-align: left;">not equal to</td>
<td style="text-align: left;">x != y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">%in%</td>
<td style="text-align: left;">group membership*</td>
<td style="text-align: left;">x %in% y</td>
</tr>
<tr class="even">
<td style="text-align: left;">is.na</td>
<td style="text-align: left;">is missing</td>
<td style="text-align: left;">is.na(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">!is.na</td>
<td style="text-align: left;">is not missing</td>
<td style="text-align: left;">!is.na(x)</td>
</tr>
</tbody>
</table>


</section>
<section id="everything-that-exists-in-r-is-an-object" class="level2">
<h2 class="anchored" data-anchor-id="everything-that-exists-in-r-is-an-object">Everything that exists in R is an object</h2>
<div class="nonincremental">
<ul>
<li>The number 5 is an object in R</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<ul>
<li>We can assign the object 5, the name x, using the assignment operator <code>&lt;-</code>+</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># Read this as "x gets 5"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Now if we tell R to show us x, we’ll get</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="data-come-in-different-types" class="level2">
<h2 class="anchored" data-anchor-id="data-come-in-different-types">Data come in different types</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="http://r4ds.had.co.nz/diagrams/data-structures-overview.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-come-in-different-types-1" class="level2">
<h2 class="anchored" data-anchor-id="data-come-in-different-types-1">Data come in different types</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create some data</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Numeric</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># Double</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">6</span>L <span class="co"># Integer</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Logical</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>only_two_types_of_people <span class="ot">&lt;-</span> <span class="cn">TRUE</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Character</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>me <span class="ot">&lt;-</span> <span class="st">"Paul"</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Factor</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>grades <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What type are they?</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(only_two_types_of_people)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(me)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(grades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="data-come-in-different-shapes-and-sizes" class="level2">
<h2 class="anchored" data-anchor-id="data-come-in-different-shapes-and-sizes">Data come in different “shapes” and “sizes”</h2>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MgEQsDgZZ7fJcdhZ.png" class="img-fluid"></p>
<p>Source: <a href="https://medium.com/@tiwarigaurav2512/r-data-types-847fffb01d5b" target="_blank">Gaurav Tiwari</a></p>
</section>
<section id="section-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section-1"></h2>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>“Size”</th>
<th>Type of Data</th>
<th>R code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>scalar</td>
<td>1</td>
<td>numeric, character, factor, logical</td>
<td><code>x &lt;- 5</code></td>
</tr>
<tr class="even">
<td>vector</td>
<td>N elements: <code>length(x)</code></td>
<td>all the same</td>
<td><code>v &lt;- c(1, 2, T, "false")</code></td>
</tr>
<tr class="odd">
<td>matrix</td>
<td>N rows by columns K: <code>dim(x)</code></td>
<td>all the same</td>
<td><code>m &lt;- matrix(y,2,2)</code></td>
</tr>
<tr class="even">
<td>array</td>
<td>N row by K column by J dimensions: <code>dim(x)</code></td>
<td>all the same</td>
<td><code>a &lt;- array(m,c(2,2,3))</code></td>
</tr>
<tr class="odd">
<td>data frames</td>
<td>N row by K column matrix</td>
<td>can be different</td>
<td><code>d &lt;-data.frame(x=x, y=y)</code></td>
</tr>
<tr class="even">
<td>tibbles</td>
<td>N row by K column matrix</td>
<td>can be different</td>
<td><code>d &lt;-tibble(x=x, y=y)</code></td>
</tr>
<tr class="odd">
<td>lists</td>
<td>can vary</td>
<td>can be different</td>
<td><code>l &lt;-list(x,y,m,a,d)</code></td>
</tr>
</tbody>
</table>
</section>
<section id="everything-that-happens-in-r-is-the-result-of-a-function" class="level2">
<h2 class="anchored" data-anchor-id="everything-that-happens-in-r-is-the-result-of-a-function">Everything that happens in R is the result of a function</h2>
<ul>
<li>You’ve already seen and used some R functions
<ul>
<li>the <code>&lt;-</code> is the assignement operator that assigns a value to a name</li>
<li><code>c()</code> is the combine function that combines elements together</li>
<li><code>install.packages()</code> installs packages</li>
<li><code>library()</code> loads packages you’ve installed so you can use functions and data that are part of that package</li>
</ul></li>
</ul>
</section>
<section id="three-sources-of-functions" class="level2">
<h2 class="anchored" data-anchor-id="three-sources-of-functions">Three sources of functions</h2>
<p>Three sources of functions:</p>
<ul>
<li>base R
<ul>
<li><code>&lt;-; mean(x); library("package_name")</code></li>
</ul></li>
<li>packages
<ul>
<li><code>install.packages("packageName)"</code></li>
<li><code>remotes::intall_github("user/repository")</code></li>
</ul></li>
<li>You
<ul>
<li><code>my_function &lt;- function(x){x^2}</code></li>
</ul></li>
</ul>
</section>
<section id="functions-are-like-recipes" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="functions-are-like-recipes">Functions are like recipes</h2>
<p>They have:</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><p>names</p></li>
<li><p>ingredients (inputs)</p></li>
<li><p>steps that tell you what to do with the ingredients (statements/code)</p></li>
<li><p>tasty results from applying those steps to given ingredients (outputs)</p></li>
</ul>
</div><div class="column" style="width:60%;">
<p><img src="https://www.rforecology.com/functions_image0_new.png" class="img-fluid"> <a href="https://www.rforecology.com/post/how-to-create-your-own-function-in-r/" target="_blank">(Source)</a></p>
</div>
</div>
</section>
<section id="can-i-kick-it" class="level2">
<h2 class="anchored" data-anchor-id="can-i-kick-it">Can I kick it?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>can_x_kick_it <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Determine if x can kick it</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If x in A Tribe Called Quest</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Q-Tip"</span>,<span class="st">"Phife Dawg"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Ali Shaheed Muhammad"</span>, </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Jarobi White"</span>)){</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"Yes you can"</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"Before this, did you really know what live was?"</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="fu">can_x_kick_it</span>(<span class="st">"Q-Tip"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Yes you can"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">can_x_kick_it</span>(<span class="st">"Paul"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Before this, did you really know what live was?"</code></pre>
</div>
</div>
</section>
<section id="getting-setup-to-work-in-r" class="level2">
<h2 class="anchored" data-anchor-id="getting-setup-to-work-in-r">Getting setup to work in R</h2>
<p>Each time you start a project in R, you will want to:</p>
<ul>
<li><p>Set your working directory</p></li>
<li><p>Load (and if needed, install) the R packages you will use</p></li>
<li><p>Set any “global” options you want</p></li>
<li><p>Load the data you’ll be using</p></li>
</ul>
</section>
<section id="set-your-working-directory" class="level2">
<h2 class="anchored" data-anchor-id="set-your-working-directory">Set your working directory</h2>
<p><img src="https://statisticsglobe.com/wp-content/uploads/2020/03/figure-2-set-working-directory-to-source-file-location-manually.png" class="img-fluid"></p>
</section>
<section id="load-and-if-needed-install-the-r-packages-you-will-use" class="level2">
<h2 class="anchored" data-anchor-id="load-and-if-needed-install-the-r-packages-you-will-use">Load (and if needed, install) the R packages you will use</h2>
<div class="nonincremental">
<ul>
<li><p>Install packages <span class="blue">once</span><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> with <code>install.packages("package_name")</code></p></li>
<li><p>Load packages <span class="blue">every session</span> with <code>library("package_name")</code></p></li>
</ul>
</div>
</section>
<section id="install-packages-for-the-lab" class="level2 inverse">
<h2 class="inverse anchored" data-anchor-id="install-packages-for-the-lab"><i class="fa-solid fa-code" aria-label="code"></i> Install packages for the lab</h2>
</section>
<section id="install-packages-for-the-lab-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="install-packages-for-the-lab-1">Install packages for the lab</h2>
<p>Let’s install the <code>tidyverse</code> and <code>COVID19</code>.</p>
<div class="nonincremental">
<ul>
<li>Create a new code chunk</li>
<li>Label it <code>libraries</code></li>
<li>Copy and paste the following into your console</li>
</ul>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"COVID19"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="nonincremental">
<ul>
<li>Once you’ve installed these packages comment out the code</li>
</ul>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("COVID19")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Keyboard Shortcuts to toggle <code>#</code> comments
</div>
</div>
<div class="callout-body-container callout-body">
<p>macOS: <code>CMD</code> + <code>SHIFT</code> + <code>C</code></p>
<p>PC: <code>CTRL</code> + <code>SHIFT</code> + <code>C</code></p>
</div>
</div>
</section>
<section id="loading-the-tidyverse-and-covid19-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-tidyverse-and-covid19-packages">Loading the <code>tidyverse</code> and <code>COVID19</code> packages</h2>
<ul>
<li>Type the following into your code chunk:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(COVID19)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="set-any-global-options-you-want" class="level2">
<h2 class="anchored" data-anchor-id="set-any-global-options-you-want">Set any “global” options you want</h2>
<p>Here are the global options for these slides:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Options for these slides</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">warning =</span> <span class="cn">FALSE</span>,       <span class="co"># Don't display warnings</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">message =</span> <span class="cn">FALSE</span>,       <span class="co"># Don't display messages</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">comment =</span> <span class="cn">NA</span>,          <span class="co"># No prefix before line of text</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">dpi =</span> <span class="dv">300</span>,             <span class="co"># Figure resolution</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.align =</span> <span class="st">"center"</span>,  <span class="co"># Figure alignment</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">out.width =</span> <span class="st">"80%"</span>,     <span class="co"># Figure width</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">cache =</span> <span class="cn">FALSE</span>          <span class="co"># Don't cache code chunks</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-the-data-youll-be-using" class="level2">
<h2 class="anchored" data-anchor-id="load-the-data-youll-be-using">Load the data you’ll be using</h2>
<p>There are three ways to load data.</p>
<ul>
<li>Load a pre-existing dataset
<ul>
<li><code>data("dataset")</code> will load the dataset named “dataset”</li>
<li><code>data()</code> will list all datasets</li>
</ul></li>
<li>Load a .Rdata/.rda file using <code>load("dataset.rda")</code></li>
<li>Read data of a different format (.csv, .dta, .spss) into R using specific functions from packages like <code>haven</code> and <code>readr</code></li>
</ul>
</section>
</section>
<section id="working-with-data-in-r" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Working with Data in R</h1>
<section id="overview-working-with-data-in-r" class="level2">
<h2 class="anchored" data-anchor-id="overview-working-with-data-in-r">Overview: Working with Data in R</h2>
<ul>
<li><p>Loading data into R</p></li>
<li><p>Looking at your data</p></li>
<li><p>Cleaning and transforming your data</p></li>
</ul>
</section>
<section id="loading-data-into-r" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="loading-data-into-r">Loading data into R</h2>
<p>There are three ways to load data.</p>
<ul>
<li>Load a pre-existing dataset
<ul>
<li><code>data("dataset")</code> will load the dataset named “dataset”</li>
<li><code>data()</code> will list all datasets</li>
<li>Useful for tutorials, working through examples/help</li>
</ul></li>
<li>Load a .Rdata/.rda file using <code>load("dataset.rda")</code></li>
<li>Read data of a different format (.csv, .dta, .spss) into R using specific functions
<ul>
<li>We will use functions from the <code>haven</code> and <code>readr</code> packages to read data from the web and stored locally on your computer</li>
</ul></li>
</ul>
</section>
<section id="loading-state-level-covid-data" class="level2 inverse">
<h2 class="inverse anchored" data-anchor-id="loading-state-level-covid-data"><i class="fa-solid fa-code" aria-label="code"></i> Loading state-level Covid data</h2>
</section>
<section id="loading-state-level-covid-data-1" class="level2">
<h2 class="anchored" data-anchor-id="loading-state-level-covid-data-1">Loading state-level Covid data</h2>
<p>The code below downloads two years of daily state-level Covid data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>covid <span class="ot">&lt;-</span> COVID19<span class="sc">::</span><span class="fu">covid19</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">country =</span> <span class="st">"US"</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">start =</span> <span class="st">"2020-01-01"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">end =</span> <span class="st">"2022-12-31"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">level =</span> <span class="dv">2</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> F</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Please run the following<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"https://pols1600.paultesta.org/files/data/covid.rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-state-level-covid-data-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="loading-state-level-covid-data-2">Loading state-level Covid data</h2>
<div class="nonincremental">
<ul>
<li><code>country = US</code> tells the function we want data for the US</li>
<li><code>start = "2020-01-01"</code> sets the start date for the data</li>
<li><code>start = "2020-01-01"</code> sets the end date for the data</li>
<li><code>level = 2</code> tells the function we want state-level data</li>
<li><code>verbose = F</code> tells the function not to print other stuff</li>
</ul>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>covid <span class="ot">&lt;-</span> COVID19<span class="sc">::</span><span class="fu">covid19</span>(</span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="at">country =</span> <span class="st">"US"</span>,</span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="at">start =</span> <span class="st">"2020-01-01"</span>,</span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="at">end =</span> <span class="st">"2022-12-31"</span>,</span>
<span id="cb42-5"><a href="#cb42-5"></a>  <span class="at">level =</span> <span class="dv">2</span>,</span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="at">verbose =</span> F</span>
<span id="cb42-7"><a href="#cb42-7"></a>    </span>
<span id="cb42-8"><a href="#cb42-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="looking-at-your-data" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="looking-at-your-data">Looking at your data</h2>
<p>Anytime you load data into R, try some combination of the following to get a <span class="blue">high-level overview (HLO)</span> of the data</p>
<ul>
<li><code>dim(data)</code> gives you the dimensions (# of rows and columns)</li>
<li><code>View(data)</code> opens data in a separate pane</li>
<li><code>print(data); data</code> will display a truncated view of data in your console</li>
<li><code>glimpse(data)</code> will show a transposed (switch columns and rows) version of data with information on variable type</li>
<li><code>head(data)</code> shows you the first 5 rows</li>
<li><code>tail(data)</code> shows you the last 5 rows</li>
<li><code>data$variable</code> extracts <code>variable</code> from <code>data</code></li>
<li><code>table(data$variable)</code> creates a frequency table
<ul>
<li>Good for categorical data</li>
</ul></li>
<li><code>summary(data$variable)</code> summary statistics
<ul>
<li>Good for numeric data</li>
</ul></li>
</ul>
</section>
<section id="hlos-allow-you-to" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="hlos-allow-you-to">HLOs allow you to</h2>
<ul>
<li>Describe the <span class="blue">structure</span> of your data:
<ul>
<li>How many observations (rows)</li>
<li>How many variables (columns)</li>
</ul></li>
<li>Describe the <span class="blue">unit of analysis</span>
<ul>
<li>What does a row in your data correspond to</li>
</ul></li>
<li>Identify the <span class="blue">class and type</span> of variables (columns)
<ul>
<li>Numeric, character, logical</li>
<li>Is there missing data (<code>NA</code>s)</li>
</ul></li>
<li>Figure out what <span class="blue">transformations, cleaning, and recoding</span> you need to do</li>
</ul>
</section>
</section>
<section id="data-wrangling-in-the-tidyverse" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Data Wrangling in the Tidyverse</h1>
<section id="the-tidyverse" class="level2">
<h2 class="anchored" data-anchor-id="the-tidyverse">The Tidyverse</h2>
<div class="columns">
<div class="column" style="width:60;">
<blockquote class="blockquote">
<p>The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
</blockquote>
<p>For more check out <a href="https://r4ds.had.co.nz/" target="_blank"><em>R for Data Science</em></a></p>
</div><div class="column" style="width:30;">
<p><img src="https://www.tidyverse.org/images/hex-tidyverse.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data">Tidy Data</h2>
<p>Tidy data is a standard way of mapping the meaning of a dataset to its structure.</p>
<p>A dataset is messy or tidy depending on how rows, columns and tables are matched up with observations, variables and types. In tidy data:</p>
<ul>
<li><p>Every column is a variable.</p></li>
<li><p>Every row is an observation.</p></li>
<li><p>Every cell is a single value.</p></li>
</ul>
<p><a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html" target="_blank">More</a></p>
</section>
<section id="dplyr-functions-for-data-wrangling" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="dplyr-functions-for-data-wrangling"><code>dplyr</code> functions for data wrangling</h2>
<p>Today and this week will begin learning some tools for selecting and transforming data:</p>
<ul>
<li><code>select()</code> to select <span class="blue">columns</span> from a dataframe</li>
<li><code>filter()</code> to select <span class="blue">rows</span> from a dataframe when some <span class="blue">statement</span> is <code>TRUE</code></li>
<li><code>mutate()</code> to create <span class="blue">new colums</span>
<ul>
<li><code>case_when()</code> to <span class="blue">recode values</span> when some <span class="blue">statement</span> is <code>TRUE</code></li>
</ul></li>
<li><code>summarise()</code> to transform <span class="blue">many values</span> into <span class="blue">one value</span></li>
<li><code>group_by()</code> to create a <span class="blue">grouped</span> table so that other functions are applied separately to each group and then combined</li>
</ul>
</section>
<section id="the-pipe-operator" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="the-pipe-operator">The <code>%&gt;%</code> (“pipe” operator)</h2>
<p>The <code>%&gt;%</code> lets us chain functions together so we can read left to right</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(<span class="fu">filter</span>(covid, administrative_area_level_2 <span class="sc">==</span> <span class="st">"Rhode Island"</span>), <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Becomes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(administrative_area_level_2 <span class="sc">==</span> <span class="st">"Rhode Island"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Keyboard Shortcuts for <code>%&gt;%</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>macOS: <code>CMD</code> + <code>SHIFT</code> + <code>M</code></p>
<p>PC: <code>CTRL</code> + <code>SHIFT</code> + <code>M</code></p>
</div>
</div>
</section>
</section>
<section id="describing-data-in-r" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Describing Data in R</h1>
<section id="descriptive-statistics" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h2>
<p>When social scientists talk about descriptive inference, we’re trying to summarize our data and make claims about what’s <em>typical</em> of our data</p>
<ul>
<li>What’s a typical value
<ul>
<li><span class="blue">Measures of central tendency</span></li>
<li>mean, median, mode</li>
</ul></li>
<li>How do our data vary around typical values
<ul>
<li><span class="blue">Measures of dispersion</span></li>
<li>variance, standard deviation, range, percentile ranges</li>
</ul></li>
<li>How does variation in one variable relate to variation in another
<ul>
<li><span class="blue">Measures of association</span></li>
<li>covariance, correlation</li>
</ul></li>
</ul>
</section>
<section id="using-r-to-summarize-data" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="using-r-to-summarize-data">Using R to Summarize Data</h2>
<p>Here are some common ways of summarizing data and how to calculate them with <code>R</code></p>
<table data-quarto-postprocess="true" class="table">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sum</td>
<td style="text-align: left;">sum(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">minimum</td>
<td style="text-align: left;">min(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">maximum</td>
<td style="text-align: left;">max(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">range(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mean</td>
<td style="text-align: left;">mean(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">median</td>
<td style="text-align: left;">median(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">percentile</td>
<td style="text-align: left;">quantile(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">variance</td>
<td style="text-align: left;">var(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">standard deviation</td>
<td style="text-align: left;">sd(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">rank</td>
<td style="text-align: left;">rank(x)</td>
</tr>
</tbody>
</table>


<p>All of these functions have an argument called <code>na.rm=F</code>. If your data have missing values, you’ll need to set <code>na.rm=F</code> (e.g.&nbsp;<code>mean(x, na.rm=T)</code>)</p>
</section>
</section>
<section id="exploring-covid-19-data-for-lab" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-code" aria-label="code"></i> Exploring Covid-19 Data for Lab</h1>
<section id="exploring-covid-19-data-for-lab-1" class="level2">
<h2 class="anchored" data-anchor-id="exploring-covid-19-data-for-lab-1">Exploring Covid-19 Data for Lab</h2>
<p>Let’s spend the rest of class, exploring what seems like a simple question</p>
<blockquote class="blockquote">
<p>On average, did states that adopted mask mandates have lower rates of new cases?</p>
</blockquote>
</section>
<section id="tasks" class="level2">
<h2 class="anchored" data-anchor-id="tasks">Tasks</h2>
<ol type="1">
<li><p>Get a high level overview of our data</p></li>
<li><p>Subset the data to just U.S. States</p></li>
<li><p>Recode our data to get a measure of new Covid cases and what face mask policy policy was in place</p></li>
<li><p>Summarize the average number of new cases by face mask policy.</p></li>
</ol>
</section>
<section id="get-a-high-level-overview-of-our-data" class="level2">
<h2 class="anchored" data-anchor-id="get-a-high-level-overview-of-our-data">1. Get a high level overview of our data</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="nonincremental">
<ol type="1">
<li>Create a new chunk</li>
<li>Label it <code>#| label:"HLO"</code></li>
<li>Run the following code</li>
<li>Comment code with <code>#</code></li>
</ol>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(covid)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(covid)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(covid<span class="sc">$</span>administrative_area_level_2)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(covid<span class="sc">$</span>administrative_area_level_2))</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>covid<span class="sc">$</span>confirmed[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(administrative_area_level_2, date, confirmed) <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">20</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(covid<span class="sc">$</span>confirmed)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(covid<span class="sc">$</span>facial_coverings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="answer-the-following" class="level2">
<h2 class="anchored" data-anchor-id="answer-the-following">Answer the following</h2>
<div class="nonincremental">
<ul>
<li>How many observations are there (rows)</li>
<li>How many variables (columns)</li>
<li>What’s the unit of analysis?
<ul>
<li>In words, how would you describe what a row in your data set corresponds to?</li>
</ul></li>
<li>Are there any missing values for <code>confirmed</code></li>
<li>What range of values can <code>facial_coverings</code> take?<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></li>
</ul>
</div>
</section>
<section id="subsetting-our-data-to-only-u.s.-states" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-our-data-to-only-u.s.-states">Subsetting our data to only U.S. States</h2>
<p><span class="blue">Goal:</span> Subset our Covid data to include only the 50 states + DC</p>
<p><span class="blue">Steps:</span></p>
<ol type="1">
<li><p>Create a vector of the territories we <strong>don’t</strong> want</p></li>
<li><p>Use the <code>filter()</code> command to “filter” out these territories</p></li>
</ol>
</section>
<section id="create-a-vector-of-the-territories-we-dont-want" class="level2">
<h2 class="anchored" data-anchor-id="create-a-vector-of-the-territories-we-dont-want">1. Create a vector of the territories we <strong>don’t</strong> want</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>territories <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"American Samoa"</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Guam"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Northern Mariana Islands"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Puerto Rico"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Virgin Islands"</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use-the-filter-command-to-filter-out-these-territories" class="level2">
<h2 class="anchored" data-anchor-id="use-the-filter-command-to-filter-out-these-territories">2. Use the <code>filter()</code> command to “filter” out these territories</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>covid_us <span class="ot">&lt;-</span> covid <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>administrative_area_level_2 <span class="sc">%in%</span> territories )</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 58809    47</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    47</code></pre>
</div>
</div>
</section>
<section id="creating-new-variables-for-analysis" class="level2">
<h2 class="anchored" data-anchor-id="creating-new-variables-for-analysis">Creating new variables for analysis</h2>
<ul>
<li><p><span class="blue">Goal:</span> We need new variables that describe:</p>
<ul>
<li><p>the number of new Covid-19 cases on a given date</p></li>
<li><p>the face mask policy in place</p></li>
</ul></li>
<li><p><span class="blue">Steps:</span></p>
<ul>
<li><p>Use <code>mutate()</code>, <code>group_by()</code> and <code>lag()</code> to calculate <code>new_cases</code> from total <code>confirmed</code> cases</p></li>
<li><p>Use <code>mutate()</code>, <code>case_when()</code> and <code>abs()</code> to turn numeric <code>facial_coverings</code> into categorical factor variable</p></li>
</ul></li>
</ul>
</section>
<section id="calculate-new-covid-19-cases" class="level2">
<h2 class="anchored" data-anchor-id="calculate-new-covid-19-cases">Calculate new Covid-19 cases</h2>
<p>Please run and comment the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    47</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> administrative_area_level_2,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_cases =</span> confirmed <span class="sc">-</span> <span class="fu">lag</span>(confirmed),</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_cases_pc =</span> new_cases<span class="sc">/</span>population <span class="sc">*</span><span class="dv">100000</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="ot">-&gt;</span> covid_us</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    50</code></pre>
</div>
</div>
</section>
<section id="create-face-mask-policy-variable" class="level2">
<h2 class="anchored" data-anchor-id="create-face-mask-policy-variable">Create Face Mask Policy variable</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">face_masks =</span> <span class="fu">case_when</span>(</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>      facial_coverings <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"No policy"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Recommended"</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Some requirements"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Required shared places"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Required all times"</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> covid_us</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">factor</span>(covid_us<span class="sc">$</span>face_masks))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No policy"              "Recommended"            "Required all times"    
[4] "Required shared places" "Some requirements"     </code></pre>
</div>
</div>
</section>
<section id="make-face_masks-a-factor-to-reflect-order-of-policies" class="level2">
<h2 class="anchored" data-anchor-id="make-face_masks-a-factor-to-reflect-order-of-policies">Make <code>face_masks</code> a factor to reflect order of policies</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">factor</span>(covid_us<span class="sc">$</span>face_masks))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No policy"              "Recommended"            "Required all times"    
[4] "Required shared places" "Some requirements"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">face_masks =</span> <span class="fu">factor</span>(</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>      face_masks,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"No policy"</span>, </span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Recommended"</span>, </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Some requirements"</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Required shared places"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Required all times"</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> covid_us</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(covid_us<span class="sc">$</span>face_masks)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No policy"              "Recommended"            "Some requirements"     
[4] "Required shared places" "Required all times"    </code></pre>
</div>
</div>
</section>
<section id="calculate-the-average-number-of-covid-19-cases-by-face-mask-policy" class="level2">
<h2 class="anchored" data-anchor-id="calculate-the-average-number-of-covid-19-cases-by-face-mask-policy">Calculate the Average Number of Covid-19 cases by Face Mask Policy</h2>
<ul>
<li><p><span class="blue">Goal:</span> On average, did states that adopted mask mandates have lower rates of new cases?</p></li>
<li><p><span class="blue">Steps:</span> use <code>filter()</code>, <code>group_by()</code> and <code>summarise()</code> and <code>mean()</code> to calculate the average number of cases for each level of the <code>face_masks</code> policy variable</p></li>
</ul>
</section>
<section id="face-masks-and-new-covid-19-cases-per-100k" class="level2">
<h2 class="anchored" data-anchor-id="face-masks-and-new-covid-19-cases-per-100k">Face Masks and New Covid-19 Cases (per 100k)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(face_masks))<span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(face_masks)<span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Average No. of New Cases</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(new_cases_pc, <span class="at">na.rm=</span>T),<span class="dv">2</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Face Mask Policy"</span> <span class="ot">=</span> face_masks</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> face_mask_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="face-masks-and-new-covid-19-cases-per-100k-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="face-masks-and-new-covid-19-cases-per-100k-1">Face Masks and New Covid-19 Cases (per 100k)</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="nonincremental">
<ul>
<li><p>What should we conclude?</p></li>
<li><p>What’s wrong with this simple comparison?</p></li>
<li><p>What’s a better comparison? (Thursday)</p></li>
</ul>
</div>
</div><div class="column" style="width:60%;">
<table data-quarto-postprocess="true" class="table">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Face Mask Policy</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average No. of New Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">No policy</td>
<td style="text-align: right;">10.26</td>
</tr>
<tr class="even">
<td style="text-align: left;">Recommended</td>
<td style="text-align: right;">16.61</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Some requirements</td>
<td style="text-align: right;">36.18</td>
</tr>
<tr class="even">
<td style="text-align: left;">Required shared places</td>
<td style="text-align: right;">29.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Required all times</td>
<td style="text-align: right;">32.18</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="commented-code" class="level2">
<h2 class="anchored" data-anchor-id="commented-code">Commented Code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Libraries ----</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Uncomment to install</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("COVID19")</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"COVID19"</span>)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Load data ----</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"https://pols1600.paultesta.org/files/data/covid.rda"</span>))</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Subset to US states and DC ----</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>territories <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"American Samoa"</span>,</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Guam"</span>,</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Northern Mariana Islands"</span>,</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Puerto Rico"</span>,</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Virgin Islands"</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>covid_us <span class="ot">&lt;-</span> covid <span class="sc">%&gt;%</span></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>administrative_area_level_2 <span class="sc">%in%</span> territories )</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a><span class="do">## Check subsetting</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(covid)[<span class="dv">1</span>] <span class="sc">&gt;</span> <span class="fu">dim</span>(covid_us)[<span class="dv">1</span>]</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Recode covid_us ----</span></span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> administrative_area_level_2,</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_cases =</span> confirmed <span class="sc">-</span> <span class="fu">lag</span>(confirmed),</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_cases_pc =</span> new_cases<span class="sc">/</span>population <span class="sc">*</span><span class="dv">100000</span></span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">face_masks =</span> <span class="fu">case_when</span>(</span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a>      facial_coverings <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"No policy"</span>,</span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Recommended"</span>,</span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Some requirements"</span>,</span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Required shared places"</span>,</span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Required all times"</span></span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>      ) </span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">face_masks =</span> <span class="fu">factor</span>(</span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a>      face_masks,</span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a>        <span class="st">"No policy"</span>, </span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Recommended"</span>, </span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Some requirements"</span>,</span>
<span id="cb62-56"><a href="#cb62-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Required shared places"</span>,</span>
<span id="cb62-57"><a href="#cb62-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Required all times"</span></span>
<span id="cb62-58"><a href="#cb62-58" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb62-59"><a href="#cb62-59" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb62-60"><a href="#cb62-60" aria-hidden="true" tabindex="-1"></a>    )<span class="ot">-&gt;</span> covid_us</span>
<span id="cb62-61"><a href="#cb62-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-62"><a href="#cb62-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-63"><a href="#cb62-63" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Calculate new cases per capita by facemask policy</span></span>
<span id="cb62-64"><a href="#cb62-64" aria-hidden="true" tabindex="-1"></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb62-65"><a href="#cb62-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(face_masks))<span class="sc">%&gt;%</span></span>
<span id="cb62-66"><a href="#cb62-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(face_masks)<span class="sc">%&gt;%</span></span>
<span id="cb62-67"><a href="#cb62-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb62-68"><a href="#cb62-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Average No. of New Cases</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(new_cases_pc, <span class="at">na.rm=</span>T),<span class="dv">2</span>)</span>
<span id="cb62-69"><a href="#cb62-69" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb62-70"><a href="#cb62-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb62-71"><a href="#cb62-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Face Mask Policy"</span> <span class="ot">=</span> face_masks</span>
<span id="cb62-72"><a href="#cb62-72" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> face_mask_summary</span>
<span id="cb62-73"><a href="#cb62-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-74"><a href="#cb62-74" aria-hidden="true" tabindex="-1"></a>face_mask_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summary" class="level1 inverse">
<h1 class="inverse"><i class="fa-solid fa-home" aria-label="home"></i> Summary</h1>
<section id="summary-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="summary-1">Summary</h2>
<p>After today, you should have a better sense of</p>
<ul>
<li><p>How to write R code using Quarto and R Markdown</p></li>
<li><p>How to install packages and load libraries</p></li>
<li><p>Some of different types and shapes of data</p></li>
<li><p>How to get a high level overview of your data</p></li>
<li><p>How to transform, recode, and summarise data using <code>dplyr</code> and the <code>tidyverse</code></p></li>
<li><p>How describe typical values and variation in data</p></li>
<li><p>How to explore substantive questions using these these typical values</p></li>
</ul>
</section>
<section id="congrats" class="level2">
<h2 class="anchored" data-anchor-id="congrats">Congrats!</h2>
<ul>
<li><p>We covered A LOT</p></li>
<li><p>It’s <span class="blue">OK</span> to feel overwhelmed</p>
<ul>
<li>But please don’t suffer in silence</li>
</ul></li>
<li><p>Don’t worry if everything didn’t make sense.</p>
<ul>
<li>Eventually it will, but this takes time and practice</li>
<li>Testa’s 50-50 rule</li>
<li>FAAFO</li>
</ul></li>
</ul>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Occasionally, you’ll have to update packages to newer versions and will likely need to reinstall when you upgrade R<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>I’ll generally do this for you, but it’s useful to know that you can change options globally (for every chunk) and locallys (for specific chunks)<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>30 people trying to download this data live sometimes causes errors with the server<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>See: https://covid19datahub.io/articles/docs.html<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>