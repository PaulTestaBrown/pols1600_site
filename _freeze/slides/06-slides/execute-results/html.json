{
  "hash": "9888473ae7163e75280681b203dcab31",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"POLS 1600\"\nsubtitle: \"Multiple Regression\"\ndate: last-modified\ndate-format: \"[Updated ]MMM D, YYYY\"\nformat: \n  revealjs:\n    theme: brownslides.scss\n    logo: images/pols1600_hex.png\n    footer: \"POLS 1600\"\n    multiplex: false\n    transition: fade\n    slide-number: c\n    incremental: true\n    center: false\n    menu: true\n    scrollable: true\n    highlight-style: github\n    progress: true\n    code-overflow: wrap\n    chalkboard: true\n    # include-after-body: title-slide.html\n    title-slide-attributes:\n      align: left\n      data-background-image: images/pols1600_hex.png\n      data-background-position: 90% 50%\n      data-background-size: 40%\nfilters:\n  - openlinksinnewpage\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  message: false\n  cache: true\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# {{< fa map-location>}} Overview {.inverse}\n\n## Class Plan\n\n- Announcements\n- Feedback\n- Review\n- Class plan\n\n\n## Annoucements\n\n## Feedback\n\n\n## Packages for today\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Pacakges for today\nthe_packages <- c(\n  ## R Markdown\n  \"kableExtra\",\"DT\",\"texreg\",\n  ## Tidyverse\n  \"tidyverse\", \"lubridate\", \"forcats\", \"haven\", \"labelled\",\n  ## Extensions for ggplot\n  \"ggmap\",\"ggrepel\", \"ggridges\", \"ggthemes\", \"ggpubr\", \n  \"GGally\", \"scales\", \"dagitty\", \"ggdag\", \"ggforce\",\n  # Data \n  \"COVID19\",\"maps\",\"mapdata\",\"qss\",\"tidycensus\", \"dataverse\", \n  # Analysis\n  \"DeclareDesign\", \"easystats\", \"zoo\"\n)\n\n## Define a function to load (and if needed install) packages\n\n#| label = \"ipak\"\nipak <- function(pkg){\n    new.pkg <- pkg[!(pkg %in% installed.packages()[, \"Package\"])]\n    if (length(new.pkg)) \n        install.packages(new.pkg, dependencies = TRUE)\n    sapply(pkg, require, character.only = TRUE)\n}\n\n## Install (if needed) and load libraries in the_packages\nipak(the_packages)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   kableExtra            DT        texreg     tidyverse     lubridate \n         TRUE          TRUE          TRUE          TRUE          TRUE \n      forcats         haven      labelled         ggmap       ggrepel \n         TRUE          TRUE          TRUE          TRUE          TRUE \n     ggridges      ggthemes        ggpubr        GGally        scales \n         TRUE          TRUE          TRUE          TRUE          TRUE \n      dagitty         ggdag       ggforce       COVID19          maps \n         TRUE          TRUE          TRUE          TRUE          TRUE \n      mapdata           qss    tidycensus     dataverse DeclareDesign \n         TRUE          TRUE          TRUE          TRUE          TRUE \n    easystats           zoo \n         TRUE          TRUE \n```\n\n\n:::\n:::\n\n\n  \n\n# {{< fa magnifying-glass>}} Lab 5 & Simple Linear Regression {.inverse}\n\n## Review: Key Concepts from the Lab\n\n## Review: Simple Linear Regression\n\nLet's pick up where we left off on Thursday. First we'll need to run some code to get to recreate our data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ---- Load data ----\n## Covid-19 Data\nload(url(\"https://pols1600.paultesta.org/files/data/covid.rda\"))\n## Presidential Election Data\nload(url(\"https://pols1600.paultesta.org/files/data/pres_df.rda\"))\n\n# ---- Recode Covid Data ----\nterritories <- c(\n  \"American Samoa\",\n  \"Guam\",\n  \"Northern Mariana Islands\",\n  \"Puerto Rico\",\n  \"Virgin Islands\"\n  )\n\n# Filter out Territories and create state variable\ncovid_us <- covid %>%\n  filter(!administrative_area_level_2 %in% territories)%>%\n  mutate(\n    state = administrative_area_level_2\n  )\n\n# Calculate new cases, new cases per capita, and 7-day average\n\ncovid_us %>%\n  dplyr::group_by(state) %>%\n  mutate(\n    new_cases = confirmed - lag(confirmed),\n    new_cases_pc = new_cases / population *100000,\n    new_cases_pc_7day = zoo::rollmean(new_cases_pc, \n                                     k = 7, \n                                     align = \"right\",\n                                     fill=NA )\n    ) -> covid_us\n\n# Recode facemask policy\n\ncovid_us %>%\nmutate(\n  # Recode facial_coverings to create face_masks\n    face_masks = case_when(\n      facial_coverings == 0 ~ \"No policy\",\n      abs(facial_coverings) == 1 ~ \"Recommended\",\n      abs(facial_coverings) == 2 ~ \"Some requirements\",\n      abs(facial_coverings) == 3 ~ \"Required shared places\",\n      abs(facial_coverings) == 4 ~ \"Required all times\",\n    ),\n    # Turn face_masks into a factor with ordered policy levels\n    face_masks = factor(face_masks,\n      levels = c(\"No policy\",\"Recommended\",\n                 \"Some requirements\",\n                 \"Required shared places\",\n                 \"Required all times\")\n    ) \n    ) -> covid_us\n\n# Create year-month and percent vaccinated variables\n\ncovid_us %>%\n  mutate(\n    year = year(date),\n    month = month(date),\n    year_month = paste(year, \n                       str_pad(month, width = 2, pad=0), \n                       sep = \"-\"),\n    percent_vaccinated = people_fully_vaccinated/population*100  \n    ) -> covid_us\n\n# Recode Deaths\ncovid_us %>%\n  dplyr::group_by(state) %>%\n  mutate(\n    new_deaths = deaths - lag(deaths),\n    new_deaths_pc = new_deaths / population *100000,\n    new_deaths_pc_7day = zoo::rollmean(new_deaths_pc, \n                                     k = 7, \n                                     align = \"right\",\n                                     fill=NA ),\n    new_deaths_pc_14day = zoo::rollmean(new_deaths_pc, \n                                     k = 14, \n                                     align = \"right\",\n                                     fill=NA )\n    ) -> covid_us\n\n# ---- Recode Presidential Election Data ----\n\n# Transform Presidential Election data\npres_df %>%\n  mutate(\n    year_election = year,\n    state = str_to_title(state),\n    # Fix DC\n    state = ifelse(state == \"District Of Columbia\", \"District of Columbia\", state)\n  ) %>%\n  filter(party_simplified %in% c(\"DEMOCRAT\",\"REPUBLICAN\"))%>%\n  filter(year == 2020) %>%\n  select(state, state_po, year_election, party_simplified, candidatevotes, totalvotes\n         ) %>%\n  pivot_wider(names_from = party_simplified,\n              values_from = candidatevotes) %>%\n  mutate(\n    dem_voteshare = DEMOCRAT/totalvotes*100,\n    rep_voteshare = REPUBLICAN/totalvotes*100,\n    winner = forcats::fct_rev(factor(ifelse(rep_voteshare > dem_voteshare,\"Trump\",\"Biden\")))\n  ) -> pres2020_df\n\n# ---- Merge Data ----\n\ndim(covid_us)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 53678    60\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(pres2020_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 51  9\n```\n\n\n:::\n\n```{.r .cell-code}\ncovid_us <- covid_us %>% left_join(\n  pres2020_df,\n  by = c(\"state\" = \"state\")\n)\ndim(covid_us) # Same number of rows as covid_us w/ 8 additional columns\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 53678    68\n```\n\n\n:::\n:::\n\n\n## {.smaller}\n### Calculating Conditional Means\n\n::: panel-tabset\n\n## Q6\nNow let's revisit question 6, which asked you to calculate some conditional means:\n\n- Overall\n- Before the vaccine was widely available\n- After the vaccine was widely available\n\n\n\n## Data\n\n::: {.cell}\n\n```{.r .cell-code}\n# ---- Deaths: Overall ----\ncovid_us %>%\n  group_by(winner)%>%\n  summarise(\n    new_deaths = mean(new_deaths, na.rm=T),\n    new_deaths_pc_7day = mean(new_deaths_pc_7day, na.rm=T),\n  ) %>% \n  mutate(\n    comparison = \"Overall\"\n  ) -> deaths_overall\n\n# ---- Deaths: Pre Vaccine ----\ncovid_us %>%\n  filter(date < \"2021-04-19\") %>%\n  group_by(winner)%>%\n  summarise(\n    new_deaths = mean(new_deaths, na.rm=T),\n    new_deaths_pc_7day = mean(new_deaths_pc_7day, na.rm=T),\n  ) %>% \n  mutate(\n    comparison = \"Pre Vaccine\"\n  ) -> deaths_pre_vax\n\n# ---- Deaths: Post Vaccine ----\ncovid_us %>%\n  filter(date >= \"2021-04-19\") %>%\n  group_by(winner)%>%\n  summarise(\n    new_deaths = mean(new_deaths, na.rm=T),\n    new_deaths_pc_7day = mean(new_deaths_pc_7day, na.rm=T),\n  ) %>% \n  mutate(\n    comparison = \"Post Vaccine\"\n  ) -> deaths_post_vax\n\n# ---- Tidy outputs for display ----\n\ndeaths_tab <- deaths_overall %>% \n  bind_rows(\n  deaths_pre_vax,\n  deaths_post_vax\n) %>% \n  mutate(\n    comparison = factor(\n      comparison,\n      levels = c(\"Overall\",\"Pre Vaccine\", \"Post Vaccine\")\n      )\n  )\n```\n:::\n\n\n## Table\n\n\n::: {.cell lable='q6_tab'}\n\n```{.r .cell-code}\nknitr::kable(deaths_tab) %>% \n  kableExtra::kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> winner </th>\n   <th style=\"text-align:right;\"> new_deaths </th>\n   <th style=\"text-align:right;\"> new_deaths_pc_7day </th>\n   <th style=\"text-align:left;\"> comparison </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Trump </td>\n   <td style=\"text-align:right;\"> 19.34867 </td>\n   <td style=\"text-align:right;\"> 0.3402479 </td>\n   <td style=\"text-align:left;\"> Overall </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Biden </td>\n   <td style=\"text-align:right;\"> 22.04853 </td>\n   <td style=\"text-align:right;\"> 0.2871843 </td>\n   <td style=\"text-align:left;\"> Overall </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump </td>\n   <td style=\"text-align:right;\"> 22.82048 </td>\n   <td style=\"text-align:right;\"> 0.4000294 </td>\n   <td style=\"text-align:left;\"> Pre Vaccine </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Biden </td>\n   <td style=\"text-align:right;\"> 30.61051 </td>\n   <td style=\"text-align:right;\"> 0.3801906 </td>\n   <td style=\"text-align:left;\"> Pre Vaccine </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump </td>\n   <td style=\"text-align:right;\"> 17.07402 </td>\n   <td style=\"text-align:right;\"> 0.3016571 </td>\n   <td style=\"text-align:left;\"> Post Vaccine </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Biden </td>\n   <td style=\"text-align:right;\"> 16.30683 </td>\n   <td style=\"text-align:right;\"> 0.2257111 </td>\n   <td style=\"text-align:left;\"> Post Vaccine </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## {{< fa code >}}-Fig \n\n\n::: {.cell lable='q6fig_code'}\n\n```{.r .cell-code}\n# 1. Data\ndeaths_tab %>% \n  # 2. Aesthetics\n  ggplot(\n    aes(winner, new_deaths_pc_7day,\n        fill = winner)\n  ) +\n  # 3. Geometries\n  geom_bar(stat = \"identity\") +\n  # 4. Facets\n  facet_grid(~ comparison) +\n  # 5. Labels and Themes\n  guides(fill = \"none\") +\n  labs(\n    x = \"State's won by\",\n    y = \"Average # of Deaths per 100k\\n(7-day rolling average)\",\n    title = \"Red States have more Covid-19 deaths per capita after vaccine\"\n  )+\n  theme_minimal()+\n  theme(title = element_text(size = 10,face = \"bold\")) -> fig_q6\n```\n:::\n\n\n## {{< fa chart-line >}}-Fig \n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/fig_q6-1.png){width=960}\n:::\n:::\n\n\n:::\n\n## {.smaller}  \n#### Using OLS to estimate conditional means \n\n:::: panel-tabset\n\n## Q7\nQuestion 7 asked you estimate the following OLS models:\n\n$$ \\text{New Deaths} = \\beta_0 + \\beta_1 \\text{Election Winner} + \\epsilon $$\n\n$$ \\text{7-day average of New Deaths (per 100k)} = \\beta_0 + \\beta_1 \\text{Election Winner} + \\epsilon $$\n\n::: {.callout-note}\nRecall `winner` is a [factor]{.blue} whose levels we set to be `c(\"Trump\",\"Biden\")`. \n\n`lm()` converts factors into [binary indicators]{.blue}. Here `0=\"Trump\"` and `1=\"Biden\"`\n:::\n\n\n## {{< fa code >}}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1_lab <- lm(new_deaths ~ winner, covid_us)\nm2_lab <- lm(new_deaths_pc_7day ~ winner, covid_us)\n```\n:::\n\n\n## Output\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1_lab\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = new_deaths ~ winner, data = covid_us)\n\nCoefficients:\n(Intercept)  winnerBiden  \n      19.35         2.70  \n```\n\n\n:::\n\n```{.r .cell-code}\n# Just the coefficients\ncoef(m2_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(Intercept) winnerBiden \n 0.34024787 -0.05306357 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Coefficients with summary stats (for later)\nsummary(m2_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = new_deaths_pc_7day ~ winner, data = covid_us)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.0016 -0.2205 -0.1340  0.0966  5.8550 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  0.340248   0.002487  136.83   <2e-16 ***\nwinnerBiden -0.053064   0.003475  -15.27   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3978 on 52447 degrees of freedom\n  (1229 observations deleted due to missingness)\nMultiple R-squared:  0.004427,\tAdjusted R-squared:  0.004408 \nF-statistic: 233.2 on 1 and 52447 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n\n## Table\n\n\n\n```{.r .cell-code}\ntexreg::htmlreg(list(m1_lab,m2_lab),\n                custom.header = list(\n                  \"DV:\" = 1:2\n                ),\n                custom.model.names = c(\n                  \"new_deaths\",\n                  \"new_deaths_pc_7day\"\n                ))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th>&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;border-bottom: 1px solid #000000;\" colspan=\"2\">DV:</th>\n</tr>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">new_deaths</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">new_deaths_pc_7day</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">19.35<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.34<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.39)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.00)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">winnerBiden</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">2.70<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-0.05<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.55)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.00)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.00</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.00</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.00</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.00</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">52755</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">52449</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"3\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n::::\n\n\n## {.smaller} \n### Q7: When the CEF is Linear, OLS = CEF\n\n\n::: panel-tabset\n\n## {{< fa lightbulb >}}\n\nIf the [CEF]{.blue} is linear, then [OLS = CEF]{.blue}\n\nIn a [saturated]{.blue} linear model, every [group]{.blue} in the data can be represented by a [coefficient]{.blue} or combination of coefficients in the model. \n\n## {{< fa code >}} -CEF\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_us %>%\n  mutate(\n    biden01 = ifelse(winner == \"Biden\",1,0)\n  ) %>% \n  ggplot(aes(biden01, new_deaths_pc_7day))+\n  geom_jitter(size=.25,alpha=.15)+\n  stat_summary(col=\"red\")+\n  stat_summary(aes(label=round(..y..,2)),\n               geom = \"text\", \n               position = position_nudge(y = 1),\n               col = \"red\",\n               fun = mean) +\n  theme_minimal()-> fig_q7cef\n```\n:::\n\n\n## {{< fa chart-line >}}-CEF\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/fig_q7cef-1.png){width=960}\n:::\n:::\n\n\n\n## {{< fa code >}}-OLS\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfig_q7cef +\n  stat_smooth(method = \"lm\",se = F)+\n  stat_summary(aes(label=round(..y..,2)),\n               geom = \"text\", \n               position = position_nudge(y = .05),\n               col = \"red\",\n               fun = mean)+\n  coord_cartesian(ylim=c(0,.45))+\n  geom_segment(aes(\n    x = 0,\n    xend = 0,\n    y = coef(m2_lab)[1],\n    yend = coef(m2_lab)[1] + coef(m2_lab)[2]\n  ),\n  col = \"blue\",\n  linetype = \"dashed\")+\n  geom_segment(aes(\n    x = 0,\n    xend = 1,\n    y = coef(m2_lab)[1] + coef(m2_lab)[2],\n    yend = coef(m2_lab)[1] + coef(m2_lab)[2]\n  ),\n  col = \"blue\",\n  linetype = \"dashed\")+\n  annotate(\"text\",\n           label = expression(paste(beta[0],\" = \" )),\n           x = 0, \n           y = coef(m2_lab)[1] + 0.075,\n           hjust = \"center\",\n           col = \"blue\"\n           )+\n    annotate(\"text\",\n           label = expression(paste(beta[1],\" = 0.29 - 0.34 = -0.05\" )),\n           x = 0, \n           y = coef(m2_lab)[1] +coef(m2_lab)[2] - 0.05,\n           hjust = \"left\",\n           col = \"blue\"\n           )+\n  annotate(\"text\",\n           label = expression(\n             paste(beta[0],\" + \", beta[1], \" = \" )),\n           x = 1, \n           y = coef(m2_lab)[1] + 0.05,\n           hjust = \"center\",\n           col = \"blue\"\n           ) -> fig_q7ols\n```\n:::\n\n\n## {{< fa chart-line >}}-OLS\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/fig_q7ols-1.png){width=960}\n:::\n:::\n\n\n:::\n\n## {.smaller}\n#### Q8: Vote shares, vaccinations, and deaths\n\n::: panel-tabset\n\n## Q9\n\nQ9 asked you to fit [three]{.blue} models exploring the relationship between:\n\n$$ \\text{m3} =\\text{14-day average of New Deaths (per 100k)} = \\beta_0 + \\beta_1 \\text{Percent Vaccinated} $$\n$$ \\text{m4} =\\text{Percent Vaccinated} = \\beta_0 + \\beta_1 \\text{Republican Vote Share} $$\n$$ \\text{m5} =\\text{14-day average of New Deaths (per 100k)} = \\beta_0 + \\beta_1 \\text{Republican Vote Share} $$\n\nOn September 23, 2021, when Leonhardt was writing\n\n## {{< fa code >}}-OLS\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Deaths modeled by percent vaccinated on 2021-09-23\nm3_lab <- lm(new_deaths_pc_14day ~ percent_vaccinated, \n         covid_us,\n         subset = date == \"2021-09-23\")\n\n#  Percent vaccinated modeled by Republican vote share on 2021-09-23\nm4_lab <- lm(percent_vaccinated ~ rep_voteshare, \n         covid_us,\n         subset = date == \"2021-09-23\")\n\n# Deaths modeled by Republican vote share on 2021-09-23\nm5_lab <- lm(new_deaths_pc_14day ~ rep_voteshare, \n         covid_us,\n         subset = date == \"2021-09-23\")\n```\n:::\n\n\n## Results\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m3_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       (Intercept) percent_vaccinated \n         2.4232235         -0.0330773 \n```\n\n\n:::\n\n```{.r .cell-code}\ncoef(m4_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  (Intercept) rep_voteshare \n   84.3326265    -0.5731175 \n```\n\n\n:::\n\n```{.r .cell-code}\ncoef(m5_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  (Intercept) rep_voteshare \n  -0.36296799    0.01888996 \n```\n\n\n:::\n:::\n\n\n\n:::\n\n## {.smaller}\n#### Q9: Visualizing Vote Shares and Deaths\n\n::: panel-tabset\n\n## Q9\n\nQ9 asks you to visualize the results of the model `m5`\n\nLet's take a basic figure, and make it fetch!\n\n## {{< fa code >}}-Basic\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_us %>%\n  # Only use observations from September 23, 2021\n  filter(date == \"2021-09-23\") %>%\n  # Exclude DC\n  filter(state != \"District of Columbia\") %>%\n  # Set aesthetics\n  ggplot(aes(x = rep_voteshare,\n             y = new_deaths_pc_14day))+\n  # Set geometries\n  geom_point(aes(col=rep_voteshare),size=2,alpha=.5)+\n  # Include the linear regression of lm(new_deaths_pc_14day ~ rep_voteshare)\n  geom_smooth(method = \"lm\", se=F,\n              col = \"grey\", linetype =2) -> fig_m5_lab\n```\n:::\n\n\n\n## {{< fa chart-line >}}-Basic\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfig_m5_lab\n```\n\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/q9_basic_fig-1.png){width=960}\n:::\n:::\n\n\n\n## {{< fa code >}}-Fetch\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfig_m5_lab +\n  # two way gradient, blue states -> blue, red states -> red, swing -> grey\n  scale_color_gradient2(\n    midpoint = 50,\n    low = \"blue\", mid = \"grey\", high = \"red\",\n    guide = \"none\")+\n  # Vertical line at 50% threshold\n  geom_vline(xintercept = 50, \n             col = \"grey\",linetype = 3)+\n  # Add labels\n  ggrepel::geom_text_repel(aes(label = state_po), size=2)+\n  # theme with minimal lines\n  theme_classic()+\n  # Labels\n  labs(\n    x = \"Republican Vote Share\\n 2020 Presidential Election\",\n    y = \"New Covid-19 Deaths per 100kresidents\\n (14-day average)\",\n    title = \"Partisan Gaps in Covid-19 Deaths at the State Level\",\n    subtitle = \"Data from Sept. 23, 2021\"\n  ) -> fig_m5_lab_fetch\n```\n:::\n\n\n\n## {{< fa chart-line >}}-Fetch\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfig_m5_lab_fetch\n```\n\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/q9_fetch_fig-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n## Q10: Alternative Explanations\n\n- Finally Q10 asked you to consider some possible [alternative explanations]{.blue} or [omitted variables]{.blue} that might explain the [positive  relationship]{.blue}, between Republican Vote Share and Covid-19 deaths.\n\n- In this week's lab, we'll see how we can use [multiple regression]{.blue} to evaluate these claims.\n\n\n# {{< fa code >}}Previewing Lab 6\n\n## Red Covid\n\nThe core thesis of Red Covid is something like the following:\n\n> Since Covid-19 vaccines became widely available to the general public in the spring of 2021, Republicans have been less likely to get the vaccine. Lower rates of vaccination among Republicans have in turn led to higher rates of death from Covid-19 in Red States compared to Blue States.\n\n## {.smaller}\n#### Testing Alternative Explanations of Red Covid \n\n- A skeptic might argue that this relationship is [spurious]{.blue}. \n\n- There are lots of ways that Red States differ from Blue States -- demographics, economics, geography, culture -- that might explain the differences in Covid-19 deaths.\n\n## {.smaller}\n#### Testing Alternative Explanations of Red Covid \n\n- In Lab 6, we use multiple regression to try and [control for]{.blue} the following [alternative explanations]{.blue}:\n\n  - Differences in [median age]{.blue}\n  - Differences in [median income]{.blue}\n\n- To do this, we need to merge in some additional state level data from the census.\n\n## Loading data from the Census\n\nIf you worked through the instructions [here]() and  installed `tidycensus` and a Census API key on your machine, you should be able to run the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacs_df <- tidycensus::get_acs(geography = \"state\", \n              variables = c(med_income = \"B19013_001\",\n                            med_age = \"B01002_001\"), \n              year = 2019)\n```\n:::\n\n\nIf not, no worries, just uncomment the code below:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Uncomment if get_acs() doesn't work:\n# load(url(\"https://pols1600.paultesta.org/files/data/acs_df.rda\"))\n```\n:::\n\n\n## Tidy Census Data{.smaller}\n\n::: panel-tabset\n\n## Task\n\n`get_acs()` returns data whose [unit of analysis]{.blue} is roughly a [state-variable]{.blue}\n\nWe need to [reshape]{.blue} `acs_df` using `pivot_wider()` so that the [unit of analysis]{.blue} is just a [state]{.blue}, and each column variable is a [column]{.blue}\n\n## {{< fa table >}}-Old\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacs_df\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 104 × 5\n   GEOID NAME       variable   estimate    moe\n   <chr> <chr>      <chr>         <dbl>  <dbl>\n 1 01    Alabama    med_age        39      0.2\n 2 01    Alabama    med_income  50536    304  \n 3 02    Alaska     med_age        34.3    0.1\n 4 02    Alaska     med_income  77640   1015  \n 5 04    Arizona    med_age        37.7    0.2\n 6 04    Arizona    med_income  58945    266  \n 7 05    Arkansas   med_age        38.1    0.1\n 8 05    Arkansas   med_income  47597    328  \n 9 06    California med_age        36.5    0.1\n10 06    California med_income  75235    232  \n# ℹ 94 more rows\n```\n\n\n:::\n:::\n\n\n\n## {{< fa code >}}-Tidy\n\n::: {.cell}\n\n```{.r .cell-code}\nacs_df %>%\n  mutate(\n    state = NAME,\n  ) %>%\n  select(state, variable, estimate) %>%\n  pivot_wider(names_from = variable,\n              values_from = estimate) -> acs_df\n```\n:::\n\n\n## {{< fa table >}}-New\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacs_df\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 52 × 3\n   state                med_age med_income\n   <chr>                  <dbl>      <dbl>\n 1 Alabama                 39        50536\n 2 Alaska                  34.3      77640\n 3 Arizona                 37.7      58945\n 4 Arkansas                38.1      47597\n 5 California              36.5      75235\n 6 Colorado                36.7      72331\n 7 Connecticut             41        78444\n 8 Delaware                40.6      68287\n 9 District of Columbia    34        86420\n10 Florida                 42        55660\n# ℹ 42 more rows\n```\n\n\n:::\n:::\n\n\n:::\n\n## Merge Census data into Covid data{.smaller}\n\n::::: panel-tabset\n\n\n## Task\n\n::::{.nonincremental}\n\nNow we can [merge]{.blue} `acs_df` into `covid_us` using the `left_join()` function\n\n::: {.callout-note}\n- In the code, we'll save the output of joining `acs_df` to `covid_us` to a [new dataframe]{.blue} called `covid_df` to avoid potentially [duplicating columns]{.blue}  \n:::\n\n::::\n\n## {{< fa code >}}-Merge\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(acs_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 52  3\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(acs_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 52  3\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(covid_us)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 53678    68\n```\n\n\n:::\n\n```{.r .cell-code}\n# Merge tmp with acs_df and save as final covid_df file\ncovid_df <- covid_us %>% left_join(\n  acs_df,\n  by = c(\"state\" = \"state\")\n)\ndim(covid_df)  # Same number of rows as tmp w/ 2 additional columns\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 53678    70\n```\n\n\n:::\n:::\n\n\n:::::\n\n## Subset Data{.smaller}\n\n::::: panel-tabset\n\n## Task\n\n::::{.nonincremental}\nNext, we'll [subset]{.blue} the data to include just the values from variables we'll use in the lab on from September 23, 2021 using:\n\n- `filter()`\n- `select()`\n\n::: {.callout-note}\n- Again, we'll save this output to a new object called `covid_lab`  \n:::\n\n::::\n\n## {{< fa code >}}-Subset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nthe_vars <- c(\n  # Covid variables\n  \"state\",\"state_po\",\"date\",\"new_deaths_pc_14day\", \"percent_vaccinated\",\n  # Election variables\n  \"winner\",\"rep_voteshare\",\n  # Demographic variables\n  \"med_age\",\"med_income\",\"population\")\n\n\ncovid_lab <- covid_df %>%\n  filter( date == \"2021-09-23\") %>%\n  select(all_of(the_vars)) %>%\n  ungroup()\n\nlength(the_vars)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 10\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(covid_lab)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 51 10\n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Subsetted Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_lab\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 51 × 10\n   state       state_po date       new_deaths_pc_14day percent_vaccinated winner\n   <chr>       <I<chr>> <date>                   <dbl>              <dbl> <fct> \n 1 Minnesota   MN       2021-09-23               0.222               61.0 Biden \n 2 California  CA       2021-09-23               0.295               60.8 Biden \n 3 Florida     FL       2021-09-23               1.61                58.4 Trump \n 4 Wyoming     WY       2021-09-23               0.938               43.9 Trump \n 5 South Dako… SD       2021-09-23               0.291               52.4 Trump \n 6 Kansas      KS       2021-09-23               0.559               53.9 Trump \n 7 Nevada      NV       2021-09-23               0.700               51.8 Biden \n 8 Virginia    VA       2021-09-23               0.379               62.5 Biden \n 9 Washington  WA       2021-09-23               0.532               63.2 Biden \n10 Oregon      OR       2021-09-23               0.439               62.3 Biden \n# ℹ 41 more rows\n# ℹ 4 more variables: rep_voteshare <dbl>, med_age <dbl>, med_income <dbl>,\n#   population <int>\n```\n\n\n:::\n:::\n\n\n:::::\n\n\n## Standardized Variables{.smaller}\n\n::::{.nonincremental}\n\nWhen numeric [variables]{.blue} are measured on [different scales]{.blue}, it can be useful to construct [standardized]{.blue} measures, sometimes called [z-scores]{.blue}\n\n$$z\\text{-scores of x} = \\frac{x_i - \\mu_{x}}{\\sigma_x}$$\n\n- The *z-score* of Age is\n\n$$z\\text{-scores of Age} = \\frac{\\text{Age}_i - \\text{Average Age}}{\\text{Standard Deviation of Age}}$$\n\n::: {.callout-note}\n- Standardized variables [all]{.blue} have a [mean of 0]{.blue} and a [standard deviation of 1]{.blue}\n- Standardizing variables helps us [interpret coefficients]{.blue} in [multiple regressions]{.blue} with predictors [measured on different scales]{.blue} \n:::\n\n::::\n\n## Standardizing variables for the lab{.smaller}\n\n\n::::: panel-tabset\n\n## Task\n\n::::{.nonincremental}\n\nCreate [standardized versions]{.blue} of\n\n- `rep_voteshare`\n- `med_age`\n- `med_income`\n- `percent_vaccinated`\n\n::: {.callout-note}\n- We'll use the suffix `_std` to distinguish the [standardized]{.blue} variables from the [original]{.blue} variables\n:::\n\n::::\n## {{< fa code >}}-Standardize\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_lab %>%\n  mutate(\n    rep_voteshare_std = (rep_voteshare - mean(rep_voteshare)) / sd(rep_voteshare),\n    med_age_std = ( med_age - mean( med_age)) / sd( med_age),\n    med_income_std = (med_income - mean(med_income)) / sd(med_income),\n    percent_vaccinated_std = (percent_vaccinated - mean(percent_vaccinated)) / sd(percent_vaccinated)\n  ) -> covid_lab\n```\n:::\n\n\n## {{< fa table >}}-Compare\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_lab %>%\n  summarise(\n    mn_rep_vote = mean(rep_voteshare),\n    mn_rep_vote_std = round(mean(rep_voteshare_std),2),\n    sd_rep_vote = sd(rep_voteshare),\n    sd_rep_vote_std = sd(rep_voteshare_std)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 4\n  mn_rep_vote mn_rep_vote_std sd_rep_vote sd_rep_vote_std\n        <dbl>           <dbl>       <dbl>           <dbl>\n1        49.2               0        12.0               1\n```\n\n\n:::\n:::\n\n\n\n## {{< fa chart-line >}}-Compare\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_lab %>% \n  ggplot(aes(rep_voteshare_std,rep_voteshare))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/unnamed-chunk-31-1.png){width=960}\n:::\n:::\n\n\n\n:::::\n\n## Save Data\n\nFinally, I'll save the data for Thursday's lab\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Don't run this code\nsave(covid_lab, file = \"../files/data/06_lab.rda\")\n```\n:::\n\n\nAnd on Thursday, we'll be able to load the `covid_lab` just by running:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload(url(\"https://pols1600.paultesta.org/files/data/06_lab.rda\"))\n```\n:::\n\n\n# {{< fa lightbulb >}} Multiple Regression     {.inverse}\n\n## Conceptual: Multiple Regression\n\n:::{.nonincremental}\n\n- Multiple linear regression generalizes simple regression to models with multiple predictors\n\n$$y = \\beta_0 + \\beta_1x_{1} +\\beta_2x_{2} \\dots \\beta_kx_k + \\epsilon$$\nMore compactly written in matrix notation:\n\n$$y = X\\beta + \\epsilon$$\nWhere:\n\n$$\n\\overbrace{\\begin{bmatrix}\ny_1 \\\\\ny_2 \\\\\n\\vdots \\\\\ny_n\n\\end{bmatrix}}^{y}\n=\n\\overbrace{\n\\begin{bmatrix}\n\t 1  & x_{1,1}&\\dots & x_{1,k}\\\\\n 1  & x_{2,1}&\\dots & x_{2,k}\\\\\n \\vdots&\\vdots&  & \\vdots \\\\\n 1  & x_{n,1}&\\dots & x_{n,k}\\\\\n\\end{bmatrix}}^{X}\n\\overbrace{\\begin{bmatrix}\n\\beta_0\\\\\n\\beta_1\\\\\n\\vdots \\\\\n\\beta_k\\\\\n\\end{bmatrix}}^{\\beta}\n+\n\\overbrace{\\begin{bmatrix}\n\\epsilon_1 \\\\\n\\epsilon_2 \\\\\n\\vdots \\\\\n\\epsilon_n\n\\end{bmatrix}}^{\\epsilon}\n$$\n\n:::\n\n## Conceptual: Multiple Regression\n\n- Regression models \"partition variance\"\n\n- Separate variation in the outcome ($y$) into variation [explained by the predictors]{.blue} in the model and the [residual]{.blue} variation [not explained]{.blue} by these predictors\n\n- [Regression coefficients]{.blue} tell us how the outcome \n$y$ is expected to change if $x$ changes by one unit, [holding constant]{.blue} or [controlling for]{.blue} other predictors in the model.\n\n\n\n## Practical: Multiple Regression\n\n:::{.nonincremental}\n\n- We estimate linear models in R using the `lm()` function using the `+` to [add predictors]{.blue}\n\n- We use the `*` to include the main effects $(\\beta_1 x, \\beta_2z)$ and [interactions]{.blue} $(\\beta_3 (x\\cdot z))$of two predictors\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(y ~ x + z, data = df)\nlm(y ~ x*z, data = df) # Is a shortcut for:\nlm(y ~ x + z + x:z, data = df)\n```\n:::\n\n\n:::\n\n## Technical: Multiple Regression {.smaller}\n\n:::{.nonincremental}\n\n\n- Simple linear regression chooses a $\\hat{\\beta_0}$ and $\\hat{\\beta_1}$ to minimize the Sum of Squared Residuals (SSR):\n\n$$\\textrm{Find }\\hat{\\beta_0},\\,\\hat{\\beta_1} \\text{ arg min}_{\\beta_0, \\beta_1} \\sum (y_i-(\\hat{\\beta_0}+\\hat{\\beta_1}x_i))^2$$ \n\n- Multiple linear regression chooses a vector of coefficients $\\hat{\\beta}$ to minimize the Sum of Squared Residuals (SSR):\n\n$$\\textrm{Find }\\widehat{\\beta} \\text{ argmin }_{\\widehat{\\beta}} \\sum \\epsilon^2=\\epsilon^\\prime\\epsilon=(y-X\\widehat{\\beta})^\\prime(y-X\\widehat{\\beta})$$\n\n\n\n:::\n\n## Theoretical: Multiple Regression {.smaller}\n\n:::{.nonincremental}\n\n\n- Multiple Linear regression [still]{.blue} provides a [linear estimate]{.blue} of the conditional expectation function (CEF): $E[Y|X]$ where $Y$ is now a function of [multiple predictors]{.blue}, $X$\n\n:::\n\n# {{< fa lightbulb >}} Estimating and Interpretting Multiple Regression{.inverse}\n\n\n## {.smaller}\n\n#### Estimating and Interpretting Multiple Regressions \n\n:::: panel-tabset\n\n\n## Task\n\n:::{.nonincremental}\n\nLet's [load, inspect, and recode]{.blue} some data from the [2016 NES](https://electionstudies.org/data-center/2016-time-series-study/) and explore the relationship between political interest and evaluations of presidential candidates:\n\n-   Political Interest: \"How interested are you in in politics?\n    -   Very Interested\n    -   Somewhat interested\n    -   Not very Interested\n    -   Not at all Interested\n-   Feeling Thermometer: \"... On the feeling thermometer scale of 0 to 100, how would you rate\"\n    -   Donald Trump\n    -   Hillary Clinton\n\n:::\n\n## {{< fa table >}} NES\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data from 2016 NES\nload(url(\"https://pols1600.paultesta.org/files/data/nes.rda\"))\n```\n:::\n\n\n## {{< fa table >}} HLO\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Take a quick look at the data\ndim(nes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1200   14\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(nes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  caseid    state age gender educ faminc pid7 ideo5 pol_interest church_atd\n1    745  Alabama  19      2    3     97    5     3            1          2\n2   1115  Alabama  46      1    3      3    1     1            3          6\n3    258  Alabama  59      2    2      6    2     3            2          1\n4    126  Alabama  55      2    4      6    1     2            3          5\n5    414  Alabama  66      1    3      8    7     4            3          3\n6    523  Alabama  61      1    2     97    1     2            3          6\n  bornagain01 ft_trump ft_hrc vote_choice\n1           0        3     19       Other\n2           0        0     36         HRC\n3           1       22      2        <NA>\n4           0        1     80         HRC\n5           1      100      3        <NA>\n6           1        0    100        <NA>\n```\n\n\n:::\n\n```{.r .cell-code}\ntable(nes$pol_interest)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  0   1   2   3 \n 78 178 348 568 \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(nes$ft_trump)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n   0.00    2.00   30.00   38.38   72.00  100.00       3 \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(nes$ft_hrc)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n   0.00    3.00   44.00   42.99   76.00  100.00       1 \n```\n\n\n:::\n:::\n\n\n## {{< fa code >}} Wrangle\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnes %>%\n  mutate(\n    income = ifelse(faminc > 16, NA, faminc),\n    interested = ifelse(pol_interest==3,T,F),\n    pol_interest_f = factor(case_when(\n      pol_interest == 0 ~ \"Not at all Interested\",\n      pol_interest == 1 ~ \"Not very Interested\",\n      pol_interest == 2 ~ \"Somewhat Interested\",\n      pol_interest == 3 ~ \"Very Interested\"\n    )),\n    tc_diff = abs(ft_trump - ft_hrc)\n  ) -> nes\n```\n:::\n\n\n::::\n\n## {.smaller}  \n\n#### Estimating and Interpreting Models\n\n:::: panel-tabset\n\n\n## Models\n\nLet's estimate the following models:\n\n\n\n$$\\text{m1: tc_diff} = \\beta_0 + \\beta_1\\text{interested}+\\epsilon $$ \n\n$$\\text{m2: tc_diff} = \\beta_0 + \\beta_1\\text{pol_interest}+\\epsilon$$ \n\n$$\\text{m3: tc_diff} = \\beta_0 + \\beta_1\\text{pol_interest_f} +\\epsilon$$ \n\n$$\\text{m4: tc_diff} = \\beta_0 + \\beta_1\\text{interested} + \\beta_2\\text{age} +\\epsilon$$ \n\n$$\\text{m5: tc_diff} = \\beta_0 + \\beta_1\\text{interested} + \\beta_2\\text{age} + \\beta_3\\text{interested} \\times \\text{age}+\\epsilon$$ \n\n$$\\text{m6: tc_diff} = \\beta_0 + \\beta_1\\text{age} + \\beta_2\\text{income} +\\epsilon$$\n\n$$\\text{m7: tc_diff} = \\beta_0 + \\beta_1\\text{age} + \\beta_2\\text{income} + \\beta_4\\text{age}\\times \\text{income}+\\epsilon $$\n\n## Skills\n\n:::{.nonincremental}\n\nWe'll use:\n\n- `lm()` to [estimate models]{.blue}\n- `coef()` and `summary()` to [examine]{.blue} our model\n- `htmlreg()`to [format]{.blue} our results\n- `data.frame()` to create [prediction dataframes]{.blue}\n- `predict()` to produce [predicted values]{.blue} and `cbind()` to combine the results back into [prediction dataframes]{.blue}\n- `ggplot()` to display and interpret our models' [predictions]{.blue}\n\n:::\n\n::::\n\n\n\n## `m1`: A binary indicator {.smaller}\n\n::: panel-tabset\n\n## m1\n\n$$\\text{m1: tc_diff} = \\beta_0 + \\beta_1\\text{interested}+\\epsilon $$ \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- lm(tc_diff ~ interested, nes)\ncoef(m1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   (Intercept) interestedTRUE \n      47.84500       12.74655 \n```\n\n\n:::\n\n```{.r .cell-code}\nmean(nes$tc_diff[nes$interested == F], na.rm=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 47.845\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(nes$tc_diff[nes$interested == T], na.rm=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 60.59155\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(nes$tc_diff[nes$interested == T], na.rm=T) -\n  mean(nes$tc_diff[nes$interested == F], na.rm=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12.74655\n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(m1)\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">47.84<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.26)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">12.75<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.81)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"2\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df1 <- expand_grid(\n  interested = c(F,T)\n)\n\npred_df1  <- cbind(\n  pred_df1 ,\n  fit = predict(m1, pred_df1 )\n)\n\n# Produce figure\n\npred_df1 %>% \n  ggplot(aes(interested, fit))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(interested)),\n    aes(x= interested,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point(col=\"red\") -> fig_tc_m1\n```\n:::\n\n\n## {{< fa chart-line >}}-m1\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m1fig-1.png){width=960}\n:::\n:::\n\n\n:::\n\n## `m2`: A numerical predictor {.smaller}\n\n::: panel-tabset\n\n## m2\n\n$$\\text{m2: tc_diff} = \\beta_0 + \\beta_1\\text{pol_interest}+\\epsilon$$ \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm2 <- lm(tc_diff ~ pol_interest, nes)\nround(coef(m2),2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n (Intercept) pol_interest \n       40.80         6.01 \n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list(m1,m2))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">47.84<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">40.80<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.26)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(2.35)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">12.75<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.81)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">pol_interest</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">6.01<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.98)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.03</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.03</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"3\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df2 <- expand_grid(\n  pol_interest = na.omit(sort(unique(nes$pol_interest)))\n)\n\npred_df2  <- cbind(\n  pred_df2 ,\n  fit = predict(m2, pred_df2 )\n)\n\n# Produce figure\n\npred_df2 %>% \n  ggplot(aes(pol_interest, fit,\n             ))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(pol_interest)),\n    aes(x= pol_interest,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_line(col=\"red\") +\n  geom_point(col=\"red\") -> fig_tc_m2\n```\n:::\n\n\n## {{< fa chart-line >}}-m2\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m2fig-1.png){width=960}\n:::\n:::\n\n\n:::\n\n\n## `m3`: A categorical indicator {.smaller}\n\n::: panel-tabset\n\n## m3\n\n$$\\text{m3: tc_diff} = \\beta_0 + \\beta_1\\text{pol_interest_f} +\\epsilon$$ \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm3 <- lm(tc_diff ~ pol_interest_f, nes)\nround(coef(m3),2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                      (Intercept) pol_interest_fNot very Interested \n                            46.10                              1.73 \npol_interest_fSomewhat Interested     pol_interest_fVery Interested \n                             2.14                             14.49 \n```\n\n\n:::\n\n```{.r .cell-code}\nnes %>% \n  group_by(pol_interest_f) %>%\n  filter(!is.na(pol_interest_f)) %>% \n  summarise(\n    mean = mean(tc_diff,na.rm = T),\n    beta = round(mean - coef(m3)[1],3)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  pol_interest_f         mean  beta\n  <fct>                 <dbl> <dbl>\n1 Not at all Interested  46.1  0   \n2 Not very Interested    47.8  1.73\n3 Somewhat Interested    48.2  2.14\n4 Very Interested        60.6 14.5 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Under the hood lm converts pol_interest_f into\n# binary indicators for every value pol_interest_f \n# excluding \"Not at all Interested\", the first level\n# of the factor\ncbind(\nm3$model[26:30,],\nmodel.matrix(m3)[26:30,]\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   tc_diff        pol_interest_f (Intercept) pol_interest_fNot very Interested\n26      96 Not at all Interested           1                                 0\n27      93   Somewhat Interested           1                                 0\n28      95       Very Interested           1                                 0\n29      75   Somewhat Interested           1                                 0\n30       1   Not very Interested           1                                 1\n   pol_interest_fSomewhat Interested pol_interest_fVery Interested\n26                                 0                             0\n27                                 1                             0\n28                                 0                             1\n29                                 1                             0\n30                                 0                             0\n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list(m1,m2,m3))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 3</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">47.84<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">40.80<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">46.10<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.26)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(2.35)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.53)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">12.75<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.81)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">pol_interest</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">6.01<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.98)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">pol_interest_fNot very Interested</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1.73</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(4.23)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">pol_interest_fSomewhat Interested</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">2.14</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.90)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">pol_interest_fVery Interested</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">14.49<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.76)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.03</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.03</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"4\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df3 <- expand_grid(\n  pol_interest_f = na.omit(sort(unique(nes$pol_interest_f)))\n)\n\npred_df3  <- cbind(\n  pred_df3 ,\n  fit = predict(m3, pred_df3 )\n)\n\n# Produce figure\n\npred_df3 %>% \n  ggplot(aes(pol_interest_f, fit,\n             col = pol_interest_f))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(pol_interest_f)),\n    aes(x= pol_interest_f,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point() -> fig_tc_m3\n```\n:::\n\n\n## {{< fa chart-line >}}-m3\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m3fig-1.png){width=960}\n:::\n:::\n\n\n## {{< fa chart-line >}}-m2 vs m3\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m3figm2-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n## `m4`: A binary and numerical predictor {.smaller}\n\n::: panel-tabset\n\n## m4\n\n$$\\text{m4: tc_diff} = \\beta_0 + \\beta_1\\text{interested} + \\beta_2\\text{age} +\\epsilon$$ \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm4 <- lm(tc_diff ~ interested + age, nes)\ncoef(m4)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   (Intercept) interestedTRUE            age \n    32.1757944      9.7739375      0.3533876 \n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list(m1, m4))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">47.84<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">32.18<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.26)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(2.71)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">12.75<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">9.77<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.81)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.84)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">age</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.35<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.05)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.07</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.07</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"3\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df4 <- expand_grid(\n  interested = c(F,T),\n  age = seq(min(nes$age, na.rm = T),\n            max(nes$age, na.rm=T),\n            length.out = 10)\n)\n\npred_df4  <- cbind(\n  pred_df4 ,\n  fit = predict(m4, pred_df4 )\n)\n\n# Produce figure\n\npred_df4 %>% \n  ggplot(aes(age, fit,\n             col = interested,\n             group = interested))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(interested)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= age,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point()+\n  geom_line() -> fig_tc_m4\n```\n:::\n\n\n## {{< fa chart-line >}}-m4\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m4fig-1.png){width=960}\n:::\n:::\n\n\n## {{< fa chart-line >}}-m4 in 3d\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-caa5cd9deb4cf050e57b\" style=\"width:960px;height:480px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-caa5cd9deb4cf050e57b\">{\"x\":{\"visdat\":{\"dfc237129609\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"dfc237129609\",\"attrs\":{\"dfc237129609\":{\"x\":{},\"y\":{},\"z\":{},\"mode\":\"markers\",\"showscale\":false,\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\"},\"dfc237129609.1\":{\"x\":[0,1],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[38.890158522637165,48.664096042934219],[39.243546110536244,49.017483630833297],[39.596933698435322,49.370871218732375],[39.950321286334407,49.724258806631461],[40.303708874233493,50.077646394530547],[40.657096462132571,50.431033982429625],[41.01048405003165,50.784421570328703],[41.363871637930735,51.137809158227789],[41.717259225829814,51.491196746126867],[42.070646813728899,51.844584334025953],[42.424034401627978,52.197971921925031],[42.777421989527056,52.55135950982411],[43.130809577426142,52.904747097723195],[43.484197165325227,53.258134685622281],[43.837584753224306,53.611522273521359],[44.190972341123384,53.964909861420438],[44.54435992902247,54.318297449319523],[44.897747516921548,54.671685037218602],[45.251135104820634,55.025072625117687],[45.604522692719712,55.378460213016766],[45.957910280618798,55.731847800915851],[46.311297868517876,56.08523538881493],[46.664685456416962,56.438622976714015],[47.01807304431604,56.792010564613093],[47.371460632215118,57.145398152512172],[47.724848220114204,57.498785740411257],[48.078235808013289,57.852173328310343],[48.431623395912368,58.205560916209421],[48.785010983811446,58.5589485041085],[49.138398571710532,58.912336092007585],[49.49178615960961,59.265723679906664],[49.845173747508696,59.619111267805749],[50.198561335407774,59.972498855704828],[50.551948923306853,60.325886443603906],[50.905336511205938,60.679274031502992],[51.258724099105024,61.032661619402077],[51.612111687004102,61.386049207301156],[51.965499274903181,61.739436795200234],[52.318886862802266,62.09282438309932],[52.672274450701352,62.446211970998405],[53.02566203860043,62.799599558897484],[53.379049626499508,63.152987146796562],[53.732437214398587,63.50637473469564],[54.085824802297672,63.859762322594726],[54.439212390196758,64.213149910493811],[54.792599978095836,64.56653749839289],[55.145987565994915,64.919925086291968],[55.499375153894,65.273312674191061],[55.852762741793086,65.626700262090139],[56.206150329692164,65.980087849989218],[56.559537917591243,66.333475437888296],[56.912925505490321,66.686863025787375],[57.266313093389407,67.040250613686453],[57.619700681288492,67.393638201585546],[57.973088269187571,67.747025789484624],[58.326475857086649,68.100413377383703],[58.679863444985735,68.453800965282795],[59.03325103288482,68.807188553181874],[59.386638620783899,69.160576141080952],[59.740026208682977,69.513963728980031],[60.093413796582063,69.867351316879109],[60.446801384481141,70.220738904778187],[60.800188972380226,70.57412649267728],[61.153576560279305,70.927514080576358],[61.506964148178383,71.280901668475437],[61.860351736077469,71.634289256374529],[62.213739323976554,71.987676844273608],[62.567126911875633,72.341064432172686],[62.920514499774711,72.694452020071765],[63.273902087673797,73.047839607970843],[63.627289675572882,73.401227195869936],[63.980677263471961,73.754614783769014],[64.334064851371039,74.108002371668093],[64.687452439270118,74.461389959567185],[65.040840027169196,74.814777547466264],[65.394227615068289,75.168165135365342],[65.747615202967367,75.521552723264421]],\"mode\":\"markers\",\"showscale\":false,\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\",\"alpha\":0.65000000000000002,\"name\":\"pred_surface\",\"surfacecolor\":[[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1]],\"cauto\":false,\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"interest01\"},\"yaxis\":{\"title\":\"age\"},\"zaxis\":{\"title\":\"tc_diff\"}},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\"y\":[46,55,66,61,42,65,45,57,48,61,63,43,60,80,40,52,65,44,48,52,67,60,32,89,32,40,33,22,56,71,34,28,44,63,63,39,60,76,60,41,55,57,60,72,21,64,63,49,56,80,61,62,69,52,67,33,47,59,44,60,60,76,43,81,80,41,50,65,48,62,61,65,32,60,71,82,33,59,35,22,61,69,43,64,78,71,21,43,70,56,57,66,74,57,41,61,28,56,62,66,58,76,28,37,71,39,27,20,64,73,50,55,90,68,80,65,27,64,73,68,76,23,74,43,77,62,29,67,72,70,28,57,52,71,44,39,85,62,62,35,74,28,74,56,42,56,80,36,52,44,45,66,73,29,55,51,29,76,58,73,57,60,49,41,70,53,58,32,78,56,95,56,33,28,55,36,69,34,73,51,72,34,42,60,43,43,63,58,63,38,34,44,63,78,60,53,29,33,45,53,62,47,74,56,35,70,21,31,40,56,46,56,78,46,22,58,65,36,27,55,52,59,62,79,33,43,38,62,80,42,42,72,34,46,43,53,77,67,55,42,25,57,38,38,32,36,24,66,51,71,60,29,27,36,66,63,69,58,35,43,35,39,78,60,79,44,61,48,64,69,42,51,45,67,61,54,20,76,78,44,72,60,51,54,23,65,24,67,32,27,62,79,36,26,40,59,69,77,40,24,68,70,37,63,48,29,58,65,36,70,67,38,59,44,68,79,46,36,33,64,22,63,54,26,55,32,53,37,31,66,73,44,36,69,58,30,80,27,58,24,50,42,73,26,59,62,73,70,23,22,71,61,65,60,57,68,73,21,25,63,66,63,60,39,37,45,50,59,38,67,41,73,52,56,26,65,38,62,42,53,71,26,70,31,54,60,60,59,22,52,65,72,36,61,26,58,29,61,37,52,23,62,67,22,45,59,51,29,36,23,20,55,52,71,64,40,27,71,23,71,58,76,27,52,62,70,62,63,62,62,25,34,58,75,48,55,28,61,41,55,62,67,34,49,79,83,55,56,32,69,35,59,38,61,78,31,30,57,48,83,84,79,57,33,61,62,50,75,69,58,74,47,44,80,56,56,74,41,55,69,58,60,30,62,33,62,83,29,62,24,48,56,42,40,84,64,55,91,71,52,28,58,66,73,58,55,24,61,42,66,64,54,43,38,41,34,60,34,23,24,23,63,63,56,39,54,31,44,53,28,63,34,44,26,21,62,20,56,23,41,66,65,46,76,30,47,27,49,60,62,63,80,63,57,70,70,70,56,52,66,23,64,75,68,33,68,49,41],\"z\":[36,79,97,100,85,14,0,86,81,89,97,85,79,95,89,100,58,99,51,6,94,65,7,92,61,90,64,92,75,88,13,60,3,27,90,81,90,50,90,40,86,100,40,40,92,47,86,75,90,94,81,80,99,11,95,0,17,63,97,39,41,75,30,85,20,19,56,58,34,79,20,100,63,81,100,90,99,98,87,37,44,25,69,88,40,92,81,46,30,29,0,44,96,97,60,100,100,89,5,92,75,75,68,2,92,71,75,39,78,1,84,89,91,63,31,46,92,91,99,64,92,72,99,35,91,66,97,40,80,24,30,83,71,80,40,51,95,89,10,80,86,18,61,71,79,79,82,46,60,36,90,40,95,66,89,36,85,1,50,89,44,74,53,7,94,40,0,33,81,88,78,16,81,31,80,35,99,71,72,24,73,13,99,78,67,87,61,60,94,84,19,33,89,86,68,29,6,0,100,67,11,91,91,80,78,65,83,67,41,44,68,62,79,59,2,20,93,84,13,100,100,84,59,85,81,89,55,60,46,95,73,38,45,66,20,99,75,40,85,65,6,88,45,66,35,60,98,85,93,89,98,65,6,27,28,95,93,48,17,95,0,27,60,18,91,70,50,100,85,100,12,1,31,87,41,99,16,69,100,44,100,87,68,88,0,94,12,99,54,1,72,97,8,70,69,90,77,11,70,52,29,81,12,99,52,44,100,74,76,88,72,17,44,5,2,93,88,44,99,23,56,83,13,2,80,68,70,64,59,92,70,60,69,87,31,44,77,43,48,39,91,95,53,30,96,28,93,84,55,9,85,37,69,66,15,98,85,65,35,16,87,76,89,60,1,50,78,55,63,75,80,20,32,45,0,51,51,87,49,4,100,1,71,54,45,50,0,56,100,96,94,42,49,96,31,25,38,96,41,92,94,35,93,74,0,52,36,31,39,59,56,61,100,69,87,40,40,20,67,60,86,98,20,89,73,16,81,95,74,32,100,63,98,80,63,85,32,99,0,39,70,4,38,94,80,89,31,16,9,55,1,99,51,90,48,70,44,87,92,15,93,92,85,28,11,88,94,97,98,10,90,100,45,100,1,78,60,75,95,93,64,1,1,72,70,94,74,82,64,54,90,60,78,96,30,75,2,71,19,100,27,69,20,78,71,53,50,81,60,20,66,0,96,68,68,10,94,14,72,3,48,98,52,23,70,29,28,70,15,0,31,28,54,34,5,60,66,78,86,46,52,85,71,88,54,89,7,48,72,89,25,10,65,11,99,93,97,82,10,27,23,75,91,70,94,97,5,64],\"mode\":\"markers\",\"showscale\":false,\"type\":\"scatter3d\",\"name\":\"Interested\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\"},\"error_y\":{\"color\":\"rgba(102,194,165,1)\"},\"error_x\":{\"color\":\"rgba(102,194,165,1)\"},\"line\":{\"color\":\"rgba(102,194,165,1)\"},\"frame\":null},{\"x\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"y\":[19,59,39,43,36,38,55,38,71,38,41,40,61,21,34,53,59,47,46,62,26,24,42,46,56,56,60,64,54,57,20,62,19,39,38,59,61,28,39,39,49,26,79,33,56,43,24,21,48,83,29,25,61,91,40,38,75,27,26,30,26,36,47,37,27,40,59,19,58,49,36,35,26,26,19,37,43,85,31,30,25,26,53,67,22,27,62,37,48,23,23,25,48,37,77,40,20,32,43,19,21,60,34,51,54,38,29,20,28,41,76,54,19,78,28,31,57,53,24,25,65,43,60,57,35,41,59,45,37,65,67,65,75,27,51,38,59,44,43,41,20,59,27,29,35,36,61,41,57,68,61,36,26,28,35,43,57,59,67,29,39,57,59,30,24,20,53,37,29,48,19,21,42,71,66,39,75,26,36,24,35,59,63,57,31,46,54,49,45,64,43,46,58,25,26,42,61,62,55,31,73,26,21,40,74,44,27,39,66,19,39,48,19,75,52,54,42,34,52,31,59,58,28,29,25,40,40,30,31,60,55,44,63,29,82,34,55,61,38,27,50,84,19,77,56,27,33,35,51,43,43,38,33,20,30,38,25,40,24,60,52,23,42,34,59,76,30,44,64,66,44,22,63,60,36,27,43,31,57,43,44,49,23,49,45,37,42,40,62,23,41,55,69,55,61,56,62,55,51,59,61,50,32,31,34,31,63,44,38,54,40,60,26,29,62,20,30,62,41,30,57,32,67,22,33,28,54,63,55,29,31,25,51,64,52,71,31,78,22,26,19,37,23,20,43,23,30,59,39,69,52,46,41,33,61,64,73,52,39,43,42,26,65,28,23,68,36,52,25,22,24,55,51,30,25,36,33,19,64,27,28,62,64,60,28,92,29,40,39,60,61,33,30,50,20,64,28,35,62,63,39,19,59,53,52,51,53,69,33,35,76,24,69,62,20,32,38,69,62,35,49,35,55,39,26,48,47,35,24,34,30,43,43,57,33,48,55,30,54,63,64,42,67,41,74,21,30,27,29,25,52,48,20,65,41,54,28,37,39,51,27,76,57,34,71,86,61,60,25,38,55,40,27,63,62,51,37,53,57,27,22,43,24,64,64,75,64,54,45,35,27,46,69,53,41,56,25,44,24,60,61,28,38,64,44,49,46,57,29,26,27,48,59,53,34,38,22,54,54,30,22,34,78,28,65,43,67,36,44,22,61,72,32,55,61,36,21,44,43,60,53,41,26,39,39,54,26,41,20,25,26,39,25,24,43,43,32,48,27,74,47,58,24,58,40,40,43,32,49,57,61,38,30,54,35,72,49,21,41,65,66,24,64,77,60,43,63,73,59,66,65,57,37,54,66,58,23,55,36,50],\"z\":[16,20,86,95,91,50,49,0,0,8,15,9,96,93,75,1,12,20,59,33,33,6,49,59,54,0,9,100,0,1,66,42,36,19,74,93,73,76,75,71,82,66,70,84,53,1,15,40,35,47,68,72,53,59,32,30,5,85,73,68,2,27,2,50,16,91,84,53,91,29,91,8,31,60,1,35,71,71,1,12,76,60,61,54,38,34,88,2,30,32,56,60,19,39,25,38,42,51,49,80,42,19,9,17,19,7,4,54,70,52,78,18,11,94,3,10,61,5,94,9,49,34,66,57,30,83,31,78,70,79,30,40,97,73,53,52,21,2,45,2,16,24,70,30,84,43,67,99,84,72,79,11,50,40,34,99,99,10,0,49,67,25,5,63,11,50,73,49,62,1,58,16,79,97,9,1,1,4,2,48,56,75,80,23,31,60,15,69,81,86,9,47,95,71,100,60,44,5,46,81,98,39,81,1,69,5,89,25,8,58,50,21,0,93,0,83,98,22,95,4,78,1,97,68,8,100,9,85,98,39,96,66,89,52,52,90,0,1,64,83,10,80,62,80,70,6,87,21,90,15,100,5,50,18,5,89,37,17,53,84,65,30,23,0,99,5,84,92,98,6,52,13,31,80,47,0,50,28,33,89,20,32,75,58,88,1,88,100,94,50,81,97,70,14,92,100,90,83,76,15,18,29,56,91,100,84,98,78,18,80,61,77,55,17,45,76,38,1,82,46,7,35,58,0,51,76,49,50,96,14,26,86,64,69,36,42,34,1,47,11,85,14,36,50,14,5,3,94,93,69,69,84,61,96,58,55,36,42,9,2,60,5,94,4,65,58,49,5,64,44,55,37,15,57,61,21,0,70,28,41,43,28,21,37,20,88,86,95,64,88,69,65,30,63,83,40,58,29,18,92,1,12,29,38,54,8,81,100,9,63,80,68,94,17,3,92,1,61,99,28,24,15,76,51,32,8,60,99,63,86,58,46,40,69,1,1,85,91,73,55,54,55,89,37,34,23,45,6,22,41,40,18,72,71,29,100,52,48,0,85,57,45,46,35,9,34,5,10,70,58,45,86,100,44,9,26,31,12,11,65,79,94,53,98,72,84,53,30,2,75,15,50,70,40,78,52,63,47,3,16,43,48,69,50,1,1,1,31,19,84,30,95,88,78,3,76,9,2,98,61,74,49,100,60,50,34,38,82,45,44,80,87,22,32,42,94,34,33,23,92,10,96,3,94,65,23,52,97,26,47,57,19,47,5,3,80,50,84,4,1,77,39,91,12,72,2,35,75,19,84,90,3,4,55,19,55,69,94,60,0,100,0,9,97,51,9,20,7,61,0,11,69,68,28,49,30,15,0,28,56],\"mode\":\"markers\",\"showscale\":false,\"type\":\"scatter3d\",\"name\":\"Not Interested\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\"},\"error_y\":{\"color\":\"rgba(141,160,203,1)\"},\"error_x\":{\"color\":\"rgba(141,160,203,1)\"},\"line\":{\"color\":\"rgba(141,160,203,1)\"},\"frame\":null},{\"x\":[0,1],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[38.890158522637165,48.664096042934219],[39.243546110536244,49.017483630833297],[39.596933698435322,49.370871218732375],[39.950321286334407,49.724258806631461],[40.303708874233493,50.077646394530547],[40.657096462132571,50.431033982429625],[41.01048405003165,50.784421570328703],[41.363871637930735,51.137809158227789],[41.717259225829814,51.491196746126867],[42.070646813728899,51.844584334025953],[42.424034401627978,52.197971921925031],[42.777421989527056,52.55135950982411],[43.130809577426142,52.904747097723195],[43.484197165325227,53.258134685622281],[43.837584753224306,53.611522273521359],[44.190972341123384,53.964909861420438],[44.54435992902247,54.318297449319523],[44.897747516921548,54.671685037218602],[45.251135104820634,55.025072625117687],[45.604522692719712,55.378460213016766],[45.957910280618798,55.731847800915851],[46.311297868517876,56.08523538881493],[46.664685456416962,56.438622976714015],[47.01807304431604,56.792010564613093],[47.371460632215118,57.145398152512172],[47.724848220114204,57.498785740411257],[48.078235808013289,57.852173328310343],[48.431623395912368,58.205560916209421],[48.785010983811446,58.5589485041085],[49.138398571710532,58.912336092007585],[49.49178615960961,59.265723679906664],[49.845173747508696,59.619111267805749],[50.198561335407774,59.972498855704828],[50.551948923306853,60.325886443603906],[50.905336511205938,60.679274031502992],[51.258724099105024,61.032661619402077],[51.612111687004102,61.386049207301156],[51.965499274903181,61.739436795200234],[52.318886862802266,62.09282438309932],[52.672274450701352,62.446211970998405],[53.02566203860043,62.799599558897484],[53.379049626499508,63.152987146796562],[53.732437214398587,63.50637473469564],[54.085824802297672,63.859762322594726],[54.439212390196758,64.213149910493811],[54.792599978095836,64.56653749839289],[55.145987565994915,64.919925086291968],[55.499375153894,65.273312674191061],[55.852762741793086,65.626700262090139],[56.206150329692164,65.980087849989218],[56.559537917591243,66.333475437888296],[56.912925505490321,66.686863025787375],[57.266313093389407,67.040250613686453],[57.619700681288492,67.393638201585546],[57.973088269187571,67.747025789484624],[58.326475857086649,68.100413377383703],[58.679863444985735,68.453800965282795],[59.03325103288482,68.807188553181874],[59.386638620783899,69.160576141080952],[59.740026208682977,69.513963728980031],[60.093413796582063,69.867351316879109],[60.446801384481141,70.220738904778187],[60.800188972380226,70.57412649267728],[61.153576560279305,70.927514080576358],[61.506964148178383,71.280901668475437],[61.860351736077469,71.634289256374529],[62.213739323976554,71.987676844273608],[62.567126911875633,72.341064432172686],[62.920514499774711,72.694452020071765],[63.273902087673797,73.047839607970843],[63.627289675572882,73.401227195869936],[63.980677263471961,73.754614783769014],[64.334064851371039,74.108002371668093],[64.687452439270118,74.461389959567185],[65.040840027169196,74.814777547466264],[65.394227615068289,75.168165135365342],[65.747615202967367,75.521552723264421]],\"mode\":\"markers\",\"showscale\":false,\"type\":\"surface\",\"name\":\"pred_surface\",\"surfacecolor\":[[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1]],\"cauto\":false,\"frame\":null},{\"x\":[0,1],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[38.890158522637165,48.664096042934219],[39.243546110536244,49.017483630833297],[39.596933698435322,49.370871218732375],[39.950321286334407,49.724258806631461],[40.303708874233493,50.077646394530547],[40.657096462132571,50.431033982429625],[41.01048405003165,50.784421570328703],[41.363871637930735,51.137809158227789],[41.717259225829814,51.491196746126867],[42.070646813728899,51.844584334025953],[42.424034401627978,52.197971921925031],[42.777421989527056,52.55135950982411],[43.130809577426142,52.904747097723195],[43.484197165325227,53.258134685622281],[43.837584753224306,53.611522273521359],[44.190972341123384,53.964909861420438],[44.54435992902247,54.318297449319523],[44.897747516921548,54.671685037218602],[45.251135104820634,55.025072625117687],[45.604522692719712,55.378460213016766],[45.957910280618798,55.731847800915851],[46.311297868517876,56.08523538881493],[46.664685456416962,56.438622976714015],[47.01807304431604,56.792010564613093],[47.371460632215118,57.145398152512172],[47.724848220114204,57.498785740411257],[48.078235808013289,57.852173328310343],[48.431623395912368,58.205560916209421],[48.785010983811446,58.5589485041085],[49.138398571710532,58.912336092007585],[49.49178615960961,59.265723679906664],[49.845173747508696,59.619111267805749],[50.198561335407774,59.972498855704828],[50.551948923306853,60.325886443603906],[50.905336511205938,60.679274031502992],[51.258724099105024,61.032661619402077],[51.612111687004102,61.386049207301156],[51.965499274903181,61.739436795200234],[52.318886862802266,62.09282438309932],[52.672274450701352,62.446211970998405],[53.02566203860043,62.799599558897484],[53.379049626499508,63.152987146796562],[53.732437214398587,63.50637473469564],[54.085824802297672,63.859762322594726],[54.439212390196758,64.213149910493811],[54.792599978095836,64.56653749839289],[55.145987565994915,64.919925086291968],[55.499375153894,65.273312674191061],[55.852762741793086,65.626700262090139],[56.206150329692164,65.980087849989218],[56.559537917591243,66.333475437888296],[56.912925505490321,66.686863025787375],[57.266313093389407,67.040250613686453],[57.619700681288492,67.393638201585546],[57.973088269187571,67.747025789484624],[58.326475857086649,68.100413377383703],[58.679863444985735,68.453800965282795],[59.03325103288482,68.807188553181874],[59.386638620783899,69.160576141080952],[59.740026208682977,69.513963728980031],[60.093413796582063,69.867351316879109],[60.446801384481141,70.220738904778187],[60.800188972380226,70.57412649267728],[61.153576560279305,70.927514080576358],[61.506964148178383,71.280901668475437],[61.860351736077469,71.634289256374529],[62.213739323976554,71.987676844273608],[62.567126911875633,72.341064432172686],[62.920514499774711,72.694452020071765],[63.273902087673797,73.047839607970843],[63.627289675572882,73.401227195869936],[63.980677263471961,73.754614783769014],[64.334064851371039,74.108002371668093],[64.687452439270118,74.461389959567185],[65.040840027169196,74.814777547466264],[65.394227615068289,75.168165135365342],[65.747615202967367,75.521552723264421]],\"mode\":\"markers\",\"showscale\":false,\"type\":\"surface\",\"name\":\"pred_surface\",\"surfacecolor\":[[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1]],\"cauto\":false,\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n:::\n\n## {.smaller}\n\n#### `m5`: An interaction between a binary and numerical predictor \n\n::: panel-tabset\n\n## m5\n\n$$\\text{m5: tc_diff} = \\beta_0 + \\beta_1\\text{interested} + \\beta_2\\text{age} + \\beta_3\\text{interested} \\times \\text{age}+\\epsilon$$ \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm5 <- lm(tc_diff ~ interested*age, nes)\ncoef(m5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       (Intercept)     interestedTRUE                age interestedTRUE:age \n        39.7626421         -6.7040163          0.1822814          0.3396523 \n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list(m1, m4, m5))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 3</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">47.84<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">32.18<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">39.76<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.26)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(2.71)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.62)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">12.75<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">9.77<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-6.70</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.81)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(1.84)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(5.55)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">age</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.35<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.18<sup>&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.05)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.08)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">interestedTRUE:age</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.34<sup>&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.11)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.07</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.08</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.07</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.08</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1168</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"4\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df5 <- expand_grid(\n  interested = c(F,T),\n  age = seq(min(nes$age, na.rm = T),\n            max(nes$age, na.rm=T),\n            length.out = 10)\n)\n\npred_df5  <- cbind(\n  pred_df5 ,\n  fit = predict(m5, pred_df5 )\n)\n\n# Produce figure\n\npred_df5 %>% \n  ggplot(aes(age, fit,\n             col = interested,\n             group = interested))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(interested)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= age,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point()+\n  geom_line() -> fig_tc_m5\n```\n:::\n\n\n## {{< fa chart-line >}}-m5\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m5fig-1.png){width=960}\n:::\n:::\n\n\n## {{< fa chart-line >}}-m5 in 3d\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-d6e7b5e555c37ea95b86\" style=\"width:960px;height:480px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d6e7b5e555c37ea95b86\">{\"x\":{\"visdat\":{\"dfc2668de4da\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"dfc2668de4da\",\"attrs\":{\"dfc2668de4da\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"size\":5,\"inherit\":true},\"dfc2668de4da.1\":{\"x\":[0,1],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[43.225988991872235,42.975366819309201],[43.408270404979092,43.497300554984555],[43.590551818085956,44.019234290659917],[43.77283323119282,44.541168026335278],[43.955114644299677,45.063101762010632],[44.137396057406534,45.585035497685986],[44.319677470513398,46.106969233361347],[44.501958883620262,46.628902969036709],[44.684240296727118,47.150836704712063],[44.866521709833982,47.672770440387424],[45.048803122940839,48.194704176062778],[45.231084536047703,48.71663791173814],[45.41336594915456,49.238571647413494],[45.595647362261424,49.760505383088855],[45.777928775368281,50.282439118764209],[45.960210188475145,50.804372854439571],[46.142491601582002,51.326306590114925],[46.324773014688866,51.848240325790286],[46.507054427795723,52.370174061465647],[46.689335840902586,52.892107797141009],[46.871617254009443,53.414041532816356],[47.053898667116307,53.935975268491717],[47.236180080223164,54.457909004167078],[47.418461493330028,54.979842739842439],[47.600742906436892,55.501776475517801],[47.783024319543749,56.023710211193155],[47.965305732650606,56.545643946868509],[48.14758714575747,57.06757768254387],[48.329868558864334,57.589511418219232],[48.512149971971191,58.111445153894586],[48.694431385078055,58.633378889569947],[48.876712798184911,59.155312625245301],[49.058994211291775,59.677246360920662],[49.241275624398632,60.199180096596017],[49.423557037505496,60.721113832271378],[49.605838450612353,61.243047567946732],[49.788119863719217,61.764981303622093],[49.970401276826074,62.286915039297448],[50.152682689932938,62.808848774972809],[50.334964103039795,63.330782510648163],[50.517245516146659,63.852716246323524],[50.699526929253523,64.374649981998886],[50.88180834236038,64.896583717674247],[51.064089755467236,65.418517453349594],[51.2463711685741,65.940451189024955],[51.428652581680964,66.462384924700316],[51.610933994787821,66.984318660375678],[51.793215407894678,67.506252396051025],[51.975496821001542,68.028186131726386],[52.157778234108406,68.550119867401747],[52.340059647215263,69.072053603077109],[52.522341060322127,69.59398733875247],[52.704622473428984,70.115921074427831],[52.886903886535848,70.637854810103192],[53.069185299642704,71.15978854577854],[53.251466712749568,71.681722281453901],[53.433748125856425,72.203656017129248],[53.616029538963289,72.725589752804609],[53.798310952070146,73.24752348847997],[53.98059236517701,73.769457224155332],[54.162873778283867,74.291390959830693],[54.345155191390731,74.813324695506054],[54.527436604497595,75.335258431181416],[54.709718017604452,75.857192166856763],[54.891999430711309,76.37912590253211],[55.074280843818173,76.901059638207485],[55.256562256925037,77.422993373882846],[55.438843670031893,77.944927109558193],[55.62112508313875,78.466860845233555],[55.803406496245614,78.988794580908916],[55.985687909352478,79.510728316584277],[56.167969322459335,80.032662052259624],[56.350250735566192,80.554595787934986],[56.532532148673056,81.076529523610347],[56.71481356177992,81.598463259285708],[56.897094974886777,82.120396994961055],[57.079376387993634,82.642330730636417]],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\",\"alpha\":0.65000000000000002,\"name\":\"pred_surface\",\"cauto\":true,\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"interest01\"},\"yaxis\":{\"title\":\"age\"},\"zaxis\":{\"title\":\"tc_diff\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\".hideLegend\":true,\"data\":[{\"x\":[0,1,0,1,1,1,1,0,1,0,0,1,1,0,1,0,0,0,1,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,0,1,1,0,1,1,0,1,0,1,0,0,0,0,0,1,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,1,1,1,1,0,1,0,1,0,0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0,1,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,1,0,0,0,1,1,1,1,0,1,0,1,1,0,0,0,1,1,1,1,0,0,1,1,0,0,1,0,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,1,1,0,0,0,0,1,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,1,0,0,0,1,0,0,0,0,1,1,0,0,1,0,0,0,0,1,1,0,0,1,0,1,1,1,0,1,1,0,1,0,0,1,1,1,0,0,0,0,0,1,1,0,1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,0,1,1,1,1,1,0,0,1,0,0,1,1,1,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,1,0,0,1,1,0,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,1,1,1,0,0,0,1,0,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,0,1,0,1,1,1,0,0,1,0,1,1,0,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,1,0,1,1,1,0,0,1,0,0,0,1,0,1,0,1,1,1,0,1,1,0,0,1,0,1,1,0,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0,1,0,0,1,0,1,0,0,1,1,0,0,1,0,0,1,0,1,1,1,1,1,0,0,0,0,0,1,0,1,1,1,1,1,1,0,1,0,1,0,0,1,1,0,0,0,0,0,1,1,0,1,0,0,0,0,0,1,1,0,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,0,1,0,1,1,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,1,0,1,1,0,0,0,1,0,1,1,1,0,1,0,0,0,0,1,1,0,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,0,0,1,0,1,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,1,0,1,1,1,1,0,1,1,0,1,1,0,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,0,1,0,0,0,0,1,0,0,0,1,0,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,1,0,0,0,0,1,1,0,0,0,1,1,0,1,0,0,1,0,1,0,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0,0,1,0,0,1,1,0,1,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,1,1,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,0,1,0,0,1,0,1,1,1,0,1,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1,1,0,0,1,1,1,1,1,0,0,1,0,1,1,1,1,1,0,0,1,1,0,0,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,0,1,1,0,1,0,0,0,1,1,1,1,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0],\"y\":[19,46,59,55,66,61,42,39,65,43,36,45,57,38,48,55,38,71,61,38,63,43,41,40,60,61,21,80,34,53,40,52,59,47,65,46,44,62,26,24,48,52,42,46,56,67,56,60,64,60,54,32,57,20,62,19,89,39,32,38,59,61,28,39,40,39,33,49,22,56,71,26,34,28,79,44,63,63,39,60,76,60,41,33,56,55,43,24,57,21,48,60,83,29,72,25,21,64,61,91,63,49,56,80,40,61,62,69,52,38,75,67,33,47,59,27,44,60,26,60,76,30,43,26,81,36,47,37,27,40,80,59,41,50,19,58,65,48,62,49,61,65,36,35,26,32,26,19,37,43,60,71,82,33,85,59,31,35,30,25,26,22,61,69,53,67,43,22,27,64,62,37,78,48,71,21,23,23,43,70,56,57,66,25,48,74,57,41,37,61,28,77,56,62,66,40,20,58,76,32,28,43,37,71,39,19,21,27,60,34,20,51,64,73,54,50,55,90,68,80,65,27,64,38,29,20,28,41,73,68,76,76,54,19,78,23,74,43,77,28,62,31,29,67,57,53,24,72,70,28,57,25,65,52,71,43,60,44,57,35,39,85,62,41,62,35,59,74,28,45,74,37,56,65,42,56,67,65,75,27,80,36,51,52,38,44,59,44,45,43,41,20,66,73,29,55,59,27,51,29,29,35,76,58,36,61,41,57,73,68,61,36,26,57,28,60,49,35,41,43,57,70,59,53,58,67,32,29,78,39,57,59,56,30,24,20,53,95,56,37,29,33,48,19,21,42,28,55,71,66,36,39,69,34,73,75,51,72,26,34,36,24,42,60,43,35,59,63,57,31,43,63,46,58,63,54,38,49,45,34,64,43,46,44,58,63,78,25,26,60,53,29,33,45,42,61,53,62,55,62,47,74,56,35,31,73,70,21,26,31,21,40,40,74,56,46,44,27,56,78,46,39,66,22,58,19,39,65,48,19,75,52,54,42,36,34,27,52,55,31,59,58,28,52,59,62,79,29,25,40,33,40,43,30,31,38,62,80,60,42,42,72,34,55,44,63,29,82,34,55,61,38,46,43,53,77,67,55,27,50,42,25,84,19,57,77,38,56,38,27,32,36,24,33,35,66,51,51,71,43,60,43,38,33,20,29,27,36,66,30,38,63,25,69,40,24,58,60,35,52,43,23,35,39,42,78,60,79,34,59,44,76,30,44,61,64,48,66,64,69,42,44,51,45,22,63,67,60,61,54,36,27,20,43,76,31,57,43,44,78,49,23,44,49,72,45,60,37,42,51,40,54,62,23,23,65,41,55,24,69,55,67,61,32,27,62,79,36,56,62,55,51,59,26,61,40,59,69,77,40,24,50,68,32,70,31,34,37,63,31,63,44,38,54,48,29,40,58,60,26,29,62,20,65,36,30,70,67,62,38,41,30,57,59,32,44,68,79,46,36,67,22,33,33,28,64,22,54,63,63,55,29,31,25,51,64,54,52,26,71,31,78,55,22,32,26,19,37,53,37,31,66,23,20,73,44,36,43,23,69,58,30,80,30,59,27,58,24,50,39,69,52,42,46,73,26,41,33,61,59,64,62,73,70,73,23,52,39,43,42,22,71,26,61,65,65,28,23,68,36,60,52,25,22,24,55,57,51,68,30,73,25,36,21,33,25,19,64,27,63,66,28,62,63,60,64,60,39,37,28,92,29,45,40,50,59,38,67,39,41,73,60,52,56,61,26,33,65,38,62,30,42,53,71,50,20,64,28,35,62,26,63,39,70,31,19,54,59,53,60,60,52,59,51,53,69,22,33,35,76,24,69,52,65,62,20,32,72,36,38,69,62,61,26,58,35,29,49,35,55,39,61,26,48,47,37,35,52,23,62,24,67,34,22,45,30,43,43,57,33,48,55,30,59,54,63,51,64,29,42,36,23,20,55,67,41,52,74,21,71,30,64,40,27,29,25,27,52,71,48,20,65,23,41,71,54,58,28,37,39,76,27,51,52,27,76,57,34,62,70,71,86,61,62,63,60,62,25,38,62,55,25,40,27,34,63,58,75,48,55,62,51,37,53,57,28,61,41,55,62,27,22,43,24,64,67,64,34,75,64,54,45,35,27,49,46,69,79,83,53,55,41,56,32,69,35,59,38,61,78,56,25,44,24,31,30,60,61,57,48,83,28,38,84,79,57,33,64,44,49,46,61,57,29,62,50,26,75,27,48,59,53,34,69,58,38,22,54,54,74,30,47,44,80,56,22,34,56,74,78,28,41,55,65,69,43,58,60,30,62,67,33,62,83,29,62,36,24,48,44,56,22,42,61,72,40,32,84,64,55,55,91,61,36,71,21,44,43,60,52,28,53,41,58,66,73,26,39,39,58,55,24,54,26,41,20,25,26,39,25,61,42,24,66,64,54,43,43,43,38,41,34,60,32,48,34,27,23,24,23,63,63,74,47,56,39,58,24,58,54,31,44,53,40,28,63,40,34,44,26,21,43,62,20,32,56,23,49,41,57,61,38,66,65,46,76,30,30,54,35,47,72,49,21,27,41,49,65,60,66,62,63,24,80,63,57,70,70,64,70,77,56,60,52,43,63,66,73,23,59,64,66,75,65,68,33,68,57,37,54,66,49,58,41,23,55,36,50],\"z\":[16,36,20,79,97,100,85,86,14,95,91,0,86,50,81,49,0,0,89,8,97,85,15,9,79,96,93,95,75,1,89,100,12,20,58,59,99,33,33,6,51,6,49,59,54,94,0,9,100,65,0,7,1,66,42,36,92,19,61,74,93,73,76,75,90,71,64,82,92,75,88,66,13,60,70,3,27,90,81,90,50,90,40,84,53,86,1,15,100,40,35,40,47,68,40,72,92,47,53,59,86,75,90,94,32,81,80,99,11,30,5,95,0,17,63,85,97,39,73,41,75,68,30,2,85,27,2,50,16,91,20,84,19,56,53,91,58,34,79,29,20,100,91,8,31,63,60,1,35,71,81,100,90,99,71,98,1,87,12,76,60,37,44,25,61,54,69,38,34,88,88,2,40,30,92,81,32,56,46,30,29,0,44,60,19,96,97,60,39,100,100,25,89,5,92,38,42,75,75,51,68,49,2,92,71,80,42,75,19,9,39,17,78,1,19,84,89,91,63,31,46,92,91,7,4,54,70,52,99,64,78,92,18,11,94,72,99,35,91,3,66,10,97,40,61,5,94,80,24,30,83,9,49,71,80,34,66,40,57,30,51,95,89,83,10,80,31,86,18,78,61,70,71,79,79,79,30,40,97,73,82,46,53,60,52,36,21,2,90,45,2,16,40,95,66,89,24,70,36,30,85,84,1,50,43,67,99,84,89,72,79,11,50,44,40,74,53,34,7,99,99,94,10,40,0,0,33,49,81,67,25,5,88,63,11,50,73,78,16,49,62,81,1,58,16,79,31,80,97,9,35,1,99,71,72,1,24,73,4,13,2,48,99,78,67,56,75,80,23,31,87,61,60,60,94,15,84,69,81,19,86,9,47,33,95,89,86,71,100,68,29,6,0,100,60,44,67,5,46,11,91,91,80,78,81,98,65,83,39,67,81,1,41,69,44,68,5,89,62,79,59,25,8,2,20,58,50,93,21,0,93,0,83,98,84,22,13,95,100,4,78,1,97,100,84,59,85,68,8,100,81,9,89,85,98,55,60,46,39,95,73,38,45,96,66,89,52,52,90,0,1,64,66,20,99,75,40,85,83,10,65,6,80,62,88,80,45,70,66,6,35,60,98,87,21,85,90,93,89,15,98,100,5,50,18,65,6,27,28,5,89,95,37,93,17,53,48,84,17,65,95,30,0,27,23,60,18,91,0,99,70,5,84,92,50,98,100,6,85,100,12,52,1,31,13,31,87,80,41,99,47,0,16,50,69,28,33,89,20,100,32,75,44,58,100,88,87,1,88,68,100,88,94,50,0,94,81,97,12,70,14,99,92,54,1,72,97,8,100,90,83,76,15,70,18,69,90,77,11,70,52,29,29,56,81,91,100,12,99,84,98,78,18,80,52,44,61,100,77,55,17,45,76,74,76,38,88,72,1,17,82,46,7,44,35,5,2,93,88,44,58,0,51,99,76,23,56,49,50,83,96,14,26,86,64,69,13,36,2,42,34,1,80,47,68,11,85,14,70,64,59,92,36,50,70,60,69,14,5,87,31,44,77,3,94,43,48,39,91,93,69,69,95,84,53,30,61,96,58,96,55,28,93,84,36,55,42,9,2,60,9,85,5,37,69,94,4,65,58,49,66,5,64,44,55,37,15,15,98,57,85,61,21,65,0,35,70,28,41,16,87,43,28,76,89,21,37,60,1,20,88,86,50,95,78,55,63,75,64,80,20,88,32,45,69,0,65,51,51,87,30,49,4,100,63,83,40,58,29,18,1,92,1,71,54,12,45,29,38,50,0,54,56,8,81,100,100,9,63,80,68,94,96,94,17,3,92,42,49,1,61,99,96,31,25,28,38,24,15,76,51,96,32,8,60,41,99,92,94,35,63,93,86,74,0,58,46,40,69,1,1,85,91,52,73,55,36,54,31,55,39,59,56,61,89,37,100,34,23,69,45,87,40,6,22,41,40,40,20,18,72,71,67,29,60,100,86,52,48,0,98,20,85,89,57,45,46,35,73,16,9,34,5,81,95,10,74,70,58,32,45,100,86,100,63,44,98,80,63,85,9,26,31,12,11,32,99,0,39,70,65,79,94,53,98,4,72,38,84,53,30,2,75,15,94,50,70,80,89,40,31,78,16,9,55,1,99,51,90,48,52,63,47,3,70,44,16,43,87,92,15,48,69,93,92,85,28,50,1,1,1,11,31,19,88,94,84,97,30,95,88,78,3,98,10,76,9,2,98,90,61,100,45,100,1,74,49,78,60,100,60,75,95,50,93,34,64,1,1,72,38,70,94,74,82,64,82,54,90,45,60,44,78,80,87,96,22,30,75,2,32,71,42,94,19,34,33,23,92,100,27,10,96,69,20,78,3,94,65,71,53,50,23,52,97,26,47,57,19,47,81,60,5,20,66,0,3,80,96,68,68,10,94,50,84,14,4,72,3,48,98,52,1,77,23,70,39,91,12,29,28,70,15,72,0,31,2,28,54,34,5,35,60,66,75,78,86,19,46,84,90,3,52,85,71,88,54,4,55,19,89,55,69,94,7,60,48,0,72,100,89,25,0,10,65,11,99,93,9,97,97,82,51,10,9,20,27,7,23,61,75,0,91,11,70,94,97,69,68,28,49,5,30,64,15,0,28,56],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"showscale\":false},\"textfont\":{\"size\":55},\"error_y\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"line\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"frame\":null},{\"colorbar\":{\"title\":\"tc_diff\",\"ticklen\":2},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666667\",\"rgba(70,19,97,1)\"],[\"0.0833333333333334\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":false,\"x\":[0,1],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[43.225988991872235,42.975366819309201],[43.408270404979092,43.497300554984555],[43.590551818085956,44.019234290659917],[43.77283323119282,44.541168026335278],[43.955114644299677,45.063101762010632],[44.137396057406534,45.585035497685986],[44.319677470513398,46.106969233361347],[44.501958883620262,46.628902969036709],[44.684240296727118,47.150836704712063],[44.866521709833982,47.672770440387424],[45.048803122940839,48.194704176062778],[45.231084536047703,48.71663791173814],[45.41336594915456,49.238571647413494],[45.595647362261424,49.760505383088855],[45.777928775368281,50.282439118764209],[45.960210188475145,50.804372854439571],[46.142491601582002,51.326306590114925],[46.324773014688866,51.848240325790286],[46.507054427795723,52.370174061465647],[46.689335840902586,52.892107797141009],[46.871617254009443,53.414041532816356],[47.053898667116307,53.935975268491717],[47.236180080223164,54.457909004167078],[47.418461493330028,54.979842739842439],[47.600742906436892,55.501776475517801],[47.783024319543749,56.023710211193155],[47.965305732650606,56.545643946868509],[48.14758714575747,57.06757768254387],[48.329868558864334,57.589511418219232],[48.512149971971191,58.111445153894586],[48.694431385078055,58.633378889569947],[48.876712798184911,59.155312625245301],[49.058994211291775,59.677246360920662],[49.241275624398632,60.199180096596017],[49.423557037505496,60.721113832271378],[49.605838450612353,61.243047567946732],[49.788119863719217,61.764981303622093],[49.970401276826074,62.286915039297448],[50.152682689932938,62.808848774972809],[50.334964103039795,63.330782510648163],[50.517245516146659,63.852716246323524],[50.699526929253523,64.374649981998886],[50.88180834236038,64.896583717674247],[51.064089755467236,65.418517453349594],[51.2463711685741,65.940451189024955],[51.428652581680964,66.462384924700316],[51.610933994787821,66.984318660375678],[51.793215407894678,67.506252396051025],[51.975496821001542,68.028186131726386],[52.157778234108406,68.550119867401747],[52.340059647215263,69.072053603077109],[52.522341060322127,69.59398733875247],[52.704622473428984,70.115921074427831],[52.886903886535848,70.637854810103192],[53.069185299642704,71.15978854577854],[53.251466712749568,71.681722281453901],[53.433748125856425,72.203656017129248],[53.616029538963289,72.725589752804609],[53.798310952070146,73.24752348847997],[53.98059236517701,73.769457224155332],[54.162873778283867,74.291390959830693],[54.345155191390731,74.813324695506054],[54.527436604497595,75.335258431181416],[54.709718017604452,75.857192166856763],[54.891999430711309,76.37912590253211],[55.074280843818173,76.901059638207485],[55.256562256925037,77.422993373882846],[55.438843670031893,77.944927109558193],[55.62112508313875,78.466860845233555],[55.803406496245614,78.988794580908916],[55.985687909352478,79.510728316584277],[56.167969322459335,80.032662052259624],[56.350250735566192,80.554595787934986],[56.532532148673056,81.076529523610347],[56.71481356177992,81.598463259285708],[56.897094974886777,82.120396994961055],[57.079376387993634,82.642330730636417]],\"type\":\"surface\",\"name\":\"pred_surface\",\"cauto\":true,\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n:::\n\n## {.smaller}\n\n#### `m6`: Two numerical predictors \n\n::: panel-tabset\n\n## m6\n\n$$\\text{m6: tc_diff} = \\beta_0 + \\beta_1\\text{age} + \\beta_2\\text{income} +\\epsilon$$\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm6 <- lm(tc_diff ~ age + income, nes)\ncoef(m6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(Intercept)         age      income \n 33.1994121   0.4002682   0.1573334 \n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list( m6))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">33.20<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.35)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">age</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.40<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.06)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">income</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.16</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.29)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1049</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"2\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df6_age <- expand_grid(\n  age = seq(min(nes$age, na.rm = T),\n            max(nes$age, na.rm=T),\n            length.out = 10),\n  # Hold income constant at mean value\n  income = mean(nes$income,na.rm=T)\n)\n\npred_df6_income <- expand_grid(\n  income = seq(min(nes$income, na.rm = T),\n            max(nes$income, na.rm=T),\n            length.out = 16),\n  # Hold income constant at mean value\n  age = mean(nes$age,na.rm=T)\n)\n\npred_df6_age  <- cbind(\n  pred_df6_age ,\n  fit = predict(m6, pred_df6_age )\n)\n\npred_df6_income  <- cbind(\n  pred_df6_income ,\n  fit = predict(m6, pred_df6_income )\n)\n# Produce figure\n\npred_df6_age %>% \n  ggplot(aes(age, fit,\n             ))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(income)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= age,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point()+\n  geom_line() +\n  labs(title =\"Age holding income constant\") -> fig_tc_m6_age\n\npred_df6_income %>% \n  ggplot(aes(income, fit,\n             ))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(income)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= income,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point()+\n  geom_line() +\n  labs(title = \"Income holding age constant\") -> fig_tc_m6_income\n\n\nfig_tc_m6 <- ggpubr::ggarrange(fig_tc_m6_age, fig_tc_m6_income)\n```\n:::\n\n\n## {{< fa chart-line >}}-m6\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m6fig-1.png){width=960}\n:::\n:::\n\n\n## {{< fa chart-line >}}-m6 in 3d\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-9a7ec2a5ffccb99ab1d4\" style=\"width:960px;height:480px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-9a7ec2a5ffccb99ab1d4\">{\"x\":{\"visdat\":{\"dfc23f4cf650\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"dfc23f4cf650\",\"attrs\":{\"dfc23f4cf650\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"size\":5,\"inherit\":true},\"dfc23f4cf650.1\":{\"x\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[40.961841866329372,41.119175289309275,41.276508712289179,41.433842135269082,41.591175558248977,41.748508981228881,41.905842404208784,42.063175827188687,42.22050925016859,42.377842673148493,42.535176096128396,42.692509519108299,42.849842942088202,43.007176365068105,43.164509788048001,43.321843211027904],[41.3621100962527,41.519443519232603,41.676776942212506,41.834110365192409,41.991443788172305,42.148777211152208,42.306110634132111,42.463444057112014,42.620777480091917,42.77811090307182,42.935444326051723,43.092777749031626,43.250111172011529,43.407444594991432,43.564778017971328,43.722111440951231],[41.762378326176027,41.91971174915593,42.077045172135833,42.234378595115736,42.391712018095632,42.549045441075535,42.706378864055438,42.863712287035341,43.021045710015244,43.178379132995147,43.33571255597505,43.493045978954953,43.650379401934856,43.807712824914759,43.965046247894655,44.122379670874558],[42.162646556099354,42.319979979079257,42.47731340205916,42.634646825039063,42.791980248018959,42.949313670998862,43.106647093978765,43.263980516958668,43.421313939938571,43.578647362918474,43.735980785898377,43.89331420887828,44.050647631858183,44.207981054838086,44.365314477817982,44.522647900797885],[42.562914786022681,42.720248209002584,42.877581631982487,43.03491505496239,43.192248477942286,43.349581900922189,43.506915323902092,43.664248746881995,43.821582169861898,43.978915592841801,44.136249015821704,44.293582438801607,44.45091586178151,44.608249284761413,44.765582707741309,44.922916130721212],[42.963183015946008,43.120516438925911,43.277849861905814,43.435183284885717,43.592516707865613,43.749850130845516,43.907183553825419,44.064516976805322,44.221850399785225,44.379183822765128,44.536517245745031,44.693850668724934,44.851184091704837,45.00851751468474,45.165850937664636,45.323184360644539],[43.363451245869335,43.520784668849238,43.678118091829141,43.835451514809044,43.99278493778894,44.150118360768843,44.307451783748746,44.464785206728649,44.622118629708552,44.779452052688455,44.936785475668358,45.094118898648262,45.251452321628165,45.408785744608068,45.566119167587964,45.723452590567867],[43.763719475792655,43.921052898772558,44.078386321752461,44.235719744732364,44.39305316771226,44.550386590692163,44.707720013672066,44.865053436651969,45.022386859631872,45.179720282611775,45.337053705591678,45.494387128571582,45.651720551551485,45.809053974531381,45.966387397511284,46.123720820491187],[44.163987705715982,44.321321128695885,44.478654551675788,44.635987974655691,44.793321397635587,44.95065482061549,45.107988243595393,45.265321666575296,45.422655089555199,45.579988512535103,45.737321935515006,45.894655358494909,46.051988781474812,46.209322204454708,46.366655627434611,46.523989050414514],[44.564255935639309,44.721589358619212,44.878922781599115,45.036256204579018,45.193589627558914,45.350923050538817,45.50825647351872,45.665589896498624,45.822923319478527,45.98025674245843,46.137590165438333,46.294923588418236,46.452257011398139,46.609590434378035,46.766923857357938,46.924257280337841],[44.964524165562636,45.121857588542539,45.279191011522443,45.436524434502346,45.593857857482242,45.751191280462145,45.908524703442048,46.065858126421951,46.223191549401854,46.380524972381757,46.53785839536166,46.695191818341563,46.852525241321466,47.009858664301362,47.167192087281265,47.324525510261168],[45.364792395485964,45.522125818465867,45.67945924144577,45.836792664425673,45.994126087405569,46.151459510385472,46.308792933365375,46.466126356345278,46.623459779325181,46.780793202305084,46.938126625284987,47.09546004826489,47.252793471244793,47.410126894224689,47.567460317204592,47.724793740184495],[45.765060625409291,45.922394048389194,46.079727471369097,46.237060894349,46.394394317328896,46.551727740308799,46.709061163288702,46.866394586268605,47.023728009248508,47.181061432228411,47.338394855208314,47.495728278188217,47.65306170116812,47.810395124148016,47.967728547127919,48.125061970107822],[46.165328855332618,46.322662278312521,46.479995701292424,46.637329124272327,46.794662547252223,46.951995970232126,47.109329393212029,47.266662816191932,47.423996239171835,47.581329662151738,47.738663085131641,47.895996508111544,48.053329931091447,48.210663354071343,48.367996777051246,48.525330200031149],[46.565597085255945,46.722930508235848,46.880263931215751,47.037597354195654,47.19493077717555,47.352264200155453,47.509597623135356,47.666931046115259,47.824264469095162,47.981597892075065,48.138931315054968,48.296264738034871,48.453598161014774,48.61093158399467,48.768265006974573,48.925598429954476],[46.965865315179272,47.123198738159175,47.280532161139078,47.437865584118981,47.595199007098877,47.75253243007878,47.909865853058683,48.067199276038586,48.224532699018489,48.381866121998392,48.539199544978295,48.696532967958198,48.853866390938101,49.011199813917997,49.1685332368979,49.325866659877803],[47.366133545102599,47.523466968082502,47.680800391062405,47.838133814042308,47.995467237022204,48.152800660002107,48.31013408298201,48.467467505961913,48.624800928941816,48.782134351921719,48.939467774901622,49.096801197881526,49.254134620861429,49.411468043841325,49.568801466821228,49.726134889801131],[47.766401775025926,47.923735198005829,48.081068620985732,48.238402043965635,48.395735466945531,48.553068889925434,48.710402312905337,48.86773573588524,49.025069158865143,49.182402581845047,49.33973600482495,49.497069427804853,49.654402850784756,49.811736273764652,49.969069696744555,50.126403119724458],[48.166670004949253,48.324003427929156,48.481336850909059,48.638670273888962,48.796003696868858,48.953337119848761,49.110670542828665,49.268003965808568,49.425337388788471,49.582670811768374,49.740004234748277,49.89733765772818,50.054671080708083,50.212004503687979,50.369337926667882,50.526671349647785],[48.56693823487258,48.724271657852483,48.881605080832387,49.03893850381229,49.196271926792186,49.353605349772089,49.510938772751992,49.668272195731895,49.825605618711798,49.982939041691701,50.140272464671604,50.297605887651507,50.45493931063141,50.612272733611306,50.769606156591209,50.926939579571112],[48.967206464795908,49.124539887775811,49.281873310755714,49.439206733735617,49.596540156715513,49.753873579695416,49.911207002675319,50.068540425655222,50.225873848635125,50.383207271615028,50.540540694594931,50.697874117574834,50.855207540554737,51.012540963534633,51.169874386514536,51.327207809494439],[49.367474694719235,49.524808117699138,49.682141540679041,49.839474963658944,49.99680838663884,50.154141809618743,50.311475232598646,50.468808655578549,50.626142078558452,50.783475501538355,50.940808924518258,51.098142347498161,51.255475770478064,51.41280919345796,51.570142616437863,51.727476039417766],[49.767742924642562,49.925076347622465,50.082409770602368,50.239743193582271,50.397076616562167,50.55441003954207,50.711743462521973,50.869076885501876,51.026410308481779,51.183743731461682,51.341077154441585,51.498410577421488,51.655744000401391,51.813077423381287,51.97041084636119,52.127744269341093],[50.168011154565889,50.325344577545792,50.482678000525695,50.640011423505598,50.797344846485494,50.954678269465397,51.1120116924453,51.269345115425203,51.426678538405106,51.584011961385009,51.741345384364912,51.898678807344815,52.056012230324718,52.213345653304614,52.370679076284517,52.52801249926442],[50.568279384489216,50.725612807469119,50.882946230449022,51.040279653428925,51.197613076408821,51.354946499388724,51.512279922368627,51.66961334534853,51.826946768328433,51.984280191308336,52.141613614288239,52.298947037268142,52.456280460248045,52.613613883227941,52.770947306207844,52.928280729187748],[50.968547614412543,51.125881037392446,51.283214460372349,51.440547883352252,51.597881306332148,51.755214729312051,51.912548152291954,52.069881575271857,52.22721499825176,52.384548421231663,52.541881844211566,52.69921526719147,52.856548690171373,53.013882113151269,53.171215536131172,53.328548959111075],[51.36881584433587,51.526149267315773,51.683482690295676,51.840816113275579,51.998149536255475,52.155482959235378,52.312816382215281,52.470149805195184,52.627483228175088,52.784816651154991,52.942150074134894,53.099483497114797,53.2568169200947,53.414150343074596,53.571483766054499,53.728817189034402],[51.769084074259197,51.9264174972391,52.083750920219003,52.241084343198906,52.398417766178802,52.555751189158705,52.713084612138609,52.870418035118512,53.027751458098415,53.185084881078318,53.342418304058221,53.499751727038124,53.657085150018027,53.814418572997923,53.971751995977826,54.129085418957729],[52.169352304182524,52.326685727162427,52.484019150142331,52.641352573122234,52.79868599610213,52.956019419082033,53.113352842061936,53.270686265041839,53.428019688021742,53.585353111001645,53.742686533981548,53.900019956961451,54.057353379941354,54.21468680292125,54.372020225901153,54.529353648881056],[52.569620534105852,52.726953957085755,52.884287380065658,53.041620803045561,53.198954226025457,53.35628764900536,53.513621071985263,53.670954494965166,53.828287917945069,53.985621340924972,54.142954763904875,54.300288186884778,54.457621609864681,54.614955032844577,54.77228845582448,54.929621878804383],[52.969888764029179,53.127222187009082,53.284555609988985,53.441889032968888,53.599222455948784,53.756555878928687,53.91388930190859,54.071222724888493,54.228556147868396,54.385889570848299,54.543222993828202,54.700556416808105,54.857889839788008,55.015223262767904,55.172556685747807,55.32989010872771],[53.370156993952506,53.527490416932409,53.684823839912312,53.842157262892215,53.999490685872111,54.156824108852014,54.314157531831917,54.47149095481182,54.628824377791723,54.786157800771626,54.943491223751529,55.100824646731432,55.258158069711335,55.415491492691231,55.572824915671134,55.730158338651037],[53.770425223875826,53.927758646855729,54.085092069835632,54.242425492815535,54.399758915795431,54.557092338775334,54.714425761755237,54.87175918473514,55.029092607715043,55.186426030694946,55.343759453674849,55.501092876654752,55.658426299634655,55.815759722614558,55.973093145594454,56.130426568574357],[54.170693453799153,54.328026876779056,54.485360299758959,54.642693722738862,54.800027145718758,54.957360568698661,55.114693991678564,55.272027414658467,55.42936083763837,55.586694260618273,55.744027683598176,55.901361106578079,56.058694529557982,56.216027952537885,56.373361375517781,56.530694798497684],[54.57096168372248,54.728295106702383,54.885628529682286,55.042961952662189,55.200295375642085,55.357628798621988,55.514962221601891,55.672295644581794,55.829629067561697,55.9869624905416,56.144295913521503,56.301629336501406,56.458962759481309,56.616296182461213,56.773629605441108,56.930963028421012],[54.971229913645807,55.12856333662571,55.285896759605613,55.443230182585516,55.600563605565412,55.757897028545315,55.915230451525218,56.072563874505121,56.229897297485024,56.387230720464927,56.544564143444831,56.701897566424734,56.859230989404637,57.01656441238454,57.173897835364436,57.331231258344339],[55.371498143569134,55.528831566549037,55.68616498952894,55.843498412508843,56.000831835488739,56.158165258468642,56.315498681448545,56.472832104428448,56.630165527408352,56.787498950388255,56.944832373368158,57.102165796348061,57.259499219327964,57.416832642307867,57.574166065287763,57.731499488267666],[55.771766373492461,55.929099796472364,56.086433219452267,56.24376664243217,56.401100065412066,56.558433488391969,56.715766911371873,56.873100334351776,57.030433757331679,57.187767180311582,57.345100603291485,57.502434026271388,57.659767449251291,57.817100872231194,57.97443429521109,58.131767718190993],[56.172034603415788,56.329368026395692,56.486701449375595,56.644034872355498,56.801368295335394,56.958701718315297,57.1160351412952,57.273368564275103,57.430701987255006,57.588035410234909,57.745368833214812,57.902702256194715,58.060035679174618,58.217369102154521,58.374702525134417,58.53203594811432],[56.572302833339116,56.729636256319019,56.886969679298922,57.044303102278825,57.201636525258721,57.358969948238624,57.516303371218527,57.67363679419843,57.830970217178333,57.988303640158236,58.145637063138139,58.302970486118042,58.460303909097945,58.617637332077848,58.774970755057744,58.932304178037647],[56.972571063262443,57.129904486242346,57.287237909222249,57.444571332202152,57.601904755182048,57.759238178161951,57.916571601141854,58.073905024121757,58.23123844710166,58.388571870081563,58.545905293061466,58.703238716041369,58.860572139021272,59.017905562001175,59.175238984981071,59.332572407960974],[57.372839293185763,57.530172716165666,57.687506139145569,57.844839562125472,58.002172985105368,58.159506408085271,58.316839831065174,58.474173254045077,58.63150667702498,58.788840100004883,58.946173522984786,59.103506945964689,59.260840368944592,59.418173791924488,59.575507214904391,59.732840637884294],[57.77310752310909,57.930440946088993,58.087774369068896,58.245107792048799,58.402441215028695,58.559774638008598,58.717108060988501,58.874441483968404,59.031774906948307,59.18910832992821,59.346441752908113,59.503775175888016,59.661108598867919,59.818442021847815,59.975775444827718,60.133108867807621],[58.173375753032417,58.33070917601232,58.488042598992223,58.645376021972126,58.802709444952022,58.960042867931925,59.117376290911828,59.274709713891731,59.432043136871634,59.589376559851537,59.74670998283144,59.904043405811343,60.061376828791246,60.218710251771142,60.376043674751045,60.533377097730948],[58.573643982955744,58.730977405935647,58.88831082891555,59.045644251895453,59.202977674875349,59.360311097855252,59.517644520835155,59.674977943815058,59.832311366794961,59.989644789774864,60.146978212754767,60.30431163573467,60.461645058714574,60.618978481694469,60.776311904674372,60.933645327654276],[58.973912212879071,59.131245635858974,59.288579058838877,59.44591248181878,59.603245904798676,59.760579327778579,59.917912750758482,60.075246173738385,60.232579596718288,60.389913019698191,60.547246442678095,60.704579865657998,60.861913288637901,61.019246711617797,61.1765801345977,61.333913557577603],[59.374180442802398,59.531513865782301,59.688847288762204,59.846180711742107,60.003514134722003,60.160847557701906,60.318180980681809,60.475514403661712,60.632847826641616,60.790181249621519,60.947514672601422,61.104848095581325,61.262181518561228,61.419514941541124,61.576848364521027,61.73418178750093],[59.774448672725725,59.931782095705628,60.089115518685531,60.246448941665435,60.40378236464533,60.561115787625234,60.718449210605137,60.87578263358504,61.033116056564943,61.190449479544846,61.347782902524749,61.505116325504652,61.662449748484555,61.819783171464451,61.977116594444354,62.134450017424257],[60.174716902649052,60.332050325628956,60.489383748608859,60.646717171588762,60.804050594568658,60.961384017548561,61.118717440528464,61.276050863508367,61.43338428648827,61.590717709468173,61.748051132448076,61.905384555427979,62.062717978407882,62.220051401387778,62.377384824367681,62.534718247347584],[60.57498513257238,60.732318555552283,60.889651978532186,61.046985401512089,61.204318824491985,61.361652247471888,61.518985670451791,61.676319093431694,61.833652516411597,61.9909859393915,62.148319362371403,62.305652785351306,62.462986208331209,62.620319631311105,62.777653054291008,62.934986477270911],[60.975253362495707,61.13258678547561,61.289920208455513,61.447253631435416,61.604587054415312,61.761920477395215,61.919253900375118,62.076587323355021,62.233920746334924,62.391254169314827,62.54858759229473,62.705921015274633,62.863254438254536,63.020587861234432,63.177921284214335,63.335254707194238],[61.375521592419034,61.532855015398937,61.69018843837884,61.847521861358743,62.004855284338639,62.162188707318542,62.319522130298445,62.476855553278348,62.634188976258251,62.791522399238154,62.948855822218057,63.10618924519796,63.263522668177863,63.420856091157759,63.578189514137662,63.735522937117565],[61.775789822342361,61.933123245322264,62.090456668302167,62.24779009128207,62.405123514261966,62.562456937241869,62.719790360221772,62.877123783201675,63.034457206181578,63.191790629161481,63.349124052141384,63.506457475121287,63.66379089810119,63.821124321081086,63.978457744060989,64.135791167040892],[62.176058052265688,62.333391475245591,62.490724898225494,62.648058321205397,62.805391744185293,62.962725167165196,63.120058590145099,63.277392013125002,63.434725436104905,63.592058859084808,63.749392282064711,63.906725705044614,64.06405912802451,64.221392551004413,64.378725973984317,64.53605939696422],[62.576326282189015,62.733659705168918,62.890993128148821,63.048326551128724,63.20565997410862,63.362993397088523,63.520326820068426,63.677660243048329,63.834993666028232,63.992327089008135,64.149660511988031,64.306993934967934,64.464327357947838,64.621660780927741,64.778994203907644,64.936327626887547],[62.976594512112342,63.133927935092245,63.291261358072148,63.448594781052051,63.605928204031947,63.76326162701185,63.920595049991753,64.077928472971664,64.235261895951567,64.392595318931455,64.549928741911359,64.707262164891262,64.864595587871165,65.021929010851068,65.179262433830971,65.336595856810874],[63.376862742035669,63.534196165015572,63.691529587995475,63.848863010975379,64.006196433955282,64.163529856935185,64.320863279915088,64.478196702894991,64.63553012587488,64.792863548854783,64.950196971834686,65.107530394814589,65.264863817794492,65.422197240774395,65.579530663754298,65.736864086734201],[63.777130971958996,63.9344643949389,64.091797817918803,64.249131240898706,64.406464663878609,64.563798086858512,64.721131509838415,64.878464932818318,65.035798355798221,65.19313177877811,65.350465201758013,65.507798624737916,65.665132047717819,65.822465470697722,65.979798893677625,66.137132316657528],[64.177399201882324,64.334732624862227,64.49206604784213,64.649399470822033,64.806732893801936,64.964066316781839,65.121399739761742,65.278733162741645,65.436066585721534,65.593400008701437,65.75073343168134,65.908066854661243,66.065400277641146,66.222733700621049,66.380067123600952,66.537400546580855],[64.577667431805651,64.735000854785554,64.892334277765457,65.04966770074536,65.207001123725263,65.364334546705166,65.521667969685069,65.679001392664972,65.836334815644875,65.993668238624764,66.151001661604667,66.30833508458457,66.465668507564473,66.623001930544376,66.780335353524279,66.937668776504182],[64.977935661728978,65.135269084708881,65.292602507688784,65.449935930668687,65.60726935364859,65.764602776628493,65.921936199608396,66.079269622588299,66.236603045568188,66.393936468548091,66.551269891527994,66.708603314507897,66.8659367374878,67.023270160467703,67.180603583447606,67.337937006427509],[65.378203891652305,65.535537314632208,65.692870737612111,65.850204160592014,66.007537583571917,66.16487100655182,66.322204429531723,66.479537852511626,66.636871275491529,66.794204698471418,66.951538121451321,67.108871544431224,67.266204967411127,67.42353839039103,67.580871813370933,67.738205236350836],[65.778472121575632,65.935805544555535,66.093138967535438,66.250472390515341,66.407805813495244,66.565139236475147,66.72247265945505,66.879806082434953,67.037139505414842,67.194472928394745,67.351806351374648,67.509139774354551,67.666473197334454,67.823806620314357,67.981140043294261,68.138473466274164],[66.178740351498959,66.336073774478862,66.493407197458765,66.650740620438668,66.808074043418571,66.965407466398474,67.122740889378377,67.280074312358281,67.437407735338184,67.594741158318072,67.752074581297975,67.909408004277878,68.066741427257782,68.224074850237685,68.381408273217588,68.538741696197491],[66.579008581422286,66.736342004402189,66.893675427382092,67.051008850361995,67.208342273341898,67.365675696321802,67.523009119301705,67.680342542281608,67.837675965261496,67.9950093882414,68.152342811221303,68.309676234201206,68.467009657181109,68.624343080161012,68.781676503140915,68.939009926120818],[66.979276811345599,67.136610234325502,67.293943657305405,67.451277080285308,67.608610503265211,67.765943926245114,67.923277349225017,68.080610772204921,68.237944195184809,68.395277618164712,68.552611041144615,68.709944464124519,68.867277887104422,69.024611310084325,69.181944733064228,69.339278156044131],[67.379545041268941,67.536878464248844,67.694211887228747,67.85154531020865,68.008878733188553,68.166212156168456,68.323545579148359,68.480879002128262,68.638212425108151,68.795545848088054,68.952879271067957,69.11021269404786,69.267546117027763,69.424879540007666,69.582212962987569,69.739546385967472],[67.779813271192253,67.937146694172156,68.09448011715206,68.251813540131963,68.409146963111866,68.566480386091769,68.723813809071672,68.881147232051575,69.038480655031464,69.195814078011367,69.35314750099127,69.510480923971173,69.667814346951076,69.825147769930979,69.982481192910882,70.139814615890785],[68.180081501115595,68.337414924095498,68.494748347075401,68.652081770055304,68.809415193035207,68.96674861601511,69.124082038995013,69.281415461974916,69.438748884954805,69.596082307934708,69.753415730914611,69.910749153894514,70.068082576874417,70.22541599985432,70.382749422834223,70.540082845814126],[68.580349731038908,68.737683154018811,68.895016576998714,69.052349999978617,69.20968342295852,69.367016845938423,69.524350268918326,69.681683691898229,69.839017114878118,69.996350537858021,70.153683960837924,70.311017383817827,70.46835080679773,70.625684229777633,70.783017652757536,70.940351075737439],[68.980617960962249,69.137951383942152,69.295284806922055,69.452618229901958,69.609951652881861,69.767285075861764,69.924618498841667,70.08195192182157,70.239285344801459,70.396618767781362,70.553952190761265,70.711285613741168,70.868619036721071,71.025952459700974,71.183285882680877,71.34061930566078],[69.380886190885562,69.538219613865465,69.695553036845368,69.852886459825271,70.010219882805174,70.167553305785077,70.32488672876498,70.482220151744883,70.639553574724772,70.796886997704675,70.954220420684578,71.111553843664481,71.268887266644384,71.426220689624287,71.58355411260419,71.740887535584093],[69.781154420808903,69.938487843788806,70.095821266768709,70.253154689748612,70.410488112728515,70.567821535708418,70.725154958688321,70.882488381668225,71.039821804648113,71.197155227628016,71.354488650607919,71.511822073587823,71.669155496567726,71.826488919547629,71.983822342527532,72.141155765507435],[70.181422650732216,70.338756073712119,70.496089496692022,70.653422919671925,70.810756342651828,70.968089765631731,71.125423188611634,71.282756611591537,71.440090034571426,71.597423457551329,71.754756880531232,71.912090303511135,72.069423726491038,72.226757149470941,72.384090572450845,72.541423995430748],[70.581690880655557,70.73902430363546,70.896357726615364,71.053691149595267,71.21102457257517,71.368357995555073,71.525691418534976,71.683024841514879,71.840358264494768,71.997691687474671,72.155025110454574,72.312358533434477,72.46969195641438,72.627025379394283,72.784358802374186,72.941692225354089],[70.98195911057887,71.139292533558773,71.296625956538676,71.453959379518579,71.611292802498483,71.768626225478386,71.925959648458289,72.083293071438192,72.24062649441808,72.397959917397984,72.555293340377887,72.71262676335779,72.869960186337693,73.027293609317596,73.184627032297499,73.341960455277402],[71.382227340502212,71.539560763482115,71.696894186462018,71.854227609441921,72.011561032421824,72.168894455401727,72.32622787838163,72.483561301361533,72.640894724341422,72.798228147321325,72.955561570301228,73.112894993281131,73.270228416261034,73.427561839240937,73.58489526222084,73.742228685200743]],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\",\"alpha\":0.65000000000000002,\"name\":\"pred_surface\",\"cauto\":true,\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"income\"},\"yaxis\":{\"title\":\"age\"},\"zaxis\":{\"title\":\"tc_diff\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\".hideLegend\":true,\"data\":[{\"x\":[3,6,6,8,10,6,10,1,4,3,7,6,2,4,7,7,2,9,8,3,13,11,6,9,8,1,11,12,2,4,7,8,6,3,4,10,1,6,5,6,5,6,4,5,4,4,4,1,8,9,9,10,3,9,5,3,4,11,6,1,2,10,4,6,4,4,12,5,11,11,6,10,5,12,8,3,4,7,11,9,5,11,11,2,9,3,1,10,2,4,2,3,9,13,7,4,8,7,4,10,9,3,5,5,2,8,7,3,6,2,2,2,15,9,9,3,9,3,1,8,10,4,4,3,11,3,12,5,9,3,11,5,2,4,4,9,1,6,1,4,6,3,6,3,2,4,10,16,3,3,3,3,3,1,6,3,5,5,7,7,4,10,3,2,14,5,4,5,4,7,1,4,3,5,4,5,12,6,4,2,3,8,13,10,11,1,12,9,6,8,3,6,9,2,2,1,9,1,9,9,4,9,3,9,2,5,8,5,7,10,5,5,7,5,7,8,1,7,7,8,12,4,5,2,2,12,8,8,7,2,4,6,4,10,4,4,10,6,3,9,2,12,4,10,6,8,2,3,3,10,5,2,3,4,9,4,1,3,1,2,1,10,6,3,10,8,7,3,4,9,1,5,8,5,4,9,6,6,2,9,5,5,9,4,3,9,2,4,9,9,3,6,3,6,6,2,1,4,1,10,1,3,9,2,6,6,3,8,9,2,8,15,2,9,5,8,5,4,9,4,10,11,3,3,5,8,8,11,1,5,11,11,6,4,8,7,10,5,2,4,4,7,7,6,1,6,1,4,4,2,8,14,4,3,6,5,5,8,7,4,10,5,10,2,3,11,4,14,3,7,5,4,2,2,11,6,6,4,4,4,3,2,8,7,6,9,7,6,7,2,16,1,3,9,8,2,8,3,8,10,6,4,4,7,3,7,4,11,2,3,3,5,3,4,4,4,6,5,8,10,3,3,2,9,1,1,3,1,9,8,11,3,6,11,12,2,10,2,5,11,11,2,2,4,11,1,2,12,8,2,4,2,8,9,9,7,8,14,5,2,2,4,5,4,3,10,5,6,4,9,6,6,5,5,10,5,9,5,3,2,2,4,7,2,9,2,9,10,3,11,8,4,8,4,1,5,6,9,4,12,4,5,9,10,3,6,9,9,1,6,3,6,6,7,2,8,3,1,2,9,8,1,2,3,2,2,5,3,8,7,5,11,8,5,1,4,1,2,5,6,4,2,6,4,1,3,3,3,4,12,2,3,11,2,2,3,4,2,7,8,3,2,3,2,3,13,12,12,7,8,1,12,9,11,5,1,9,3,12,8,8,10,15,7,4,14,4,1,5,16,11,5,6,4,3,8,3,10,9,5,11,6,5,12,3,1,7,6,3,11,3,3,10,3,7,9,6,3,2,5,6,2,11,11,2,7,7,8,6,1,7,9,4,3,15,9,2,4,4,6,2,10,9,1,4,3,1,10,2,2,4,5,7,4,9,4,2,6,3,6,2,9,11,4,2,6,5,5,12,2,3,2,8,4,5,11,8,7,9,3,3,5,7,3,6,2,8,10,7,1,2,9,4,1,10,6,5,1,2,5,1,8,3,2,5,1,4,2,4,5,7,5,8,1,8,10,6,3,5,10,1,3,3,1,2,3,3,6,4,5,2,3,4,9,1,6,4,10,2,6,7,13,3,3,3,1,4,5,5,4,6,4,3,3,7,12,2,7,10,5,3,8,5,3,13,1,3,7,5,6,2,5,12,4,10,4,4,5,8,1,8,9,1,4,6,15,5,2,3,3,11,12,5,2,6,4,2,9,2,5,8,8,11,9,7,6,7,3,3,9,1,9,4,4,6,11,9,8,3,3,3,8,5,8,7,4,4,3,8,1,4,9,6,5,9,8,3,2,4,2,3,7,6,6,4,7,7,2,6,3,5,9,6,2,2,2,11,11,12,2,4,2,5,9,1,6,5,2,4,9,7,5,6,12,6,7,2,2,11,3,11,4,3,3,3,11,9,3,2,4,8,2,4,4,2,8,6,3,13,9,13,8,2,4,9,5,6,3,3,9,3,4,12,7,2,3,10,5,5,1,7,6,3,2,5,2,4,3,5,2,3,11,1,5,3,7,1,3,6,3,9,4,3,9,3,5,11,2,3,6,5,11,3,6,11,5,2,6,4,5,10,8,5,2,6,6,4,1,6,8,3,2,10,9,6,12,12,9,12,8,10,12,6,3,9,7,1,6,13,8,3,5,3,4,6,3,10,8,2,8,3,3,1,4,5,1,5,6,2,9,1,4,7,2,5,1,3,5,1,3,2,5,8,3,2,3,1,4,6,10,4,8,2,13,4,8,5,9,3,7,8,3,13,10,1,6,7,3,1],\"y\":[46,59,55,66,42,39,65,43,36,45,38,48,55,38,71,61,38,63,43,41,40,61,21,80,34,53,40,52,59,47,46,44,62,26,24,48,52,42,46,56,67,60,64,60,32,57,20,62,19,89,39,32,38,59,61,28,39,40,39,33,49,22,56,71,26,34,28,79,44,63,63,39,60,76,60,41,33,56,55,43,24,48,60,83,29,25,21,64,61,91,63,56,40,61,62,69,52,38,75,67,33,47,59,27,44,60,60,76,30,43,26,81,36,47,37,27,40,80,59,41,50,58,65,48,62,61,65,36,35,26,32,26,37,43,60,71,33,59,31,35,30,25,22,61,53,51,67,43,22,27,64,62,37,30,78,48,71,23,43,70,56,66,25,74,41,37,28,77,56,40,20,58,76,28,43,71,39,19,21,60,34,20,51,64,73,54,50,55,90,68,80,65,27,64,38,34,29,20,28,41,68,76,76,54,78,23,74,43,77,28,62,31,29,67,57,53,24,72,70,28,57,65,52,71,43,60,44,57,35,39,85,62,41,62,35,59,74,28,45,74,37,56,65,42,56,67,65,75,27,80,51,52,38,44,59,44,31,45,43,41,20,66,73,29,55,59,27,51,29,35,58,36,61,41,73,68,61,36,26,57,28,60,49,35,41,43,57,70,59,58,67,32,29,78,39,57,59,56,24,20,53,95,56,37,29,33,48,19,21,42,28,55,66,39,69,34,73,75,51,72,26,34,25,36,24,60,43,35,59,63,57,31,43,63,46,58,54,38,45,34,64,43,46,44,58,25,26,60,53,29,33,45,42,61,53,62,55,62,47,74,56,35,31,73,70,21,26,31,21,40,40,74,56,44,27,56,78,46,39,66,22,58,19,39,65,48,19,75,52,54,39,42,36,34,27,52,31,59,28,52,62,79,29,25,40,33,40,43,30,31,62,80,60,42,42,32,72,34,55,63,29,82,34,55,61,38,46,53,77,67,55,27,50,42,25,84,19,57,77,56,38,27,32,36,24,33,35,66,51,43,60,43,38,33,20,29,27,36,66,30,38,25,69,40,24,58,60,35,52,43,23,35,39,42,60,79,59,44,76,30,44,27,61,64,48,66,64,42,44,51,45,22,63,67,60,61,54,36,27,20,76,31,57,43,44,78,49,23,44,49,72,60,37,42,51,54,62,23,23,65,41,55,24,69,55,67,61,32,27,62,79,36,56,62,55,51,59,26,61,40,59,77,40,24,50,68,70,31,34,37,63,31,63,38,54,48,29,40,60,26,29,62,20,65,36,70,62,38,41,30,57,59,32,44,68,79,46,67,33,33,28,64,22,54,63,63,55,51,64,54,26,71,78,55,32,26,37,53,37,31,66,73,44,36,43,23,69,30,80,30,59,27,58,24,39,69,52,73,26,41,33,61,59,62,73,73,23,52,39,43,42,22,71,26,61,65,65,28,23,68,36,60,52,22,25,24,55,57,51,68,63,73,25,36,21,33,19,27,63,66,28,62,63,60,64,60,39,37,28,92,29,40,50,59,38,67,39,32,41,73,60,52,56,61,26,33,65,38,62,30,42,53,50,20,64,28,35,62,26,63,39,70,31,54,59,53,60,52,51,53,69,22,33,35,76,24,52,65,62,20,32,72,36,38,69,62,61,26,58,29,49,55,39,61,26,48,47,37,35,52,23,62,24,67,34,22,45,30,43,43,57,33,48,55,30,59,54,63,51,64,29,42,36,23,20,55,67,41,52,74,71,30,40,27,29,25,27,52,71,48,20,23,41,71,54,58,28,39,76,27,51,52,27,76,57,34,62,70,71,61,62,63,60,62,25,38,62,55,25,40,27,34,63,58,75,48,55,62,37,53,57,61,41,55,62,27,43,24,64,67,64,34,75,64,54,45,35,24,27,46,69,79,53,41,56,69,35,38,78,56,25,44,24,31,30,60,61,57,48,83,28,38,84,79,57,33,64,44,49,46,61,57,29,62,50,26,27,48,59,34,38,22,54,54,30,47,44,80,56,22,34,56,74,78,28,41,55,65,69,58,60,30,62,33,62,83,29,36,24,48,44,56,22,42,61,72,40,32,84,64,55,55,61,36,71,21,60,52,28,53,41,58,66,73,26,39,24,54,26,41,20,25,26,39,25,61,42,24,66,64,54,43,43,43,38,41,34,60,32,48,34,27,23,23,63,63,74,47,56,39,58,58,54,31,44,53,40,28,63,40,34,44,26,21,43,62,32,56,23,49,41,57,61,38,66,25,65,46,76,30,54,35,47,72,49,27,41,42,65,60,66,62,63,24,80,57,70,70,51,64,70,77,56,60,52,43,63,66,73,23,59,64,66,75,65,38,33,68,57,37,54,66,49,58,41,23,55,36,50],\"z\":[36,20,79,97,85,86,14,95,91,0,50,81,49,0,0,89,8,97,85,15,9,96,93,95,75,1,89,100,12,20,59,99,33,33,6,51,6,49,59,54,94,9,100,65,7,1,66,42,36,92,19,61,74,93,73,76,75,90,71,64,82,92,75,88,66,13,60,70,3,27,90,81,90,50,90,40,84,53,86,1,15,35,40,47,68,72,92,47,53,59,86,90,32,81,80,99,11,30,5,95,0,17,63,85,97,39,41,75,68,30,2,85,27,2,50,16,91,20,84,19,56,91,58,34,79,20,100,91,8,31,63,60,35,71,81,100,99,98,1,87,12,76,37,44,61,2,54,69,38,34,88,88,2,10,40,30,92,56,46,30,29,44,60,96,60,39,100,25,89,38,42,75,75,68,49,92,71,80,42,19,9,39,17,78,1,19,84,89,91,63,31,46,92,91,7,50,4,54,70,52,64,78,92,18,94,72,99,35,91,3,66,10,97,40,61,5,94,80,24,30,83,49,71,80,34,66,40,57,30,51,95,89,83,10,80,31,86,18,78,61,70,71,79,79,79,30,40,97,73,82,53,60,52,36,21,2,15,90,45,2,16,40,95,66,89,24,70,36,30,84,50,43,67,99,89,72,79,11,50,44,40,74,53,34,7,99,99,94,10,0,0,33,49,81,67,25,5,88,11,50,73,78,16,49,62,81,1,58,16,79,31,80,9,1,99,71,72,1,24,73,4,13,97,2,48,78,67,56,75,80,23,31,87,61,60,60,15,84,81,19,86,9,47,33,95,71,100,68,29,6,0,100,60,44,67,5,46,11,91,91,80,78,81,98,65,83,39,67,81,1,41,69,44,5,89,62,79,59,25,8,2,20,58,50,93,21,0,93,0,83,7,98,84,22,13,95,4,78,97,100,59,85,68,8,100,81,9,89,85,98,60,46,39,95,73,71,38,45,96,89,52,52,90,0,1,64,66,99,75,40,85,83,10,65,6,80,62,88,80,70,66,6,35,60,98,87,21,85,93,15,98,100,5,50,18,65,6,27,28,5,89,37,93,17,53,48,84,17,65,95,30,0,27,23,18,91,99,70,5,84,92,95,50,98,100,6,85,12,52,1,31,13,31,87,80,41,99,47,0,16,69,28,33,89,20,100,32,75,44,58,100,87,1,88,68,88,94,50,0,94,81,97,12,70,14,99,92,54,1,72,97,8,100,90,83,76,15,70,18,69,90,11,70,52,29,29,81,91,100,12,99,84,98,18,80,52,44,61,77,55,17,45,76,74,76,88,1,17,82,46,7,44,35,5,2,93,88,58,51,99,76,23,56,49,50,83,96,64,69,13,2,42,1,80,68,11,14,70,64,59,92,70,60,69,14,5,87,44,77,3,94,43,48,39,93,69,69,53,30,61,96,58,96,28,93,36,55,42,9,2,60,9,85,5,37,69,94,4,65,58,49,66,5,0,64,55,37,15,15,98,98,85,61,21,65,0,70,41,16,87,43,28,76,89,21,37,60,1,20,88,86,95,78,55,63,75,64,6,80,20,88,32,45,69,0,65,51,51,87,30,49,4,63,83,40,58,29,18,1,92,1,71,54,45,29,38,50,54,8,81,100,100,9,63,80,68,96,94,17,3,92,42,49,1,61,99,96,31,25,38,24,76,51,96,32,8,60,41,99,92,94,35,63,93,86,74,0,58,46,40,69,1,1,85,91,52,73,55,36,54,31,55,39,59,56,61,89,37,100,34,69,45,40,6,22,41,40,40,20,18,72,67,29,60,100,86,52,0,98,20,85,89,57,45,46,35,73,16,9,5,81,95,10,74,70,58,32,45,100,86,100,63,44,98,80,63,85,9,31,12,11,99,0,39,70,65,94,53,98,4,72,38,84,53,30,2,75,1,15,50,70,80,40,78,16,55,1,51,48,52,63,47,3,70,44,16,43,87,92,15,48,69,93,92,85,28,50,1,1,1,11,31,19,88,94,84,30,95,88,3,76,9,2,98,61,100,45,100,1,74,49,78,60,100,60,75,95,50,93,64,1,1,72,70,94,74,82,82,54,90,45,60,44,78,80,87,96,22,30,75,2,32,42,94,19,34,92,100,27,10,96,69,20,78,3,94,50,23,52,97,26,47,57,19,47,81,60,5,20,66,0,3,80,96,68,68,10,94,50,84,14,4,72,48,98,52,1,77,23,70,39,12,29,28,70,15,72,0,31,2,28,54,34,5,35,60,75,78,86,19,46,84,90,3,52,98,85,71,88,54,55,19,89,55,69,7,60,1,0,72,100,89,25,0,10,11,99,93,3,9,97,97,82,51,10,9,20,27,7,23,61,75,0,91,11,18,94,97,69,68,28,49,5,30,64,15,0,28,56],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"showscale\":false},\"textfont\":{\"size\":55},\"error_y\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"line\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"frame\":null},{\"colorbar\":{\"title\":\"tc_diff\",\"ticklen\":2},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666667\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":false,\"x\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[40.961841866329372,41.119175289309275,41.276508712289179,41.433842135269082,41.591175558248977,41.748508981228881,41.905842404208784,42.063175827188687,42.22050925016859,42.377842673148493,42.535176096128396,42.692509519108299,42.849842942088202,43.007176365068105,43.164509788048001,43.321843211027904],[41.3621100962527,41.519443519232603,41.676776942212506,41.834110365192409,41.991443788172305,42.148777211152208,42.306110634132111,42.463444057112014,42.620777480091917,42.77811090307182,42.935444326051723,43.092777749031626,43.250111172011529,43.407444594991432,43.564778017971328,43.722111440951231],[41.762378326176027,41.91971174915593,42.077045172135833,42.234378595115736,42.391712018095632,42.549045441075535,42.706378864055438,42.863712287035341,43.021045710015244,43.178379132995147,43.33571255597505,43.493045978954953,43.650379401934856,43.807712824914759,43.965046247894655,44.122379670874558],[42.162646556099354,42.319979979079257,42.47731340205916,42.634646825039063,42.791980248018959,42.949313670998862,43.106647093978765,43.263980516958668,43.421313939938571,43.578647362918474,43.735980785898377,43.89331420887828,44.050647631858183,44.207981054838086,44.365314477817982,44.522647900797885],[42.562914786022681,42.720248209002584,42.877581631982487,43.03491505496239,43.192248477942286,43.349581900922189,43.506915323902092,43.664248746881995,43.821582169861898,43.978915592841801,44.136249015821704,44.293582438801607,44.45091586178151,44.608249284761413,44.765582707741309,44.922916130721212],[42.963183015946008,43.120516438925911,43.277849861905814,43.435183284885717,43.592516707865613,43.749850130845516,43.907183553825419,44.064516976805322,44.221850399785225,44.379183822765128,44.536517245745031,44.693850668724934,44.851184091704837,45.00851751468474,45.165850937664636,45.323184360644539],[43.363451245869335,43.520784668849238,43.678118091829141,43.835451514809044,43.99278493778894,44.150118360768843,44.307451783748746,44.464785206728649,44.622118629708552,44.779452052688455,44.936785475668358,45.094118898648262,45.251452321628165,45.408785744608068,45.566119167587964,45.723452590567867],[43.763719475792655,43.921052898772558,44.078386321752461,44.235719744732364,44.39305316771226,44.550386590692163,44.707720013672066,44.865053436651969,45.022386859631872,45.179720282611775,45.337053705591678,45.494387128571582,45.651720551551485,45.809053974531381,45.966387397511284,46.123720820491187],[44.163987705715982,44.321321128695885,44.478654551675788,44.635987974655691,44.793321397635587,44.95065482061549,45.107988243595393,45.265321666575296,45.422655089555199,45.579988512535103,45.737321935515006,45.894655358494909,46.051988781474812,46.209322204454708,46.366655627434611,46.523989050414514],[44.564255935639309,44.721589358619212,44.878922781599115,45.036256204579018,45.193589627558914,45.350923050538817,45.50825647351872,45.665589896498624,45.822923319478527,45.98025674245843,46.137590165438333,46.294923588418236,46.452257011398139,46.609590434378035,46.766923857357938,46.924257280337841],[44.964524165562636,45.121857588542539,45.279191011522443,45.436524434502346,45.593857857482242,45.751191280462145,45.908524703442048,46.065858126421951,46.223191549401854,46.380524972381757,46.53785839536166,46.695191818341563,46.852525241321466,47.009858664301362,47.167192087281265,47.324525510261168],[45.364792395485964,45.522125818465867,45.67945924144577,45.836792664425673,45.994126087405569,46.151459510385472,46.308792933365375,46.466126356345278,46.623459779325181,46.780793202305084,46.938126625284987,47.09546004826489,47.252793471244793,47.410126894224689,47.567460317204592,47.724793740184495],[45.765060625409291,45.922394048389194,46.079727471369097,46.237060894349,46.394394317328896,46.551727740308799,46.709061163288702,46.866394586268605,47.023728009248508,47.181061432228411,47.338394855208314,47.495728278188217,47.65306170116812,47.810395124148016,47.967728547127919,48.125061970107822],[46.165328855332618,46.322662278312521,46.479995701292424,46.637329124272327,46.794662547252223,46.951995970232126,47.109329393212029,47.266662816191932,47.423996239171835,47.581329662151738,47.738663085131641,47.895996508111544,48.053329931091447,48.210663354071343,48.367996777051246,48.525330200031149],[46.565597085255945,46.722930508235848,46.880263931215751,47.037597354195654,47.19493077717555,47.352264200155453,47.509597623135356,47.666931046115259,47.824264469095162,47.981597892075065,48.138931315054968,48.296264738034871,48.453598161014774,48.61093158399467,48.768265006974573,48.925598429954476],[46.965865315179272,47.123198738159175,47.280532161139078,47.437865584118981,47.595199007098877,47.75253243007878,47.909865853058683,48.067199276038586,48.224532699018489,48.381866121998392,48.539199544978295,48.696532967958198,48.853866390938101,49.011199813917997,49.1685332368979,49.325866659877803],[47.366133545102599,47.523466968082502,47.680800391062405,47.838133814042308,47.995467237022204,48.152800660002107,48.31013408298201,48.467467505961913,48.624800928941816,48.782134351921719,48.939467774901622,49.096801197881526,49.254134620861429,49.411468043841325,49.568801466821228,49.726134889801131],[47.766401775025926,47.923735198005829,48.081068620985732,48.238402043965635,48.395735466945531,48.553068889925434,48.710402312905337,48.86773573588524,49.025069158865143,49.182402581845047,49.33973600482495,49.497069427804853,49.654402850784756,49.811736273764652,49.969069696744555,50.126403119724458],[48.166670004949253,48.324003427929156,48.481336850909059,48.638670273888962,48.796003696868858,48.953337119848761,49.110670542828665,49.268003965808568,49.425337388788471,49.582670811768374,49.740004234748277,49.89733765772818,50.054671080708083,50.212004503687979,50.369337926667882,50.526671349647785],[48.56693823487258,48.724271657852483,48.881605080832387,49.03893850381229,49.196271926792186,49.353605349772089,49.510938772751992,49.668272195731895,49.825605618711798,49.982939041691701,50.140272464671604,50.297605887651507,50.45493931063141,50.612272733611306,50.769606156591209,50.926939579571112],[48.967206464795908,49.124539887775811,49.281873310755714,49.439206733735617,49.596540156715513,49.753873579695416,49.911207002675319,50.068540425655222,50.225873848635125,50.383207271615028,50.540540694594931,50.697874117574834,50.855207540554737,51.012540963534633,51.169874386514536,51.327207809494439],[49.367474694719235,49.524808117699138,49.682141540679041,49.839474963658944,49.99680838663884,50.154141809618743,50.311475232598646,50.468808655578549,50.626142078558452,50.783475501538355,50.940808924518258,51.098142347498161,51.255475770478064,51.41280919345796,51.570142616437863,51.727476039417766],[49.767742924642562,49.925076347622465,50.082409770602368,50.239743193582271,50.397076616562167,50.55441003954207,50.711743462521973,50.869076885501876,51.026410308481779,51.183743731461682,51.341077154441585,51.498410577421488,51.655744000401391,51.813077423381287,51.97041084636119,52.127744269341093],[50.168011154565889,50.325344577545792,50.482678000525695,50.640011423505598,50.797344846485494,50.954678269465397,51.1120116924453,51.269345115425203,51.426678538405106,51.584011961385009,51.741345384364912,51.898678807344815,52.056012230324718,52.213345653304614,52.370679076284517,52.52801249926442],[50.568279384489216,50.725612807469119,50.882946230449022,51.040279653428925,51.197613076408821,51.354946499388724,51.512279922368627,51.66961334534853,51.826946768328433,51.984280191308336,52.141613614288239,52.298947037268142,52.456280460248045,52.613613883227941,52.770947306207844,52.928280729187748],[50.968547614412543,51.125881037392446,51.283214460372349,51.440547883352252,51.597881306332148,51.755214729312051,51.912548152291954,52.069881575271857,52.22721499825176,52.384548421231663,52.541881844211566,52.69921526719147,52.856548690171373,53.013882113151269,53.171215536131172,53.328548959111075],[51.36881584433587,51.526149267315773,51.683482690295676,51.840816113275579,51.998149536255475,52.155482959235378,52.312816382215281,52.470149805195184,52.627483228175088,52.784816651154991,52.942150074134894,53.099483497114797,53.2568169200947,53.414150343074596,53.571483766054499,53.728817189034402],[51.769084074259197,51.9264174972391,52.083750920219003,52.241084343198906,52.398417766178802,52.555751189158705,52.713084612138609,52.870418035118512,53.027751458098415,53.185084881078318,53.342418304058221,53.499751727038124,53.657085150018027,53.814418572997923,53.971751995977826,54.129085418957729],[52.169352304182524,52.326685727162427,52.484019150142331,52.641352573122234,52.79868599610213,52.956019419082033,53.113352842061936,53.270686265041839,53.428019688021742,53.585353111001645,53.742686533981548,53.900019956961451,54.057353379941354,54.21468680292125,54.372020225901153,54.529353648881056],[52.569620534105852,52.726953957085755,52.884287380065658,53.041620803045561,53.198954226025457,53.35628764900536,53.513621071985263,53.670954494965166,53.828287917945069,53.985621340924972,54.142954763904875,54.300288186884778,54.457621609864681,54.614955032844577,54.77228845582448,54.929621878804383],[52.969888764029179,53.127222187009082,53.284555609988985,53.441889032968888,53.599222455948784,53.756555878928687,53.91388930190859,54.071222724888493,54.228556147868396,54.385889570848299,54.543222993828202,54.700556416808105,54.857889839788008,55.015223262767904,55.172556685747807,55.32989010872771],[53.370156993952506,53.527490416932409,53.684823839912312,53.842157262892215,53.999490685872111,54.156824108852014,54.314157531831917,54.47149095481182,54.628824377791723,54.786157800771626,54.943491223751529,55.100824646731432,55.258158069711335,55.415491492691231,55.572824915671134,55.730158338651037],[53.770425223875826,53.927758646855729,54.085092069835632,54.242425492815535,54.399758915795431,54.557092338775334,54.714425761755237,54.87175918473514,55.029092607715043,55.186426030694946,55.343759453674849,55.501092876654752,55.658426299634655,55.815759722614558,55.973093145594454,56.130426568574357],[54.170693453799153,54.328026876779056,54.485360299758959,54.642693722738862,54.800027145718758,54.957360568698661,55.114693991678564,55.272027414658467,55.42936083763837,55.586694260618273,55.744027683598176,55.901361106578079,56.058694529557982,56.216027952537885,56.373361375517781,56.530694798497684],[54.57096168372248,54.728295106702383,54.885628529682286,55.042961952662189,55.200295375642085,55.357628798621988,55.514962221601891,55.672295644581794,55.829629067561697,55.9869624905416,56.144295913521503,56.301629336501406,56.458962759481309,56.616296182461213,56.773629605441108,56.930963028421012],[54.971229913645807,55.12856333662571,55.285896759605613,55.443230182585516,55.600563605565412,55.757897028545315,55.915230451525218,56.072563874505121,56.229897297485024,56.387230720464927,56.544564143444831,56.701897566424734,56.859230989404637,57.01656441238454,57.173897835364436,57.331231258344339],[55.371498143569134,55.528831566549037,55.68616498952894,55.843498412508843,56.000831835488739,56.158165258468642,56.315498681448545,56.472832104428448,56.630165527408352,56.787498950388255,56.944832373368158,57.102165796348061,57.259499219327964,57.416832642307867,57.574166065287763,57.731499488267666],[55.771766373492461,55.929099796472364,56.086433219452267,56.24376664243217,56.401100065412066,56.558433488391969,56.715766911371873,56.873100334351776,57.030433757331679,57.187767180311582,57.345100603291485,57.502434026271388,57.659767449251291,57.817100872231194,57.97443429521109,58.131767718190993],[56.172034603415788,56.329368026395692,56.486701449375595,56.644034872355498,56.801368295335394,56.958701718315297,57.1160351412952,57.273368564275103,57.430701987255006,57.588035410234909,57.745368833214812,57.902702256194715,58.060035679174618,58.217369102154521,58.374702525134417,58.53203594811432],[56.572302833339116,56.729636256319019,56.886969679298922,57.044303102278825,57.201636525258721,57.358969948238624,57.516303371218527,57.67363679419843,57.830970217178333,57.988303640158236,58.145637063138139,58.302970486118042,58.460303909097945,58.617637332077848,58.774970755057744,58.932304178037647],[56.972571063262443,57.129904486242346,57.287237909222249,57.444571332202152,57.601904755182048,57.759238178161951,57.916571601141854,58.073905024121757,58.23123844710166,58.388571870081563,58.545905293061466,58.703238716041369,58.860572139021272,59.017905562001175,59.175238984981071,59.332572407960974],[57.372839293185763,57.530172716165666,57.687506139145569,57.844839562125472,58.002172985105368,58.159506408085271,58.316839831065174,58.474173254045077,58.63150667702498,58.788840100004883,58.946173522984786,59.103506945964689,59.260840368944592,59.418173791924488,59.575507214904391,59.732840637884294],[57.77310752310909,57.930440946088993,58.087774369068896,58.245107792048799,58.402441215028695,58.559774638008598,58.717108060988501,58.874441483968404,59.031774906948307,59.18910832992821,59.346441752908113,59.503775175888016,59.661108598867919,59.818442021847815,59.975775444827718,60.133108867807621],[58.173375753032417,58.33070917601232,58.488042598992223,58.645376021972126,58.802709444952022,58.960042867931925,59.117376290911828,59.274709713891731,59.432043136871634,59.589376559851537,59.74670998283144,59.904043405811343,60.061376828791246,60.218710251771142,60.376043674751045,60.533377097730948],[58.573643982955744,58.730977405935647,58.88831082891555,59.045644251895453,59.202977674875349,59.360311097855252,59.517644520835155,59.674977943815058,59.832311366794961,59.989644789774864,60.146978212754767,60.30431163573467,60.461645058714574,60.618978481694469,60.776311904674372,60.933645327654276],[58.973912212879071,59.131245635858974,59.288579058838877,59.44591248181878,59.603245904798676,59.760579327778579,59.917912750758482,60.075246173738385,60.232579596718288,60.389913019698191,60.547246442678095,60.704579865657998,60.861913288637901,61.019246711617797,61.1765801345977,61.333913557577603],[59.374180442802398,59.531513865782301,59.688847288762204,59.846180711742107,60.003514134722003,60.160847557701906,60.318180980681809,60.475514403661712,60.632847826641616,60.790181249621519,60.947514672601422,61.104848095581325,61.262181518561228,61.419514941541124,61.576848364521027,61.73418178750093],[59.774448672725725,59.931782095705628,60.089115518685531,60.246448941665435,60.40378236464533,60.561115787625234,60.718449210605137,60.87578263358504,61.033116056564943,61.190449479544846,61.347782902524749,61.505116325504652,61.662449748484555,61.819783171464451,61.977116594444354,62.134450017424257],[60.174716902649052,60.332050325628956,60.489383748608859,60.646717171588762,60.804050594568658,60.961384017548561,61.118717440528464,61.276050863508367,61.43338428648827,61.590717709468173,61.748051132448076,61.905384555427979,62.062717978407882,62.220051401387778,62.377384824367681,62.534718247347584],[60.57498513257238,60.732318555552283,60.889651978532186,61.046985401512089,61.204318824491985,61.361652247471888,61.518985670451791,61.676319093431694,61.833652516411597,61.9909859393915,62.148319362371403,62.305652785351306,62.462986208331209,62.620319631311105,62.777653054291008,62.934986477270911],[60.975253362495707,61.13258678547561,61.289920208455513,61.447253631435416,61.604587054415312,61.761920477395215,61.919253900375118,62.076587323355021,62.233920746334924,62.391254169314827,62.54858759229473,62.705921015274633,62.863254438254536,63.020587861234432,63.177921284214335,63.335254707194238],[61.375521592419034,61.532855015398937,61.69018843837884,61.847521861358743,62.004855284338639,62.162188707318542,62.319522130298445,62.476855553278348,62.634188976258251,62.791522399238154,62.948855822218057,63.10618924519796,63.263522668177863,63.420856091157759,63.578189514137662,63.735522937117565],[61.775789822342361,61.933123245322264,62.090456668302167,62.24779009128207,62.405123514261966,62.562456937241869,62.719790360221772,62.877123783201675,63.034457206181578,63.191790629161481,63.349124052141384,63.506457475121287,63.66379089810119,63.821124321081086,63.978457744060989,64.135791167040892],[62.176058052265688,62.333391475245591,62.490724898225494,62.648058321205397,62.805391744185293,62.962725167165196,63.120058590145099,63.277392013125002,63.434725436104905,63.592058859084808,63.749392282064711,63.906725705044614,64.06405912802451,64.221392551004413,64.378725973984317,64.53605939696422],[62.576326282189015,62.733659705168918,62.890993128148821,63.048326551128724,63.20565997410862,63.362993397088523,63.520326820068426,63.677660243048329,63.834993666028232,63.992327089008135,64.149660511988031,64.306993934967934,64.464327357947838,64.621660780927741,64.778994203907644,64.936327626887547],[62.976594512112342,63.133927935092245,63.291261358072148,63.448594781052051,63.605928204031947,63.76326162701185,63.920595049991753,64.077928472971664,64.235261895951567,64.392595318931455,64.549928741911359,64.707262164891262,64.864595587871165,65.021929010851068,65.179262433830971,65.336595856810874],[63.376862742035669,63.534196165015572,63.691529587995475,63.848863010975379,64.006196433955282,64.163529856935185,64.320863279915088,64.478196702894991,64.63553012587488,64.792863548854783,64.950196971834686,65.107530394814589,65.264863817794492,65.422197240774395,65.579530663754298,65.736864086734201],[63.777130971958996,63.9344643949389,64.091797817918803,64.249131240898706,64.406464663878609,64.563798086858512,64.721131509838415,64.878464932818318,65.035798355798221,65.19313177877811,65.350465201758013,65.507798624737916,65.665132047717819,65.822465470697722,65.979798893677625,66.137132316657528],[64.177399201882324,64.334732624862227,64.49206604784213,64.649399470822033,64.806732893801936,64.964066316781839,65.121399739761742,65.278733162741645,65.436066585721534,65.593400008701437,65.75073343168134,65.908066854661243,66.065400277641146,66.222733700621049,66.380067123600952,66.537400546580855],[64.577667431805651,64.735000854785554,64.892334277765457,65.04966770074536,65.207001123725263,65.364334546705166,65.521667969685069,65.679001392664972,65.836334815644875,65.993668238624764,66.151001661604667,66.30833508458457,66.465668507564473,66.623001930544376,66.780335353524279,66.937668776504182],[64.977935661728978,65.135269084708881,65.292602507688784,65.449935930668687,65.60726935364859,65.764602776628493,65.921936199608396,66.079269622588299,66.236603045568188,66.393936468548091,66.551269891527994,66.708603314507897,66.8659367374878,67.023270160467703,67.180603583447606,67.337937006427509],[65.378203891652305,65.535537314632208,65.692870737612111,65.850204160592014,66.007537583571917,66.16487100655182,66.322204429531723,66.479537852511626,66.636871275491529,66.794204698471418,66.951538121451321,67.108871544431224,67.266204967411127,67.42353839039103,67.580871813370933,67.738205236350836],[65.778472121575632,65.935805544555535,66.093138967535438,66.250472390515341,66.407805813495244,66.565139236475147,66.72247265945505,66.879806082434953,67.037139505414842,67.194472928394745,67.351806351374648,67.509139774354551,67.666473197334454,67.823806620314357,67.981140043294261,68.138473466274164],[66.178740351498959,66.336073774478862,66.493407197458765,66.650740620438668,66.808074043418571,66.965407466398474,67.122740889378377,67.280074312358281,67.437407735338184,67.594741158318072,67.752074581297975,67.909408004277878,68.066741427257782,68.224074850237685,68.381408273217588,68.538741696197491],[66.579008581422286,66.736342004402189,66.893675427382092,67.051008850361995,67.208342273341898,67.365675696321802,67.523009119301705,67.680342542281608,67.837675965261496,67.9950093882414,68.152342811221303,68.309676234201206,68.467009657181109,68.624343080161012,68.781676503140915,68.939009926120818],[66.979276811345599,67.136610234325502,67.293943657305405,67.451277080285308,67.608610503265211,67.765943926245114,67.923277349225017,68.080610772204921,68.237944195184809,68.395277618164712,68.552611041144615,68.709944464124519,68.867277887104422,69.024611310084325,69.181944733064228,69.339278156044131],[67.379545041268941,67.536878464248844,67.694211887228747,67.85154531020865,68.008878733188553,68.166212156168456,68.323545579148359,68.480879002128262,68.638212425108151,68.795545848088054,68.952879271067957,69.11021269404786,69.267546117027763,69.424879540007666,69.582212962987569,69.739546385967472],[67.779813271192253,67.937146694172156,68.09448011715206,68.251813540131963,68.409146963111866,68.566480386091769,68.723813809071672,68.881147232051575,69.038480655031464,69.195814078011367,69.35314750099127,69.510480923971173,69.667814346951076,69.825147769930979,69.982481192910882,70.139814615890785],[68.180081501115595,68.337414924095498,68.494748347075401,68.652081770055304,68.809415193035207,68.96674861601511,69.124082038995013,69.281415461974916,69.438748884954805,69.596082307934708,69.753415730914611,69.910749153894514,70.068082576874417,70.22541599985432,70.382749422834223,70.540082845814126],[68.580349731038908,68.737683154018811,68.895016576998714,69.052349999978617,69.20968342295852,69.367016845938423,69.524350268918326,69.681683691898229,69.839017114878118,69.996350537858021,70.153683960837924,70.311017383817827,70.46835080679773,70.625684229777633,70.783017652757536,70.940351075737439],[68.980617960962249,69.137951383942152,69.295284806922055,69.452618229901958,69.609951652881861,69.767285075861764,69.924618498841667,70.08195192182157,70.239285344801459,70.396618767781362,70.553952190761265,70.711285613741168,70.868619036721071,71.025952459700974,71.183285882680877,71.34061930566078],[69.380886190885562,69.538219613865465,69.695553036845368,69.852886459825271,70.010219882805174,70.167553305785077,70.32488672876498,70.482220151744883,70.639553574724772,70.796886997704675,70.954220420684578,71.111553843664481,71.268887266644384,71.426220689624287,71.58355411260419,71.740887535584093],[69.781154420808903,69.938487843788806,70.095821266768709,70.253154689748612,70.410488112728515,70.567821535708418,70.725154958688321,70.882488381668225,71.039821804648113,71.197155227628016,71.354488650607919,71.511822073587823,71.669155496567726,71.826488919547629,71.983822342527532,72.141155765507435],[70.181422650732216,70.338756073712119,70.496089496692022,70.653422919671925,70.810756342651828,70.968089765631731,71.125423188611634,71.282756611591537,71.440090034571426,71.597423457551329,71.754756880531232,71.912090303511135,72.069423726491038,72.226757149470941,72.384090572450845,72.541423995430748],[70.581690880655557,70.73902430363546,70.896357726615364,71.053691149595267,71.21102457257517,71.368357995555073,71.525691418534976,71.683024841514879,71.840358264494768,71.997691687474671,72.155025110454574,72.312358533434477,72.46969195641438,72.627025379394283,72.784358802374186,72.941692225354089],[70.98195911057887,71.139292533558773,71.296625956538676,71.453959379518579,71.611292802498483,71.768626225478386,71.925959648458289,72.083293071438192,72.24062649441808,72.397959917397984,72.555293340377887,72.71262676335779,72.869960186337693,73.027293609317596,73.184627032297499,73.341960455277402],[71.382227340502212,71.539560763482115,71.696894186462018,71.854227609441921,72.011561032421824,72.168894455401727,72.32622787838163,72.483561301361533,72.640894724341422,72.798228147321325,72.955561570301228,73.112894993281131,73.270228416261034,73.427561839240937,73.58489526222084,73.742228685200743]],\"type\":\"surface\",\"name\":\"pred_surface\",\"cauto\":true,\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n:::\n\n## {.smaller}\n\n#### `m7`: Interaction between two numerical predictors \n\n::: panel-tabset\n\n## m7\n\n$$\\text{m7: tc_diff} = \\beta_0 + \\beta_1\\text{age} + \\beta_2\\text{income} + \\beta_4\\text{age}\\times \\text{income}+\\epsilon $$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm7 <- lm(tc_diff ~ age*income, nes)\ncoef(m7)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(Intercept)         age      income  age:income \n38.22449671  0.29406374 -0.78888643  0.01993978 \n```\n\n\n:::\n:::\n\n\n## {{< fa table >}}-Table\n\n\n\n```{.r .cell-code}\nhtmlreg(list( m6, m7))\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">(Intercept)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">33.20<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">38.22<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(3.35)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(5.80)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">age</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.40<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.29<sup>&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.06)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.12)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">income</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.16</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-0.79</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.29)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.94)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">age:income</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.02</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">(0.02)</td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.05</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">Adj. R<sup>2</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.04</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Num. obs.</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1049</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">1049</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"3\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.001; <sup>&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;</sup>p &lt; 0.05</td>\n</tr>\n</tfoot>\n</table>\n\n\n\n## {{< fa code >}}-Figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Prediction Data Frame\n\npred_df7 <- expand_grid(\n  age = seq(19, 95,\n            by = 4),\n  # Hold income constant at mean value\n  income = seq(min(nes$income, na.rm = T),\n            max(nes$income, na.rm=T),\n            length.out = 16)\n)\n\n\n\npred_df7  <- cbind(\n  pred_df7 ,\n  fit = predict(m7, pred_df7 )\n)\n\n# Produce figure\n\n# Marginal effect of age at min, median, and max values of income\npred_df7 %>%\n  mutate(\n    income_at = case_when(\n      income == 1 ~ \"01\",\n      income == median(nes$income,na.rm=T) ~ \"05\",\n      income == 16 ~ \"16\",\n      T ~ NA_character_\n    )\n  ) %>% \n  filter(!is.na(income_at)) %>% \n  ggplot(aes(age, fit,\n             ))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(income)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= age,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point(aes(col =income_at,\n                 group = income_at))+\n  geom_line(aes(col =income_at,\n                group = income_at)\n            ) -> fig_tc_m7_age\n\n# Marginal effect of income at min, median, and max values of age\npred_df7 %>%\n  mutate(\n    age_at = case_when(\n      age == min(nes$age, na.rm=T) ~ \"19\",\n      age == 47 ~ \"47\", # close enough ...\n      age ==  max(nes$age, na.rm=T) ~ \"95\",\n      T ~ NA_character_\n    )\n  ) %>% \n  filter(!is.na(age_at)) %>% \n  ggplot(aes(income, fit,\n             ))+\n  # Add raw data\n  geom_point(\n    data = nes %>% \n      filter(!is.na(income)) %>%\n      filter(!is.na(age))\n      ,\n    aes(x= income,\n        y= tc_diff),\n    alpha = .1,\n    size = .2\n  ) +\n  geom_point(aes(col =age_at,\n                 group = age_at))+\n  geom_line(aes(col =age_at,\n                group = age_at)\n            ) -> fig_tc_m7_income\n\n\nfig_tc_m7 <- ggpubr::ggarrange(fig_tc_m7_age, \n                               fig_tc_m7_income,\n                               legend = \"bottom\")\n```\n:::\n\n\n## {{< fa chart-line >}}-m7\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/m7fig-1.png){width=960}\n:::\n:::\n\n\n## {{< fa chart-line >}}-m7 in 3d\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-8d75533f6bba084e4ee4\" style=\"width:960px;height:480px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-8d75533f6bba084e4ee4\">{\"x\":{\"visdat\":{\"dfc2119cc82f\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"dfc2119cc82f\",\"attrs\":{\"dfc2119cc82f\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"size\":5,\"inherit\":true},\"dfc2119cc82f.1\":{\"x\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[43.401677253088565,42.991646705503207,42.581616157917857,42.1715856103325,41.761555062747142,41.351524515161785,40.941493967576427,40.53146341999107,40.121432872405713,39.711402324820355,39.301371777234998,38.89134122964964,38.48131068206429,38.071280134478933,37.661249586893575,37.251219039308218],[43.715680778215528,43.325590014178246,42.935499250140971,42.545408486103689,42.155317722066407,41.765226958029125,41.375136193991835,40.98504542995456,40.594954665917278,40.204863901879996,39.814773137842714,39.424682373805432,39.03459160976815,38.644500845730867,38.254410081693592,37.86431931765631],[44.029684303342485,43.659533322853278,43.289382342364078,42.919231361874871,42.549080381385664,42.178929400896457,41.808778420407251,41.438627439918044,41.068476459428837,40.69832547893963,40.328174498450423,39.958023517961216,39.587872537472009,39.217721556982802,38.847570576493602,38.477419596004395],[44.343687828469449,43.993476631528317,43.643265434587192,43.293054237646061,42.942843040704929,42.592631843763797,42.242420646822666,41.892209449881527,41.541998252940402,41.191787055999271,40.841575859058139,40.491364662117007,40.141153465175883,39.790942268234751,39.440731071293619,39.090519874352488],[44.657691353596412,44.327419940203356,43.997148526810307,43.66687711341725,43.336605700024194,43.00633428663113,42.676062873238074,42.345791459845024,42.015520046451968,41.685248633058912,41.354977219665855,41.024705806272799,40.694434392879742,40.364162979486686,40.033891566093637,39.70362015270058],[44.971694878723369,44.661363248878388,44.351031619033414,44.040699989188433,43.730368359343451,43.420036729498463,43.109705099653482,42.799373469808508,42.489041839963527,42.178710210118545,41.868378580273564,41.558046950428583,41.247715320583602,40.937383690738621,40.627052060893647,40.316720431048665],[45.285698403850333,44.995306557553427,44.704914711256528,44.414522864959622,44.124131018662716,43.83373917236581,43.543347326068897,43.252955479771991,42.962563633475092,42.672171787178186,42.38177994088128,42.091388094584374,41.800996248287476,41.51060440199057,41.220212555693664,40.929820709396758],[45.599701928977296,45.329249866228466,45.058797803479642,44.788345740730811,44.517893677981981,44.247441615233143,43.976989552484312,43.706537489735489,43.436085426986658,43.165633364237827,42.895181301488996,42.624729238740166,42.354277175991335,42.083825113242504,41.813373050493681,41.54292098774485],[45.913705454104253,45.663193174903498,45.412680895702749,45.162168616501994,44.911656337301238,44.661144058100476,44.41063177889972,44.160119499698972,43.909607220498216,43.659094941297461,43.408582662096705,43.15807038289595,42.907558103695195,42.657045824494439,42.406533545293684,42.156021266092935],[46.227708979231217,45.997136483578537,45.766563987925863,45.535991492273183,45.305418996620503,45.074846500967816,44.844274005315135,44.613701509662455,44.383129014009782,44.152556518357102,43.921984022704422,43.691411527051741,43.460839031399068,43.230266535746388,42.999694040093701,42.76912154444102],[46.541712504358181,46.331079792253576,46.120447080148978,45.909814368044373,45.699181655939768,45.488548943835156,45.277916231730551,45.067283519625953,44.856650807521348,44.646018095416743,44.435385383312138,44.224752671207533,44.014119959102928,43.803487246998316,43.592854534893718,43.38222182278912],[46.855716029485137,46.665023100928607,46.474330172372085,46.283637243815555,46.092944315259018,45.902251386702488,45.711558458145959,45.520865529589436,45.330172601032906,45.139479672476376,44.948786743919847,44.758093815363317,44.567400886806787,44.37670795825025,44.186015029693735,43.995322101137198],[47.169719554612101,46.998966409603646,46.828213264595199,46.657460119586744,46.486706974578283,46.315953829569828,46.145200684561374,45.974447539552919,45.803694394544472,45.632941249536017,45.462188104527563,45.291434959519108,45.120681814510661,44.949928669502199,44.779175524493752,44.60842237948529],[47.483723079739065,47.332909718278685,47.182096356818313,47.031282995357934,46.880469633897548,46.729656272437168,46.578842910976789,46.428029549516417,46.277216188056038,46.126402826595658,45.975589465135279,45.8247761036749,45.673962742214513,45.523149380754134,45.372336019293762,45.221522657833383],[47.797726604866021,47.666853026953717,47.53597944904142,47.405105871129116,47.274232293216805,47.143358715304501,47.012485137392197,46.8816115594799,46.750737981567596,46.619864403655292,46.488990825742988,46.358117247830684,46.22724366991838,46.096370092006069,45.965496514093772,45.834622936181468],[48.111730129992985,48.000796335628756,47.889862541264534,47.778928746900306,47.66799495253607,47.557061158171841,47.446127363807612,47.335193569443383,47.224259775079162,47.113325980714933,47.002392186350704,46.891458391986475,46.780524597622247,46.669590803258018,46.558657008893789,46.44772321452956],[48.425733655119949,48.334739644303795,48.243745633487649,48.152751622671488,48.061757611855334,47.970763601039181,47.879769590223027,47.788775579406881,47.697781568590727,47.606787557774574,47.51579354695842,47.42479953614226,47.333805525326113,47.242811514509953,47.151817503693806,47.060823492877653],[48.739737180246905,48.668682952978827,48.597628725710756,48.52657449844267,48.455520271174592,48.384466043906514,48.313411816638435,48.242357589370364,48.171303362102286,48.100249134834208,48.029194907566129,47.958140680298044,47.887086453029966,47.816032225761887,47.744977998493816,47.673923771225738],[49.053740705373869,49.002626261653866,48.95151181793387,48.900397374213867,48.849282930493857,48.798168486773854,48.747054043053851,48.695939599333848,48.644825155613852,48.593710711893848,48.542596268173838,48.491481824453842,48.440367380733839,48.389252937013836,48.338138493293833,48.28702404957383],[49.367744230500833,49.336569570328905,49.305394910156984,49.274220249985049,49.243045589813121,49.211870929641194,49.180696269469266,49.149521609297345,49.118346949125417,49.087172288953489,49.055997628781554,49.024822968609627,48.993648308437699,48.962473648265771,48.93129898809385,48.900124327921922],[49.681747755627789,49.670512879003937,49.659278002380091,49.648043125756232,49.636808249132379,49.625573372508526,49.614338495884674,49.603103619260828,49.591868742636976,49.580633866013123,49.569398989389271,49.558164112765411,49.546929236141558,49.535694359517706,49.52445948289386,49.513224606270008],[49.995751280754753,50.004456187678976,50.013161094603205,50.021866001527421,50.030570908451644,50.039275815375866,50.047980722300089,50.056685629224312,50.065390536148541,50.074095443072764,50.082800349996987,50.091505256921202,50.100210163845432,50.108915070769655,50.117619977693877,50.1263248846181],[50.309754805881717,50.338399496354015,50.36704418682632,50.39568887729861,50.424333567770908,50.452978258243206,50.481622948715504,50.510267639187809,50.538912329660107,50.567557020132398,50.596201710604703,50.624846401076994,50.653491091549292,50.682135782021589,50.710780472493894,50.739425162966192],[50.623758331008673,50.672342805029047,50.720927279049427,50.769511753069793,50.818096227090166,50.866680701110539,50.915265175130912,50.963849649151292,51.012434123171666,51.061018597192032,51.109603071212405,51.158187545232778,51.206772019253151,51.255356493273524,51.303940967293904,51.352525441314278],[50.937761856135637,51.006286113704085,51.074810371272541,51.143334628840982,51.211858886409431,51.280383143977879,51.348907401546327,51.417431659114776,51.485955916683231,51.55448017425168,51.623004431820121,51.691528689388569,51.760052946957025,51.828577204525473,51.897101462093921,51.96562571966237],[51.251765381262601,51.340229422379124,51.428693463495655,51.517157504612172,51.605621545728695,51.694085586845219,51.782549627961743,51.871013669078273,51.959477710194797,52.047941751311313,52.136405792427837,52.224869833544361,52.313333874660884,52.401797915777408,52.490261956893939,52.578725998010455],[51.565768906389557,51.674172731054156,51.782576555718762,51.890980380383354,51.999384205047953,52.107788029712552,52.216191854377151,52.324595679041757,52.432999503706355,52.541403328370947,52.649807153035546,52.758210977700145,52.866614802364744,52.975018627029343,53.083422451693949,53.19182627635854],[51.879772431516521,52.008116039729195,52.136459647941876,52.264803256154543,52.393146864367218,52.521490472579892,52.649834080792566,52.77817768900524,52.906521297217921,53.034864905430595,53.163208513643262,53.291552121855936,53.419895730068617,53.548239338281292,53.676582946493966,53.80492655470664],[52.193775956643485,52.342059348404234,52.490342740164991,52.638626131925733,52.786909523686482,52.935192915447232,53.083476307207981,53.231759698968737,53.380043090729487,53.528326482490229,53.676609874250978,53.824893266011728,53.973176657772477,54.121460049533226,54.269743441293983,54.418026833054725],[52.507779481770442,52.676002657079266,52.844225832388091,53.012449007696915,53.18067218300574,53.348895358314564,53.517118533623389,53.685341708932221,53.853564884241038,54.021788059549863,54.190011234858687,54.358234410167512,54.526457585476336,54.694680760785161,54.862903936093986,55.03112711140281],[52.821783006897405,53.009945965754305,53.198108924611205,53.386271883468105,53.574434842325005,53.762597801181904,53.950760760038804,54.138923718895704,54.327086677752604,54.515249636609504,54.703412595466403,54.891575554323303,55.07973851318021,55.26790147203711,55.456064430894003,55.644227389750903],[53.135786532024369,53.343889274429344,53.551992016834319,53.760094759239294,53.968197501644269,54.176300244049244,54.384402986454219,54.592505728859201,54.800608471264169,55.008711213669145,55.21681395607412,55.424916698479095,55.63301944088407,55.841122183289045,56.04922492569402,56.257327668098995],[53.449790057151326,53.677832583104376,53.905875109057433,54.133917635010476,54.361960160963527,54.590002686916577,54.818045212869627,55.046087738822678,55.274130264775735,55.502172790728778,55.730215316681829,55.958257842634879,56.186300368587929,56.41434289454098,56.642385420494037,56.87042794644708],[53.763793582278289,54.011775891779415,54.25975820128054,54.507740510781666,54.755722820282791,55.003705129783917,55.251687439285043,55.499669748786161,55.747652058287301,55.995634367788419,56.243616677289545,56.49159898679067,56.739581296291803,56.987563605792928,57.235545915294047,57.483528224795172],[54.077797107405253,54.345719200454454,54.613641293503655,54.881563386552855,55.149485479602056,55.417407572651257,55.685329665700458,55.953251758749659,56.221173851798859,56.48909594484806,56.757018037897261,57.024940130946462,57.292862223995662,57.560784317044863,57.828706410094064,58.096628503143265],[54.39180063253221,54.679662509129486,54.967524385726762,55.255386262324038,55.543248138921314,55.83111001551859,56.118971892115866,56.406833768713142,56.694695645310418,56.982557521907694,57.27041939850497,57.558281275102246,57.846143151699522,58.134005028296798,58.421866904894074,58.70972878149135],[54.705804157659173,55.013605817804525,55.321407477949876,55.629209138095227,55.937010798240578,56.24481245838593,56.552614118531281,56.860415778676625,57.168217438821983,57.476019098967335,57.783820759112686,58.091622419258037,58.399424079403389,58.70722573954874,59.015027399694091,59.322829059839442],[55.019807682786137,55.347549126479564,55.67529057017299,56.003032013866417,56.330773457559843,56.65851490125327,56.986256344946696,57.313997788640123,57.641739232333549,57.969480676026976,58.297222119720402,58.624963563413829,58.952705007107255,59.280446450800675,59.608187894494108,59.935929338187535],[55.333811207913094,55.681492435154595,56.029173662396097,56.376854889637599,56.724536116879101,57.072217344120602,57.419898571362104,57.767579798603606,58.115261025845108,58.462942253086609,58.810623480328111,59.158304707569613,59.505985934811108,59.853667162052609,60.201348389294118,60.54902961653562],[55.647814733040057,56.015435743829634,56.383056754619211,56.750677765408788,57.118298776198365,57.485919786987942,57.853540797777512,58.221161808567089,58.588782819356673,58.95640383014625,59.324024840935827,59.691645851725397,60.059266862514988,60.426887873304558,60.794508884094135,61.162129894883712],[55.961818258167021,56.349379052504673,56.736939846842326,57.124500641179978,57.51206143551763,57.899622229855282,58.287183024192927,58.674743818530587,59.062304612868239,59.449865407205891,59.837426201543543,60.224986995881196,60.612547790218841,61.000108584556493,61.387669378894152,61.775230173231805],[56.275821783293978,56.683322361179705,57.090822939065433,57.49832351695116,57.905824094836888,58.313324672722615,58.720825250608343,59.12832582849407,59.535826406379798,59.943326984265525,60.350827562151252,60.75832814003698,61.1658287179227,61.573329295808428,61.980829873694162,62.38833045157989],[56.589825308420941,57.017265669854744,57.444706031288547,57.87214639272235,58.299586754156152,58.727027115589955,59.154467477023758,59.581907838457553,60.009348199891363,60.436788561325166,60.864228922758969,61.291669284192764,61.719109645626574,62.146550007060377,62.573990368494179,63.001430729927975],[56.903828833547905,57.351208978529783,57.798589123511661,58.245969268493539,58.693349413475417,59.140729558457295,59.588109703439173,60.035489848421051,60.482869993402929,60.930250138384807,61.377630283366685,61.825010428348563,62.272390573330433,62.719770718312311,63.167150863294196,63.614531008276074],[57.217832358674862,57.685152287204815,58.152472215734768,58.619792144264721,59.087112072794675,59.554432001324628,60.021751929854574,60.489071858384534,60.956391786914487,61.423711715444441,61.891031643974394,62.358351572504347,62.825671501034293,63.292991429564246,63.760311358094206,64.22763128662416],[57.531835883801826,58.019095595879854,58.506355307957882,58.993615020035911,59.480874732113939,59.968134444191968,60.455394156269989,60.942653868348017,61.429913580426053,61.917173292504081,62.404433004582103,62.891692716660131,63.378952428738167,63.866212140816195,64.353471852894216,64.840731564972245],[57.845839408928789,58.353038904554893,58.860238400180997,59.3674378958071,59.874637391433204,60.381836887059308,60.889036382685404,61.396235878311515,61.903435373937619,62.410634869563722,62.917834365189819,63.425033860815923,63.932233356442026,64.439432852068137,64.946632347694234,65.453831843320344],[58.159842934055746,58.686982213229925,59.214121492404104,59.741260771578283,60.268400050752462,60.79553932992664,61.322678609100819,61.849817888274998,62.376957167449177,62.904096446623356,63.431235725797535,63.958375004971707,64.485514284145893,65.012653563320072,65.539792842494251,66.06693212166843],[58.47384645918271,59.020925521904964,59.568004584627218,60.115083647349472,60.662162710071726,61.20924177279398,61.756320835516235,62.303399898238482,62.850478960960743,63.397558023682997,63.944637086405251,64.491716149127498,65.038795211849759,65.585874274572006,66.132953337294268,66.680032400016515],[58.787849984309673,59.354868830580003,59.921887676850332,60.488906523120662,61.055925369390991,61.62294421566132,62.189963061931643,62.756981908201979,63.324000754472308,63.891019600742638,64.458038447012967,65.025057293283282,65.592076139553626,66.159094985823941,66.726113832094285,67.293132678364614],[59.10185350943663,59.688812139255035,60.275770769073439,60.862729398891844,61.449688028710248,62.036646658528653,62.623605288347051,63.210563918165462,63.797522547983867,64.384481177802272,64.971439807620669,65.558398437439081,66.145357067257478,66.732315697075876,67.319274326894288,67.906232956712699],[59.415857034563594,60.022755447930066,60.629653861296553,61.236552274663033,61.843450688029513,62.450349101395986,63.057247514762466,63.664145928128946,64.271044341495426,64.877942754861905,65.484841168228385,66.091739581594865,66.698637994961359,67.305536408327825,67.912434821694305,68.519333235060785],[59.729860559690557,60.356698756605113,60.983536953519668,61.610375150434223,62.237213347348778,62.864051544263333,63.490889741177881,64.117727938092443,64.744566135006991,65.371404331921553,65.998242528836101,66.625080725750649,67.251918922665212,67.87875711957976,68.505595316494322,69.13243351340887],[60.043864084817514,60.690642065280144,61.337420045742775,61.984198026205405,62.630976006668035,63.277753987130666,63.924531967593289,64.571309948055926,65.218087928518557,65.864865908981187,66.511643889443818,67.158421869906448,67.805199850369064,68.451977830831694,69.098755811294339,69.745533791756969],[60.357867609944478,61.024585373955176,61.691303137965889,62.358020901976595,63.0247386659873,63.691456429997999,64.358174194008711,65.02489195801941,65.691609722030122,66.358327486040821,67.025045250051534,67.691763014062232,68.358480778072945,69.025198542083643,69.691916306094356,70.358634070105055],[60.671871135071441,61.358528682630222,62.045186230189003,62.731843777747784,63.418501325306565,64.105158872865346,64.791816420424126,65.478473967982907,66.165131515541688,66.851789063100469,67.538446610659236,68.225104158218016,68.911761705776797,69.598419253335578,70.285076800894359,70.97173434845314],[60.985874660198398,61.692471991305254,62.39906932241211,63.105666653518966,63.812263984625822,64.518861315732678,65.225458646839527,65.932055977946391,66.63865330905324,67.345250640160103,68.051847971266952,68.758445302373815,69.465042633480664,70.171639964587513,70.878237295694376,71.584834626801239],[61.299878185325362,62.026415299980286,62.752952414635224,63.479489529290156,64.20602664394508,64.932563758600011,65.659100873254943,66.385637987909874,67.112175102564805,67.838712217219737,68.565249331874668,69.291786446529599,70.01832356118453,70.744860675839462,71.471397790494393,72.197934905149324],[61.613881710452326,62.360358608655332,63.106835506858339,63.853312405061345,64.599789303264345,65.346266201467358,66.092743099670358,66.839219997873371,67.585696896076371,68.332173794279385,69.078650692482384,69.825127590685383,70.571604488888397,71.318081387091397,72.06455828529441,72.81103518349741],[61.927885235579282,62.694301917330357,63.460718599081446,64.227135280832528,64.993551962583609,65.759968644334691,66.526385326085773,67.292802007836855,68.059218689587937,68.825635371339018,69.5920520530901,70.358468734841182,71.124885416592249,71.891302098343331,72.657718780094427,73.424135461845495],[62.241888760706246,63.028245226005396,63.81460169130456,64.60095815660371,65.387314621902874,66.173671087202024,66.960027552501174,67.746384017800338,68.532740483099502,69.319096948398652,70.105453413697802,70.891809878996966,71.67816634429613,72.46452280959528,73.25087927489443,74.037235740193594],[62.55589228583321,63.362188534680435,64.168484783527674,64.974781032374906,65.781077281222139,66.587373530069371,67.393669778916603,68.199966027763836,69.006262276611068,69.8125585254583,70.618854774305532,71.42515102315275,72.231447271999983,73.037743520847215,73.844039769694461,74.65033601854168],[62.869895810960166,63.696131843355467,64.522367875750788,65.348603908146089,66.174839940541389,67.001075972936704,67.827312005332004,68.653548037727319,69.479784070122619,70.30602010251792,71.132256134913234,71.958492167308535,72.784728199703849,73.61096423209915,74.437200264494464,75.263436296889765],[63.18389933608713,64.030075152030506,64.876250967973903,65.722426783917271,66.568602599860654,67.414778415804037,68.260954231747419,69.107130047690802,69.953305863634185,70.799481679577568,71.64565749552095,72.491833311464333,73.338009127407716,74.184184943351099,75.030360759294481,75.876536575237864],[63.497902861214094,64.364018460705552,65.230134060197017,66.096249659688468,66.962365259179919,67.828480858671384,68.694596458162835,69.5607120576543,70.426827657145751,71.292943256637216,72.159058856128667,73.025174455620117,73.891290055111583,74.757405654603033,75.623521254094499,76.489636853585949],[63.81190638634105,64.697961769380584,65.584017152420117,66.47007253545965,67.356127918499183,68.242183301538716,69.128238684578236,70.014294067617783,70.900349450657316,71.786404833696849,72.672460216736368,73.558515599775902,74.444570982815435,75.330626365854968,76.216681748894501,77.102737131934035],[64.125909911468014,65.031905078055615,65.937900244643231,66.843895411230832,67.749890577818448,68.655885744406049,69.561880910993665,70.467876077581266,71.373871244168882,72.279866410756483,73.185861577344099,74.0918567439317,74.997851910519302,75.903847077106917,76.809842243694519,77.715837410282134],[64.439913436594978,65.365848386730661,66.291783336866345,67.217718287002029,68.143653237137713,69.069588187273396,69.995523137409066,70.921458087544764,71.847393037680447,72.773327987816117,73.699262937951801,74.625197888087484,75.551132838223168,76.477067788358852,77.403002738494536,78.328937688630219],[64.753916961721927,65.699791695405693,66.645666429089459,67.591541162773211,68.537415896456963,69.483290630140729,70.429165363824481,71.375040097508247,72.320914831191999,73.266789564875751,74.212664298559517,75.158539032243269,76.104413765927035,77.050288499610787,77.996163233294553,78.942037966978305],[65.067920486848905,66.033735004080739,66.999549521312574,67.965364038544408,68.931178555776242,69.896993073008076,70.862807590239896,71.828622107471745,72.794436624703579,73.760251141935413,74.726065659167233,75.691880176399067,76.657694693630901,77.623509210862736,78.58932372809457,79.555138245326404],[65.381924011975855,66.367678312755771,67.353432613535688,68.33918691431559,69.324941215095492,70.310695515875409,71.296449816655311,72.282204117435228,73.26795841821513,74.253712718995047,75.239467019774949,76.225221320554851,77.210975621334768,78.19672992211467,79.182484222894587,80.168238523674489],[65.695927537102818,66.701621621430803,67.707315705758788,68.713009790086772,69.718703874414757,70.724397958742742,71.730092043070712,72.735786127398711,73.741480211726696,74.747174296054681,75.752868380382651,76.758562464710636,77.76425654903862,78.769950633366605,79.77564471769459,80.781338802022574],[66.009931062229782,67.035564930105849,68.061198797981916,69.086832665857969,70.112466533734022,71.138100401610089,72.163734269486142,73.189368137362209,74.215002005238262,75.240635873114314,76.266269740990381,77.291903608866434,78.317537476742501,79.343171344618554,80.368805212494621,81.394439080370674],[66.323934587356746,67.369508238780881,68.415081890205016,69.460655541629151,70.506229193053287,71.551802844477407,72.597376495901543,73.642950147325692,74.688523798749827,75.734097450173948,76.779671101598083,77.825244753022218,78.870818404446354,79.916392055870489,80.961965707294624,82.007539358718759],[66.637938112483695,67.703451547455913,68.768964982428116,69.834478417400334,70.899991852372537,71.96550528734474,73.031018722316958,74.096532157289175,75.162045592261379,76.227559027233582,77.293072462205799,78.358585897178003,79.424099332150206,80.489612767122424,81.555126202094641,82.620639637066844],[66.951941637610673,68.037394856130959,69.122848074651245,70.20830129317153,71.293754511691816,72.379207730212102,73.464660948732373,74.550114167252673,75.635567385772958,76.721020604293244,77.806473822813516,78.891927041333801,79.977380259854087,81.062833478374372,82.148286696894658,83.233739915414944],[67.265945162737623,68.371338164805991,69.476731166874345,70.582124168942713,71.687517171011066,72.792910173079434,73.898303175147788,75.003696177216156,76.10908917928451,77.214482181352878,78.319875183421232,79.425268185489585,80.530661187557939,81.636054189626307,82.741447191694675,83.846840193763029]],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\",\"alpha\":0.65000000000000002,\"name\":\"pred_surface\",\"cauto\":true,\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"income\"},\"yaxis\":{\"title\":\"age\"},\"zaxis\":{\"title\":\"tc_diff\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\".hideLegend\":true,\"data\":[{\"x\":[3,6,6,8,10,6,10,1,4,3,7,6,2,4,7,7,2,9,8,3,13,11,6,9,8,1,11,12,2,4,7,8,6,3,4,10,1,6,5,6,5,6,4,5,4,4,4,1,8,9,9,10,3,9,5,3,4,11,6,1,2,10,4,6,4,4,12,5,11,11,6,10,5,12,8,3,4,7,11,9,5,11,11,2,9,3,1,10,2,4,2,3,9,13,7,4,8,7,4,10,9,3,5,5,2,8,7,3,6,2,2,2,15,9,9,3,9,3,1,8,10,4,4,3,11,3,12,5,9,3,11,5,2,4,4,9,1,6,1,4,6,3,6,3,2,4,10,16,3,3,3,3,3,1,6,3,5,5,7,7,4,10,3,2,14,5,4,5,4,7,1,4,3,5,4,5,12,6,4,2,3,8,13,10,11,1,12,9,6,8,3,6,9,2,2,1,9,1,9,9,4,9,3,9,2,5,8,5,7,10,5,5,7,5,7,8,1,7,7,8,12,4,5,2,2,12,8,8,7,2,4,6,4,10,4,4,10,6,3,9,2,12,4,10,6,8,2,3,3,10,5,2,3,4,9,4,1,3,1,2,1,10,6,3,10,8,7,3,4,9,1,5,8,5,4,9,6,6,2,9,5,5,9,4,3,9,2,4,9,9,3,6,3,6,6,2,1,4,1,10,1,3,9,2,6,6,3,8,9,2,8,15,2,9,5,8,5,4,9,4,10,11,3,3,5,8,8,11,1,5,11,11,6,4,8,7,10,5,2,4,4,7,7,6,1,6,1,4,4,2,8,14,4,3,6,5,5,8,7,4,10,5,10,2,3,11,4,14,3,7,5,4,2,2,11,6,6,4,4,4,3,2,8,7,6,9,7,6,7,2,16,1,3,9,8,2,8,3,8,10,6,4,4,7,3,7,4,11,2,3,3,5,3,4,4,4,6,5,8,10,3,3,2,9,1,1,3,1,9,8,11,3,6,11,12,2,10,2,5,11,11,2,2,4,11,1,2,12,8,2,4,2,8,9,9,7,8,14,5,2,2,4,5,4,3,10,5,6,4,9,6,6,5,5,10,5,9,5,3,2,2,4,7,2,9,2,9,10,3,11,8,4,8,4,1,5,6,9,4,12,4,5,9,10,3,6,9,9,1,6,3,6,6,7,2,8,3,1,2,9,8,1,2,3,2,2,5,3,8,7,5,11,8,5,1,4,1,2,5,6,4,2,6,4,1,3,3,3,4,12,2,3,11,2,2,3,4,2,7,8,3,2,3,2,3,13,12,12,7,8,1,12,9,11,5,1,9,3,12,8,8,10,15,7,4,14,4,1,5,16,11,5,6,4,3,8,3,10,9,5,11,6,5,12,3,1,7,6,3,11,3,3,10,3,7,9,6,3,2,5,6,2,11,11,2,7,7,8,6,1,7,9,4,3,15,9,2,4,4,6,2,10,9,1,4,3,1,10,2,2,4,5,7,4,9,4,2,6,3,6,2,9,11,4,2,6,5,5,12,2,3,2,8,4,5,11,8,7,9,3,3,5,7,3,6,2,8,10,7,1,2,9,4,1,10,6,5,1,2,5,1,8,3,2,5,1,4,2,4,5,7,5,8,1,8,10,6,3,5,10,1,3,3,1,2,3,3,6,4,5,2,3,4,9,1,6,4,10,2,6,7,13,3,3,3,1,4,5,5,4,6,4,3,3,7,12,2,7,10,5,3,8,5,3,13,1,3,7,5,6,2,5,12,4,10,4,4,5,8,1,8,9,1,4,6,15,5,2,3,3,11,12,5,2,6,4,2,9,2,5,8,8,11,9,7,6,7,3,3,9,1,9,4,4,6,11,9,8,3,3,3,8,5,8,7,4,4,3,8,1,4,9,6,5,9,8,3,2,4,2,3,7,6,6,4,7,7,2,6,3,5,9,6,2,2,2,11,11,12,2,4,2,5,9,1,6,5,2,4,9,7,5,6,12,6,7,2,2,11,3,11,4,3,3,3,11,9,3,2,4,8,2,4,4,2,8,6,3,13,9,13,8,2,4,9,5,6,3,3,9,3,4,12,7,2,3,10,5,5,1,7,6,3,2,5,2,4,3,5,2,3,11,1,5,3,7,1,3,6,3,9,4,3,9,3,5,11,2,3,6,5,11,3,6,11,5,2,6,4,5,10,8,5,2,6,6,4,1,6,8,3,2,10,9,6,12,12,9,12,8,10,12,6,3,9,7,1,6,13,8,3,5,3,4,6,3,10,8,2,8,3,3,1,4,5,1,5,6,2,9,1,4,7,2,5,1,3,5,1,3,2,5,8,3,2,3,1,4,6,10,4,8,2,13,4,8,5,9,3,7,8,3,13,10,1,6,7,3,1],\"y\":[46,59,55,66,42,39,65,43,36,45,38,48,55,38,71,61,38,63,43,41,40,61,21,80,34,53,40,52,59,47,46,44,62,26,24,48,52,42,46,56,67,60,64,60,32,57,20,62,19,89,39,32,38,59,61,28,39,40,39,33,49,22,56,71,26,34,28,79,44,63,63,39,60,76,60,41,33,56,55,43,24,48,60,83,29,25,21,64,61,91,63,56,40,61,62,69,52,38,75,67,33,47,59,27,44,60,60,76,30,43,26,81,36,47,37,27,40,80,59,41,50,58,65,48,62,61,65,36,35,26,32,26,37,43,60,71,33,59,31,35,30,25,22,61,53,51,67,43,22,27,64,62,37,30,78,48,71,23,43,70,56,66,25,74,41,37,28,77,56,40,20,58,76,28,43,71,39,19,21,60,34,20,51,64,73,54,50,55,90,68,80,65,27,64,38,34,29,20,28,41,68,76,76,54,78,23,74,43,77,28,62,31,29,67,57,53,24,72,70,28,57,65,52,71,43,60,44,57,35,39,85,62,41,62,35,59,74,28,45,74,37,56,65,42,56,67,65,75,27,80,51,52,38,44,59,44,31,45,43,41,20,66,73,29,55,59,27,51,29,35,58,36,61,41,73,68,61,36,26,57,28,60,49,35,41,43,57,70,59,58,67,32,29,78,39,57,59,56,24,20,53,95,56,37,29,33,48,19,21,42,28,55,66,39,69,34,73,75,51,72,26,34,25,36,24,60,43,35,59,63,57,31,43,63,46,58,54,38,45,34,64,43,46,44,58,25,26,60,53,29,33,45,42,61,53,62,55,62,47,74,56,35,31,73,70,21,26,31,21,40,40,74,56,44,27,56,78,46,39,66,22,58,19,39,65,48,19,75,52,54,39,42,36,34,27,52,31,59,28,52,62,79,29,25,40,33,40,43,30,31,62,80,60,42,42,32,72,34,55,63,29,82,34,55,61,38,46,53,77,67,55,27,50,42,25,84,19,57,77,56,38,27,32,36,24,33,35,66,51,43,60,43,38,33,20,29,27,36,66,30,38,25,69,40,24,58,60,35,52,43,23,35,39,42,60,79,59,44,76,30,44,27,61,64,48,66,64,42,44,51,45,22,63,67,60,61,54,36,27,20,76,31,57,43,44,78,49,23,44,49,72,60,37,42,51,54,62,23,23,65,41,55,24,69,55,67,61,32,27,62,79,36,56,62,55,51,59,26,61,40,59,77,40,24,50,68,70,31,34,37,63,31,63,38,54,48,29,40,60,26,29,62,20,65,36,70,62,38,41,30,57,59,32,44,68,79,46,67,33,33,28,64,22,54,63,63,55,51,64,54,26,71,78,55,32,26,37,53,37,31,66,73,44,36,43,23,69,30,80,30,59,27,58,24,39,69,52,73,26,41,33,61,59,62,73,73,23,52,39,43,42,22,71,26,61,65,65,28,23,68,36,60,52,22,25,24,55,57,51,68,63,73,25,36,21,33,19,27,63,66,28,62,63,60,64,60,39,37,28,92,29,40,50,59,38,67,39,32,41,73,60,52,56,61,26,33,65,38,62,30,42,53,50,20,64,28,35,62,26,63,39,70,31,54,59,53,60,52,51,53,69,22,33,35,76,24,52,65,62,20,32,72,36,38,69,62,61,26,58,29,49,55,39,61,26,48,47,37,35,52,23,62,24,67,34,22,45,30,43,43,57,33,48,55,30,59,54,63,51,64,29,42,36,23,20,55,67,41,52,74,71,30,40,27,29,25,27,52,71,48,20,23,41,71,54,58,28,39,76,27,51,52,27,76,57,34,62,70,71,61,62,63,60,62,25,38,62,55,25,40,27,34,63,58,75,48,55,62,37,53,57,61,41,55,62,27,43,24,64,67,64,34,75,64,54,45,35,24,27,46,69,79,53,41,56,69,35,38,78,56,25,44,24,31,30,60,61,57,48,83,28,38,84,79,57,33,64,44,49,46,61,57,29,62,50,26,27,48,59,34,38,22,54,54,30,47,44,80,56,22,34,56,74,78,28,41,55,65,69,58,60,30,62,33,62,83,29,36,24,48,44,56,22,42,61,72,40,32,84,64,55,55,61,36,71,21,60,52,28,53,41,58,66,73,26,39,24,54,26,41,20,25,26,39,25,61,42,24,66,64,54,43,43,43,38,41,34,60,32,48,34,27,23,23,63,63,74,47,56,39,58,58,54,31,44,53,40,28,63,40,34,44,26,21,43,62,32,56,23,49,41,57,61,38,66,25,65,46,76,30,54,35,47,72,49,27,41,42,65,60,66,62,63,24,80,57,70,70,51,64,70,77,56,60,52,43,63,66,73,23,59,64,66,75,65,38,33,68,57,37,54,66,49,58,41,23,55,36,50],\"z\":[36,20,79,97,85,86,14,95,91,0,50,81,49,0,0,89,8,97,85,15,9,96,93,95,75,1,89,100,12,20,59,99,33,33,6,51,6,49,59,54,94,9,100,65,7,1,66,42,36,92,19,61,74,93,73,76,75,90,71,64,82,92,75,88,66,13,60,70,3,27,90,81,90,50,90,40,84,53,86,1,15,35,40,47,68,72,92,47,53,59,86,90,32,81,80,99,11,30,5,95,0,17,63,85,97,39,41,75,68,30,2,85,27,2,50,16,91,20,84,19,56,91,58,34,79,20,100,91,8,31,63,60,35,71,81,100,99,98,1,87,12,76,37,44,61,2,54,69,38,34,88,88,2,10,40,30,92,56,46,30,29,44,60,96,60,39,100,25,89,38,42,75,75,68,49,92,71,80,42,19,9,39,17,78,1,19,84,89,91,63,31,46,92,91,7,50,4,54,70,52,64,78,92,18,94,72,99,35,91,3,66,10,97,40,61,5,94,80,24,30,83,49,71,80,34,66,40,57,30,51,95,89,83,10,80,31,86,18,78,61,70,71,79,79,79,30,40,97,73,82,53,60,52,36,21,2,15,90,45,2,16,40,95,66,89,24,70,36,30,84,50,43,67,99,89,72,79,11,50,44,40,74,53,34,7,99,99,94,10,0,0,33,49,81,67,25,5,88,11,50,73,78,16,49,62,81,1,58,16,79,31,80,9,1,99,71,72,1,24,73,4,13,97,2,48,78,67,56,75,80,23,31,87,61,60,60,15,84,81,19,86,9,47,33,95,71,100,68,29,6,0,100,60,44,67,5,46,11,91,91,80,78,81,98,65,83,39,67,81,1,41,69,44,5,89,62,79,59,25,8,2,20,58,50,93,21,0,93,0,83,7,98,84,22,13,95,4,78,97,100,59,85,68,8,100,81,9,89,85,98,60,46,39,95,73,71,38,45,96,89,52,52,90,0,1,64,66,99,75,40,85,83,10,65,6,80,62,88,80,70,66,6,35,60,98,87,21,85,93,15,98,100,5,50,18,65,6,27,28,5,89,37,93,17,53,48,84,17,65,95,30,0,27,23,18,91,99,70,5,84,92,95,50,98,100,6,85,12,52,1,31,13,31,87,80,41,99,47,0,16,69,28,33,89,20,100,32,75,44,58,100,87,1,88,68,88,94,50,0,94,81,97,12,70,14,99,92,54,1,72,97,8,100,90,83,76,15,70,18,69,90,11,70,52,29,29,81,91,100,12,99,84,98,18,80,52,44,61,77,55,17,45,76,74,76,88,1,17,82,46,7,44,35,5,2,93,88,58,51,99,76,23,56,49,50,83,96,64,69,13,2,42,1,80,68,11,14,70,64,59,92,70,60,69,14,5,87,44,77,3,94,43,48,39,93,69,69,53,30,61,96,58,96,28,93,36,55,42,9,2,60,9,85,5,37,69,94,4,65,58,49,66,5,0,64,55,37,15,15,98,98,85,61,21,65,0,70,41,16,87,43,28,76,89,21,37,60,1,20,88,86,95,78,55,63,75,64,6,80,20,88,32,45,69,0,65,51,51,87,30,49,4,63,83,40,58,29,18,1,92,1,71,54,45,29,38,50,54,8,81,100,100,9,63,80,68,96,94,17,3,92,42,49,1,61,99,96,31,25,38,24,76,51,96,32,8,60,41,99,92,94,35,63,93,86,74,0,58,46,40,69,1,1,85,91,52,73,55,36,54,31,55,39,59,56,61,89,37,100,34,69,45,40,6,22,41,40,40,20,18,72,67,29,60,100,86,52,0,98,20,85,89,57,45,46,35,73,16,9,5,81,95,10,74,70,58,32,45,100,86,100,63,44,98,80,63,85,9,31,12,11,99,0,39,70,65,94,53,98,4,72,38,84,53,30,2,75,1,15,50,70,80,40,78,16,55,1,51,48,52,63,47,3,70,44,16,43,87,92,15,48,69,93,92,85,28,50,1,1,1,11,31,19,88,94,84,30,95,88,3,76,9,2,98,61,100,45,100,1,74,49,78,60,100,60,75,95,50,93,64,1,1,72,70,94,74,82,82,54,90,45,60,44,78,80,87,96,22,30,75,2,32,42,94,19,34,92,100,27,10,96,69,20,78,3,94,50,23,52,97,26,47,57,19,47,81,60,5,20,66,0,3,80,96,68,68,10,94,50,84,14,4,72,48,98,52,1,77,23,70,39,12,29,28,70,15,72,0,31,2,28,54,34,5,35,60,75,78,86,19,46,84,90,3,52,98,85,71,88,54,55,19,89,55,69,7,60,1,0,72,100,89,25,0,10,11,99,93,3,9,97,97,82,51,10,9,20,27,7,23,61,75,0,91,11,18,94,97,69,68,28,49,5,30,64,15,0,28,56],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"showscale\":false},\"textfont\":{\"size\":55},\"error_y\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"line\":{\"color\":\"rgba(31,119,180,1)\",\"width\":55},\"frame\":null},{\"colorbar\":{\"title\":\"tc_diff\",\"ticklen\":2},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666666\",\"rgba(70,19,97,1)\"],[\"0.0833333333333334\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":false,\"x\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"y\":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],\"z\":[[43.401677253088565,42.991646705503207,42.581616157917857,42.1715856103325,41.761555062747142,41.351524515161785,40.941493967576427,40.53146341999107,40.121432872405713,39.711402324820355,39.301371777234998,38.89134122964964,38.48131068206429,38.071280134478933,37.661249586893575,37.251219039308218],[43.715680778215528,43.325590014178246,42.935499250140971,42.545408486103689,42.155317722066407,41.765226958029125,41.375136193991835,40.98504542995456,40.594954665917278,40.204863901879996,39.814773137842714,39.424682373805432,39.03459160976815,38.644500845730867,38.254410081693592,37.86431931765631],[44.029684303342485,43.659533322853278,43.289382342364078,42.919231361874871,42.549080381385664,42.178929400896457,41.808778420407251,41.438627439918044,41.068476459428837,40.69832547893963,40.328174498450423,39.958023517961216,39.587872537472009,39.217721556982802,38.847570576493602,38.477419596004395],[44.343687828469449,43.993476631528317,43.643265434587192,43.293054237646061,42.942843040704929,42.592631843763797,42.242420646822666,41.892209449881527,41.541998252940402,41.191787055999271,40.841575859058139,40.491364662117007,40.141153465175883,39.790942268234751,39.440731071293619,39.090519874352488],[44.657691353596412,44.327419940203356,43.997148526810307,43.66687711341725,43.336605700024194,43.00633428663113,42.676062873238074,42.345791459845024,42.015520046451968,41.685248633058912,41.354977219665855,41.024705806272799,40.694434392879742,40.364162979486686,40.033891566093637,39.70362015270058],[44.971694878723369,44.661363248878388,44.351031619033414,44.040699989188433,43.730368359343451,43.420036729498463,43.109705099653482,42.799373469808508,42.489041839963527,42.178710210118545,41.868378580273564,41.558046950428583,41.247715320583602,40.937383690738621,40.627052060893647,40.316720431048665],[45.285698403850333,44.995306557553427,44.704914711256528,44.414522864959622,44.124131018662716,43.83373917236581,43.543347326068897,43.252955479771991,42.962563633475092,42.672171787178186,42.38177994088128,42.091388094584374,41.800996248287476,41.51060440199057,41.220212555693664,40.929820709396758],[45.599701928977296,45.329249866228466,45.058797803479642,44.788345740730811,44.517893677981981,44.247441615233143,43.976989552484312,43.706537489735489,43.436085426986658,43.165633364237827,42.895181301488996,42.624729238740166,42.354277175991335,42.083825113242504,41.813373050493681,41.54292098774485],[45.913705454104253,45.663193174903498,45.412680895702749,45.162168616501994,44.911656337301238,44.661144058100476,44.41063177889972,44.160119499698972,43.909607220498216,43.659094941297461,43.408582662096705,43.15807038289595,42.907558103695195,42.657045824494439,42.406533545293684,42.156021266092935],[46.227708979231217,45.997136483578537,45.766563987925863,45.535991492273183,45.305418996620503,45.074846500967816,44.844274005315135,44.613701509662455,44.383129014009782,44.152556518357102,43.921984022704422,43.691411527051741,43.460839031399068,43.230266535746388,42.999694040093701,42.76912154444102],[46.541712504358181,46.331079792253576,46.120447080148978,45.909814368044373,45.699181655939768,45.488548943835156,45.277916231730551,45.067283519625953,44.856650807521348,44.646018095416743,44.435385383312138,44.224752671207533,44.014119959102928,43.803487246998316,43.592854534893718,43.38222182278912],[46.855716029485137,46.665023100928607,46.474330172372085,46.283637243815555,46.092944315259018,45.902251386702488,45.711558458145959,45.520865529589436,45.330172601032906,45.139479672476376,44.948786743919847,44.758093815363317,44.567400886806787,44.37670795825025,44.186015029693735,43.995322101137198],[47.169719554612101,46.998966409603646,46.828213264595199,46.657460119586744,46.486706974578283,46.315953829569828,46.145200684561374,45.974447539552919,45.803694394544472,45.632941249536017,45.462188104527563,45.291434959519108,45.120681814510661,44.949928669502199,44.779175524493752,44.60842237948529],[47.483723079739065,47.332909718278685,47.182096356818313,47.031282995357934,46.880469633897548,46.729656272437168,46.578842910976789,46.428029549516417,46.277216188056038,46.126402826595658,45.975589465135279,45.8247761036749,45.673962742214513,45.523149380754134,45.372336019293762,45.221522657833383],[47.797726604866021,47.666853026953717,47.53597944904142,47.405105871129116,47.274232293216805,47.143358715304501,47.012485137392197,46.8816115594799,46.750737981567596,46.619864403655292,46.488990825742988,46.358117247830684,46.22724366991838,46.096370092006069,45.965496514093772,45.834622936181468],[48.111730129992985,48.000796335628756,47.889862541264534,47.778928746900306,47.66799495253607,47.557061158171841,47.446127363807612,47.335193569443383,47.224259775079162,47.113325980714933,47.002392186350704,46.891458391986475,46.780524597622247,46.669590803258018,46.558657008893789,46.44772321452956],[48.425733655119949,48.334739644303795,48.243745633487649,48.152751622671488,48.061757611855334,47.970763601039181,47.879769590223027,47.788775579406881,47.697781568590727,47.606787557774574,47.51579354695842,47.42479953614226,47.333805525326113,47.242811514509953,47.151817503693806,47.060823492877653],[48.739737180246905,48.668682952978827,48.597628725710756,48.52657449844267,48.455520271174592,48.384466043906514,48.313411816638435,48.242357589370364,48.171303362102286,48.100249134834208,48.029194907566129,47.958140680298044,47.887086453029966,47.816032225761887,47.744977998493816,47.673923771225738],[49.053740705373869,49.002626261653866,48.95151181793387,48.900397374213867,48.849282930493857,48.798168486773854,48.747054043053851,48.695939599333848,48.644825155613852,48.593710711893848,48.542596268173838,48.491481824453842,48.440367380733839,48.389252937013836,48.338138493293833,48.28702404957383],[49.367744230500833,49.336569570328905,49.305394910156984,49.274220249985049,49.243045589813121,49.211870929641194,49.180696269469266,49.149521609297345,49.118346949125417,49.087172288953489,49.055997628781554,49.024822968609627,48.993648308437699,48.962473648265771,48.93129898809385,48.900124327921922],[49.681747755627789,49.670512879003937,49.659278002380091,49.648043125756232,49.636808249132379,49.625573372508526,49.614338495884674,49.603103619260828,49.591868742636976,49.580633866013123,49.569398989389271,49.558164112765411,49.546929236141558,49.535694359517706,49.52445948289386,49.513224606270008],[49.995751280754753,50.004456187678976,50.013161094603205,50.021866001527421,50.030570908451644,50.039275815375866,50.047980722300089,50.056685629224312,50.065390536148541,50.074095443072764,50.082800349996987,50.091505256921202,50.100210163845432,50.108915070769655,50.117619977693877,50.1263248846181],[50.309754805881717,50.338399496354015,50.36704418682632,50.39568887729861,50.424333567770908,50.452978258243206,50.481622948715504,50.510267639187809,50.538912329660107,50.567557020132398,50.596201710604703,50.624846401076994,50.653491091549292,50.682135782021589,50.710780472493894,50.739425162966192],[50.623758331008673,50.672342805029047,50.720927279049427,50.769511753069793,50.818096227090166,50.866680701110539,50.915265175130912,50.963849649151292,51.012434123171666,51.061018597192032,51.109603071212405,51.158187545232778,51.206772019253151,51.255356493273524,51.303940967293904,51.352525441314278],[50.937761856135637,51.006286113704085,51.074810371272541,51.143334628840982,51.211858886409431,51.280383143977879,51.348907401546327,51.417431659114776,51.485955916683231,51.55448017425168,51.623004431820121,51.691528689388569,51.760052946957025,51.828577204525473,51.897101462093921,51.96562571966237],[51.251765381262601,51.340229422379124,51.428693463495655,51.517157504612172,51.605621545728695,51.694085586845219,51.782549627961743,51.871013669078273,51.959477710194797,52.047941751311313,52.136405792427837,52.224869833544361,52.313333874660884,52.401797915777408,52.490261956893939,52.578725998010455],[51.565768906389557,51.674172731054156,51.782576555718762,51.890980380383354,51.999384205047953,52.107788029712552,52.216191854377151,52.324595679041757,52.432999503706355,52.541403328370947,52.649807153035546,52.758210977700145,52.866614802364744,52.975018627029343,53.083422451693949,53.19182627635854],[51.879772431516521,52.008116039729195,52.136459647941876,52.264803256154543,52.393146864367218,52.521490472579892,52.649834080792566,52.77817768900524,52.906521297217921,53.034864905430595,53.163208513643262,53.291552121855936,53.419895730068617,53.548239338281292,53.676582946493966,53.80492655470664],[52.193775956643485,52.342059348404234,52.490342740164991,52.638626131925733,52.786909523686482,52.935192915447232,53.083476307207981,53.231759698968737,53.380043090729487,53.528326482490229,53.676609874250978,53.824893266011728,53.973176657772477,54.121460049533226,54.269743441293983,54.418026833054725],[52.507779481770442,52.676002657079266,52.844225832388091,53.012449007696915,53.18067218300574,53.348895358314564,53.517118533623389,53.685341708932221,53.853564884241038,54.021788059549863,54.190011234858687,54.358234410167512,54.526457585476336,54.694680760785161,54.862903936093986,55.03112711140281],[52.821783006897405,53.009945965754305,53.198108924611205,53.386271883468105,53.574434842325005,53.762597801181904,53.950760760038804,54.138923718895704,54.327086677752604,54.515249636609504,54.703412595466403,54.891575554323303,55.07973851318021,55.26790147203711,55.456064430894003,55.644227389750903],[53.135786532024369,53.343889274429344,53.551992016834319,53.760094759239294,53.968197501644269,54.176300244049244,54.384402986454219,54.592505728859201,54.800608471264169,55.008711213669145,55.21681395607412,55.424916698479095,55.63301944088407,55.841122183289045,56.04922492569402,56.257327668098995],[53.449790057151326,53.677832583104376,53.905875109057433,54.133917635010476,54.361960160963527,54.590002686916577,54.818045212869627,55.046087738822678,55.274130264775735,55.502172790728778,55.730215316681829,55.958257842634879,56.186300368587929,56.41434289454098,56.642385420494037,56.87042794644708],[53.763793582278289,54.011775891779415,54.25975820128054,54.507740510781666,54.755722820282791,55.003705129783917,55.251687439285043,55.499669748786161,55.747652058287301,55.995634367788419,56.243616677289545,56.49159898679067,56.739581296291803,56.987563605792928,57.235545915294047,57.483528224795172],[54.077797107405253,54.345719200454454,54.613641293503655,54.881563386552855,55.149485479602056,55.417407572651257,55.685329665700458,55.953251758749659,56.221173851798859,56.48909594484806,56.757018037897261,57.024940130946462,57.292862223995662,57.560784317044863,57.828706410094064,58.096628503143265],[54.39180063253221,54.679662509129486,54.967524385726762,55.255386262324038,55.543248138921314,55.83111001551859,56.118971892115866,56.406833768713142,56.694695645310418,56.982557521907694,57.27041939850497,57.558281275102246,57.846143151699522,58.134005028296798,58.421866904894074,58.70972878149135],[54.705804157659173,55.013605817804525,55.321407477949876,55.629209138095227,55.937010798240578,56.24481245838593,56.552614118531281,56.860415778676625,57.168217438821983,57.476019098967335,57.783820759112686,58.091622419258037,58.399424079403389,58.70722573954874,59.015027399694091,59.322829059839442],[55.019807682786137,55.347549126479564,55.67529057017299,56.003032013866417,56.330773457559843,56.65851490125327,56.986256344946696,57.313997788640123,57.641739232333549,57.969480676026976,58.297222119720402,58.624963563413829,58.952705007107255,59.280446450800675,59.608187894494108,59.935929338187535],[55.333811207913094,55.681492435154595,56.029173662396097,56.376854889637599,56.724536116879101,57.072217344120602,57.419898571362104,57.767579798603606,58.115261025845108,58.462942253086609,58.810623480328111,59.158304707569613,59.505985934811108,59.853667162052609,60.201348389294118,60.54902961653562],[55.647814733040057,56.015435743829634,56.383056754619211,56.750677765408788,57.118298776198365,57.485919786987942,57.853540797777512,58.221161808567089,58.588782819356673,58.95640383014625,59.324024840935827,59.691645851725397,60.059266862514988,60.426887873304558,60.794508884094135,61.162129894883712],[55.961818258167021,56.349379052504673,56.736939846842326,57.124500641179978,57.51206143551763,57.899622229855282,58.287183024192927,58.674743818530587,59.062304612868239,59.449865407205891,59.837426201543543,60.224986995881196,60.612547790218841,61.000108584556493,61.387669378894152,61.775230173231805],[56.275821783293978,56.683322361179705,57.090822939065433,57.49832351695116,57.905824094836888,58.313324672722615,58.720825250608343,59.12832582849407,59.535826406379798,59.943326984265525,60.350827562151252,60.75832814003698,61.1658287179227,61.573329295808428,61.980829873694162,62.38833045157989],[56.589825308420941,57.017265669854744,57.444706031288547,57.87214639272235,58.299586754156152,58.727027115589955,59.154467477023758,59.581907838457553,60.009348199891363,60.436788561325166,60.864228922758969,61.291669284192764,61.719109645626574,62.146550007060377,62.573990368494179,63.001430729927975],[56.903828833547905,57.351208978529783,57.798589123511661,58.245969268493539,58.693349413475417,59.140729558457295,59.588109703439173,60.035489848421051,60.482869993402929,60.930250138384807,61.377630283366685,61.825010428348563,62.272390573330433,62.719770718312311,63.167150863294196,63.614531008276074],[57.217832358674862,57.685152287204815,58.152472215734768,58.619792144264721,59.087112072794675,59.554432001324628,60.021751929854574,60.489071858384534,60.956391786914487,61.423711715444441,61.891031643974394,62.358351572504347,62.825671501034293,63.292991429564246,63.760311358094206,64.22763128662416],[57.531835883801826,58.019095595879854,58.506355307957882,58.993615020035911,59.480874732113939,59.968134444191968,60.455394156269989,60.942653868348017,61.429913580426053,61.917173292504081,62.404433004582103,62.891692716660131,63.378952428738167,63.866212140816195,64.353471852894216,64.840731564972245],[57.845839408928789,58.353038904554893,58.860238400180997,59.3674378958071,59.874637391433204,60.381836887059308,60.889036382685404,61.396235878311515,61.903435373937619,62.410634869563722,62.917834365189819,63.425033860815923,63.932233356442026,64.439432852068137,64.946632347694234,65.453831843320344],[58.159842934055746,58.686982213229925,59.214121492404104,59.741260771578283,60.268400050752462,60.79553932992664,61.322678609100819,61.849817888274998,62.376957167449177,62.904096446623356,63.431235725797535,63.958375004971707,64.485514284145893,65.012653563320072,65.539792842494251,66.06693212166843],[58.47384645918271,59.020925521904964,59.568004584627218,60.115083647349472,60.662162710071726,61.20924177279398,61.756320835516235,62.303399898238482,62.850478960960743,63.397558023682997,63.944637086405251,64.491716149127498,65.038795211849759,65.585874274572006,66.132953337294268,66.680032400016515],[58.787849984309673,59.354868830580003,59.921887676850332,60.488906523120662,61.055925369390991,61.62294421566132,62.189963061931643,62.756981908201979,63.324000754472308,63.891019600742638,64.458038447012967,65.025057293283282,65.592076139553626,66.159094985823941,66.726113832094285,67.293132678364614],[59.10185350943663,59.688812139255035,60.275770769073439,60.862729398891844,61.449688028710248,62.036646658528653,62.623605288347051,63.210563918165462,63.797522547983867,64.384481177802272,64.971439807620669,65.558398437439081,66.145357067257478,66.732315697075876,67.319274326894288,67.906232956712699],[59.415857034563594,60.022755447930066,60.629653861296553,61.236552274663033,61.843450688029513,62.450349101395986,63.057247514762466,63.664145928128946,64.271044341495426,64.877942754861905,65.484841168228385,66.091739581594865,66.698637994961359,67.305536408327825,67.912434821694305,68.519333235060785],[59.729860559690557,60.356698756605113,60.983536953519668,61.610375150434223,62.237213347348778,62.864051544263333,63.490889741177881,64.117727938092443,64.744566135006991,65.371404331921553,65.998242528836101,66.625080725750649,67.251918922665212,67.87875711957976,68.505595316494322,69.13243351340887],[60.043864084817514,60.690642065280144,61.337420045742775,61.984198026205405,62.630976006668035,63.277753987130666,63.924531967593289,64.571309948055926,65.218087928518557,65.864865908981187,66.511643889443818,67.158421869906448,67.805199850369064,68.451977830831694,69.098755811294339,69.745533791756969],[60.357867609944478,61.024585373955176,61.691303137965889,62.358020901976595,63.0247386659873,63.691456429997999,64.358174194008711,65.02489195801941,65.691609722030122,66.358327486040821,67.025045250051534,67.691763014062232,68.358480778072945,69.025198542083643,69.691916306094356,70.358634070105055],[60.671871135071441,61.358528682630222,62.045186230189003,62.731843777747784,63.418501325306565,64.105158872865346,64.791816420424126,65.478473967982907,66.165131515541688,66.851789063100469,67.538446610659236,68.225104158218016,68.911761705776797,69.598419253335578,70.285076800894359,70.97173434845314],[60.985874660198398,61.692471991305254,62.39906932241211,63.105666653518966,63.812263984625822,64.518861315732678,65.225458646839527,65.932055977946391,66.63865330905324,67.345250640160103,68.051847971266952,68.758445302373815,69.465042633480664,70.171639964587513,70.878237295694376,71.584834626801239],[61.299878185325362,62.026415299980286,62.752952414635224,63.479489529290156,64.20602664394508,64.932563758600011,65.659100873254943,66.385637987909874,67.112175102564805,67.838712217219737,68.565249331874668,69.291786446529599,70.01832356118453,70.744860675839462,71.471397790494393,72.197934905149324],[61.613881710452326,62.360358608655332,63.106835506858339,63.853312405061345,64.599789303264345,65.346266201467358,66.092743099670358,66.839219997873371,67.585696896076371,68.332173794279385,69.078650692482384,69.825127590685383,70.571604488888397,71.318081387091397,72.06455828529441,72.81103518349741],[61.927885235579282,62.694301917330357,63.460718599081446,64.227135280832528,64.993551962583609,65.759968644334691,66.526385326085773,67.292802007836855,68.059218689587937,68.825635371339018,69.5920520530901,70.358468734841182,71.124885416592249,71.891302098343331,72.657718780094427,73.424135461845495],[62.241888760706246,63.028245226005396,63.81460169130456,64.60095815660371,65.387314621902874,66.173671087202024,66.960027552501174,67.746384017800338,68.532740483099502,69.319096948398652,70.105453413697802,70.891809878996966,71.67816634429613,72.46452280959528,73.25087927489443,74.037235740193594],[62.55589228583321,63.362188534680435,64.168484783527674,64.974781032374906,65.781077281222139,66.587373530069371,67.393669778916603,68.199966027763836,69.006262276611068,69.8125585254583,70.618854774305532,71.42515102315275,72.231447271999983,73.037743520847215,73.844039769694461,74.65033601854168],[62.869895810960166,63.696131843355467,64.522367875750788,65.348603908146089,66.174839940541389,67.001075972936704,67.827312005332004,68.653548037727319,69.479784070122619,70.30602010251792,71.132256134913234,71.958492167308535,72.784728199703849,73.61096423209915,74.437200264494464,75.263436296889765],[63.18389933608713,64.030075152030506,64.876250967973903,65.722426783917271,66.568602599860654,67.414778415804037,68.260954231747419,69.107130047690802,69.953305863634185,70.799481679577568,71.64565749552095,72.491833311464333,73.338009127407716,74.184184943351099,75.030360759294481,75.876536575237864],[63.497902861214094,64.364018460705552,65.230134060197017,66.096249659688468,66.962365259179919,67.828480858671384,68.694596458162835,69.5607120576543,70.426827657145751,71.292943256637216,72.159058856128667,73.025174455620117,73.891290055111583,74.757405654603033,75.623521254094499,76.489636853585949],[63.81190638634105,64.697961769380584,65.584017152420117,66.47007253545965,67.356127918499183,68.242183301538716,69.128238684578236,70.014294067617783,70.900349450657316,71.786404833696849,72.672460216736368,73.558515599775902,74.444570982815435,75.330626365854968,76.216681748894501,77.102737131934035],[64.125909911468014,65.031905078055615,65.937900244643231,66.843895411230832,67.749890577818448,68.655885744406049,69.561880910993665,70.467876077581266,71.373871244168882,72.279866410756483,73.185861577344099,74.0918567439317,74.997851910519302,75.903847077106917,76.809842243694519,77.715837410282134],[64.439913436594978,65.365848386730661,66.291783336866345,67.217718287002029,68.143653237137713,69.069588187273396,69.995523137409066,70.921458087544764,71.847393037680447,72.773327987816117,73.699262937951801,74.625197888087484,75.551132838223168,76.477067788358852,77.403002738494536,78.328937688630219],[64.753916961721927,65.699791695405693,66.645666429089459,67.591541162773211,68.537415896456963,69.483290630140729,70.429165363824481,71.375040097508247,72.320914831191999,73.266789564875751,74.212664298559517,75.158539032243269,76.104413765927035,77.050288499610787,77.996163233294553,78.942037966978305],[65.067920486848905,66.033735004080739,66.999549521312574,67.965364038544408,68.931178555776242,69.896993073008076,70.862807590239896,71.828622107471745,72.794436624703579,73.760251141935413,74.726065659167233,75.691880176399067,76.657694693630901,77.623509210862736,78.58932372809457,79.555138245326404],[65.381924011975855,66.367678312755771,67.353432613535688,68.33918691431559,69.324941215095492,70.310695515875409,71.296449816655311,72.282204117435228,73.26795841821513,74.253712718995047,75.239467019774949,76.225221320554851,77.210975621334768,78.19672992211467,79.182484222894587,80.168238523674489],[65.695927537102818,66.701621621430803,67.707315705758788,68.713009790086772,69.718703874414757,70.724397958742742,71.730092043070712,72.735786127398711,73.741480211726696,74.747174296054681,75.752868380382651,76.758562464710636,77.76425654903862,78.769950633366605,79.77564471769459,80.781338802022574],[66.009931062229782,67.035564930105849,68.061198797981916,69.086832665857969,70.112466533734022,71.138100401610089,72.163734269486142,73.189368137362209,74.215002005238262,75.240635873114314,76.266269740990381,77.291903608866434,78.317537476742501,79.343171344618554,80.368805212494621,81.394439080370674],[66.323934587356746,67.369508238780881,68.415081890205016,69.460655541629151,70.506229193053287,71.551802844477407,72.597376495901543,73.642950147325692,74.688523798749827,75.734097450173948,76.779671101598083,77.825244753022218,78.870818404446354,79.916392055870489,80.961965707294624,82.007539358718759],[66.637938112483695,67.703451547455913,68.768964982428116,69.834478417400334,70.899991852372537,71.96550528734474,73.031018722316958,74.096532157289175,75.162045592261379,76.227559027233582,77.293072462205799,78.358585897178003,79.424099332150206,80.489612767122424,81.555126202094641,82.620639637066844],[66.951941637610673,68.037394856130959,69.122848074651245,70.20830129317153,71.293754511691816,72.379207730212102,73.464660948732373,74.550114167252673,75.635567385772958,76.721020604293244,77.806473822813516,78.891927041333801,79.977380259854087,81.062833478374372,82.148286696894658,83.233739915414944],[67.265945162737623,68.371338164805991,69.476731166874345,70.582124168942713,71.687517171011066,72.792910173079434,73.898303175147788,75.003696177216156,76.10908917928451,77.214482181352878,78.319875183421232,79.425268185489585,80.530661187557939,81.636054189626307,82.741447191694675,83.846840193763029]],\"type\":\"surface\",\"name\":\"pred_surface\",\"cauto\":true,\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n:::\n\n# {{< fa lightbulb >}} Difference-in-Differences {.inverse}\n\n## Motivating Example: What causes Cholera? {.smaller background-image=https://www.finebooksmagazine.com/sites/default/files/styles/gallery_item/public/media-images/2020-11/map-lead-4.jpg?h=2ded5a3f&itok=Mn-K5rQc, background-opacity=.3}\n\n- In the 1800s, cholera was thought to be transmitted through the air.\n\n- John Snow (the physician, not the snack), to explore the origins eventunally concluding that cholera was transmitted through living organisms in water.\n\n- Leveraged a **natural experiment** in which one water company in London moved its pipes further upstream (reducing contamination for Lambeth), while other companies kept their pumps serving Southwark and Vauxhall in the same location. \n\n\n## Notation {.smaller}\n\nLet's adopt a little notation to help us think about the logic of Snow's design:\n\n- $D$: treatment indicator, 1 for treated neighborhoods (Lambeth), 0 for control neighborhoods (Southwark and Vauxhall)\n\n- $T$: period indicator, 1 if post treatment (1854), 0 if pre-treatment (1849).\n\n- $Y_{di}(t)$ the potential outcome of unit $i$ \n\n  - $Y_{1i}(t)$ the potential outcome of unit $i$ when treated between the two periods \n\n  - $Y_{0i}(t)$ the potential outcome of unit $i$ when control between the two periods \n\n\n## Causal Effects {.smaller}\n\nThe individual causal effect for unit i at time t is:\n\n$$\\tau_{it} = Y_{1i}(t) − Y_{0i}(t)$$\n\nWhat we observe is \n\n$$Y_i(t) = Y_{0i}(t)\\cdot(1 − D_i(t)) + Y_{1i}(t)\\cdot D_i(t)$$\n\n$D$ only equals 1, when $T$ equals 1, so we never observe $Y_0i(1)$ for the treated units. \n\nIn words, we don't know what Lambeth's outcome would have been in the second period, had they not been treated.\n\n\n## Average Treatment on Treated {.smaller}\n\nOur goal is to estimate the average effect of treatment on treated (ATT):\n\n\n$$\\tau_{ATT} = E[Y_{1i}(1) -  Y_{0i}(1)|D=1]$$\n\nThat is, what would have happened in Lambeth, had their water company not moved their pipes\n\n\n## Average Treatment on Treated {.smaller}\n\nOur goal is to estimate the average effect of treatment on treated (ATT):\n\nWe we can observe is:\n\n|               | Pre-Period (T=0)  | Post-Period (T=1)  |\n|-|--|-|\n| Treated $D_{i}=1$  |  $E[Y_{0i}(0)\\vert D_i = 1]$ | $E[Y_{1i}(1)\\vert D_i = 1]$  |\n| Control $D_i=0$  |  $E[Y_{0i}(0)\\vert D_i = 0]$ | $E[Y_{0i}(1)\\vert D_i = 0]$  |\n\n\n## Data {.smaller}\n\nBecause potential outcomes notation is abstract, let's consider a modified description of the Snow's cholera death data from [Scott Cunningham](https://mixtape.scunning.com/difference-in-differences.html):\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|Company                      | 1849 (T=0)| 1854 (T=1)|\n|:----------------------------|----------:|----------:|\n|Lambeth (D=1)                |         85|         19|\n|Southwark and Vauxhall (D=0) |        135|        147|\n\n\n:::\n:::\n\n\n\n## How can we estimate the effect of moving pumps upstream? {.smaller}\n\nRecall, our goal is to estimate the effect of the the treatment on the treated:\n\n$$\\tau_{ATT} = E[Y_{1i}(1) -  Y_{0i}(1)|D=1]$$\n\nLet's conisder some strategies Snow could take to estimate this quantity:\n\n\n## Before vs after comparisons:{.smaller}\n\n:::{.nonincremental}\n- Snow could have compared Labmeth in 1854 $(E[Y_i(1)|D_i = 1] = 19)$ to Lambeth in 1849 $(E[Y_i(0)|D_i = 1]=85)$, and claimed that moving the pumps upstream led to **66 fewer cholera deaths.** \n\n- Assumes Lambeth's pre-treatment outcomes in 1849 are a good proxy for what its outcomes would have been in 1954 if the pumps hadn't moved $(E[Y_{0i}(1)|D_i = 1])$.\n\n- A skeptic might argue that Lambeth in 1849 $\\neq$ Lambeth in 1854\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Company </th>\n   <th style=\"text-align:right;\"> 1849 (T=0) </th>\n   <th style=\"text-align:right;\"> 1854 (T=1) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;color: blue !important;\"> Lambeth (D=1) </td>\n   <td style=\"text-align:right;font-weight: bold;color: blue !important;\"> 85 </td>\n   <td style=\"text-align:right;font-weight: bold;color: blue !important;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Southwark and Vauxhall (D=0) </td>\n   <td style=\"text-align:right;\"> 135 </td>\n   <td style=\"text-align:right;\"> 147 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n\n## Treatment-Control comparisons in the Post Period. {.smaller}\n\n:::{.nonincremental}\n\n- Snow could have compared outcomes between Lambeth and S&V in 1954  ($E[Yi(1)|Di = 1] − E[Yi(1)|Di = 0]$), concluding that the change in pump locations led to **128 fewer deaths.**\n\n- Here the assumption is that the outcomes in S&V and in 1854 provide a good proxy for what would have happened in Lambeth in 1954 had the pumps not been moved $(E[Y_{0i}(1)|D_i = 1])$\n\n- Again, our skeptic could argue  Lambeth $\\neq$ S&V \n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Company </th>\n   <th style=\"text-align:right;\"> 1849 (T=0) </th>\n   <th style=\"text-align:right;\"> 1854 (T=1) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Lambeth (D=1) </td>\n   <td style=\"text-align:right;\"> 85 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Southwark and Vauxhall (D=0) </td>\n   <td style=\"text-align:right;\"> 135 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 147 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n## Difference in Differences {.smaller}\n\n:::{.nonincremental}\nTo address these concerns, Snow employed what we now call a [difference-in-differences]{.blue} design, \n\nThere are two, equivalent ways to view this design. \n\n$$\\underbrace{\\{E[Y_{i}(1)|D_{i} = 1] − E[Y_{i}(1)|D_{i} = 0]\\}}_{\\text{1. Treat-Control |Post }}− \\overbrace{\\{E[Y_{i}(0)|D_{i} = 1] − E[Y_{i}(0)|D_{i}=0 ]}^{\\text{Treated-Control|Pre}}$$\n\n- Difference 1: Average change between Treated and Control  in Post Period\n\n- Difference 2: Average change between Treated and Control  in Pre Period\n\n:::\n\n## Difference in Differences {.smaller}\n\n:::{.nonincremental}\n\n$$\\underbrace{\\{E[Y_{i}(1)|D_{i} = 1] − E[Y_{i}(1)|D_{i} = 0]\\}}_{\\text{1. Treat-Control |Post }}− \\overbrace{\\{E[Y_{i}(0)|D_{i} = 1] − E[Y_{i}(0)|D_{i}=0 ]}^{\\text{Treated-Control|Pre}}$$\nIs equivalent to: \n\n$$\\underbrace{\\{E[Y_{i}(1)|D_{i} = 1] − E[Y_{i}(0)|D_{i} = 1]\\}}_{\\text{Post - Pre |Treated }}− \\overbrace{\\{E[Y_{i}(1)|D_{i} = 0] − E[Y_{i}(0)|D_{i}=0 ]}^{\\text{Post-Pre|Control}}$$\n\n\n- Difference 1: Average change between Treated over time\n- Difference 2: Average change between Control over time\n\n:::\n\n## Difference in Differences {.smaller}\n\n\nYou'll see the DiD design represented both ways, but they produce the same result:\n\n$$\n\\tau_{ATT} = (19-147) - (85-135) = -78\n$$\n\n$$\n\\tau_{ATT} = (19-85) - (147-135) = -78\n$$\n\n\n## Identifying Assumption of a Difference in Differences Design {.smaller}\n\nThe key assumption in this design is what's known as the parallel trends assumption: $E[Y_{0i}(1) − Y_{0i}(0)|D_i = 1] = E[Y_{0i}(1) − Y_{0i}(0)|D_i = 0]$ \n\n- In words: If Lambeth hadn't moved its pumps, it would have followed a similar path as S&V\n\n## Parralel Trends\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-slides_files/figure-revealjs/paralleltrends-1.png){width=960}\n:::\n:::\n\n\n\n\n\n## Summary {.smaller}\n\n- A Difference in Differences (DiD, or diff-in-diff) design combines a pre-post comparison, with a treated and control comparison\n  \n  - Taking the pre-post difference removes any fixed differences between the units\n  \n  - Then taking the difference between treated and control differences removes any common differences over time\n\n- The key identifying assumption of a DiD design is the \"assumption of parallel trends\"\n  - Absent treatment, treated and control groups\nwould see the same changes over time.\n  - Hard to prove, possible to test\n\n\n\n## Extensions and limitations {.smaller}\n\n- Diff-in-Diff easy to estimate with linear regression\n- Generalizes to multiple periods and treatment interventions\n  - More pre-treatment periods allow you assess \"parallel trends\" assumption\n- Alternative methods \n  - Synthetic control\n  - Event Study Designs\n- What if you have multiple treatments or treatments that come and go?\n  - Panel Matching\n  - Generalized Synthetic control\n\n\n## Applications{.smaller}\n\n- [Card and Krueger (1994)](https://www.nber.org/papers/w4509) What effect did raising the minimum wage in NJ have on employment\n\n- [Abadie, Diamond, & Hainmueller (2014)](https://onlinelibrary.wiley.com/doi/full/10.1111/ajps.12116?casa_token=_ceCu4SwzTEAAAAA%3AP9aeaZpT_Zh1VdWKXx_tEmzaJTtMJ1n0eG7EaYlvJZYN000re33cfMAI2O8N8htFJjOsln2GyVeQql4) What effect did German Unification have on economic development in West Germany\n\n- [Malesky, Nguyen and Tran (2014)](https://www.cambridge.org/core/journals/american-political-science-review/article/impact-of-recentralization-on-public-services-a-differenceindifferences-analysis-of-the-abolition-of-elected-councils-in-vietnam/3477854BAAFE152DC93C594169D64F58) How does decentralization influence public services?\n\n\n\n\n\n# {{< fa home >}} Summary {.inverse}\n\n## Summary\n\n\n## References",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}