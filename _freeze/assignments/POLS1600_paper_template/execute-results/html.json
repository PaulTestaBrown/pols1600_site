{
  "hash": "6a2ad666ce05ae261e4d07128c843ab5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'POLS 1600: Final Paper Template'\nauthor: \"Group XX: Member names here \"\ndate: \"UPDATE DATE\"\nformat:\n  html:\n    embed-resources: true\n    toc: true\n    toc-location: right\n    toc-float: true\n    toc-depth: 2\n    number-sections: true\nexecute: \n  eval: true\n  echo: false \n  include: false\n  warning: false\n  message: false\n  cache: false\n---\n\n\n# Introduction \n\nThis document provides a template for the structure of your final paper for POLS 1600. \n\n**Replace this markdown text with the introduction to your paper that:**\n\n- Clearly articulates your group's research question\n\n- Lays out the theoretical framework that motivates your inquiry\n\n- Describes your empirical strategy\n\n- Provides an outline of the rest of the paper and previews your results.\n\n\n# Theory and Expectations \n\nIn this section you will develop on your theoretical framework to develop a set of testable empirical implications that address your broader research question.\n\nThis section should begin by explaining the following:\n\n- What is the phenomena you are studying? (Research Question/Outcome of Interest)\n\n- Why should we care about this phenomena? (Context/Motivation/Importance)\n\nThen it should turn to addressing:\n\n- What are the factors scholars think explain this phenomena? (Literature Review/Key predictors/Alternative explanations)\n\nWhich should lead to a discussion of\n\n- What are the empirical implications of these claims? (Testable hypotheses)\n\n\n# Data \n\nIn this section you will describe your data. \n\n- Identify the source or sources of your data\n\n- Define the unit of analysis and number of observations in your data\n\n- Explain how your key concepts (outcome variable, key predictors, covariates/alternative explanations) are operationalized and measured\n\n- Describe the distributions of these data using a table and/or figure(s). \n\n- Interpret these distributions for your reader. What does a typical observation in the data look like. Are some data skewed. Are their big outliers \n\nBefore you write anythin in this section, you will want to adapt the code chunks below to:\n\n- Set up the work space\n\n- Load your data\n\n- Recode and transform the data as needed\n\n- Produce tables of summary statistics and figures\n\nI've included code chunks in the .qmd file to demonstrate this process using data from the 2020 National Election Time Series Study. \n\nHowever, you won't see that code until in the knitted document until you get to the code appendix at the end.\n\nFor example, in the .qmd file, there is a code chunk here, labelled `setup`, for loading packages.\n\n\n\n\n\nA code chunk here labelled `data` loading data\n\n\n\n\n\nA code chunk here here labelled `recodes` recoding the data\n\n\n\n\n\nA code chunk here labelled `descriptives` calculating some descriptive statistics, and producing some example figures, saved to objects called `fig1` and `fig2`\n\n\n\n\n\nFinally, once I've created a data frame containing summary statistics, I use the `knitr` packages `kable` function, and functions from the `kableExtra` package to [format the table](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)\n\nThe code chunk is labelled `sumtab` but you won't see the R code itself, because in the YAML header at the top of the document, I've: set `include: false` to hide **all the R code and output** in the YAML header of the document\n\n**When I want to display the results** of a particular chunk, I need to put `#| include: true` in the chunk's argument.\n\n**If I'm displaying a table** I need to set `results=\"asis\"` to display just the results of `sumtab` exactly as they are (which in this chunk is a table formatted in html)\n\n\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Descriptive Statistics</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Variable </th>\n   <th style=\"text-align:right;\"> min </th>\n   <th style=\"text-align:right;\"> p25 </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> p75 </th>\n   <th style=\"text-align:right;\"> max </th>\n   <th style=\"text-align:right;\"> missing </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"1\"><td colspan=\"8\" style=\"border-bottom: 1px solid;\"><strong>Outcome</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Trust in Government </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1.52 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n  </tr>\n  <tr grouplength=\"2\"><td colspan=\"8\" style=\"border-bottom: 1px solid;\"><strong>Key Predictors</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Ever Arrested </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.19 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 924 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Stopped by Police in Past Year </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.16 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 926 </td>\n  </tr>\n  <tr grouplength=\"8\"><td colspan=\"8\" style=\"border-bottom: 1px solid;\"><strong>Covariates</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Income </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 11.75 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 615 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> White </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.73 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Black </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.09 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Asian </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Hispanic </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.09 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Multiracial </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Native American, Alaskan Native, or Other </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.02 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Non-White </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.27 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 102 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n\n\n**To display a figure** that I **have saved as an object** in a previous chunk, like `fig1`, I simply **print that object** on its own line in it's own chunk and set `#| include: true`. I've added a caption to the figure, using the `fig.cap=\"Distribution of Trust in Government` argument of this the code chunk below\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 1: Distribution of Trust in Government](POLS1600_paper_template_files/figure-html/fig1-1.png){width=672}\n:::\n:::\n\n\nAnd similarly for `fig2`\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 2: Police Stops by Race](POLS1600_paper_template_files/figure-html/fig2-1.png){width=672}\n:::\n:::\n\n\n\nAnd similarly for `fig3`\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 3: Average Trust in Government by Arrest Status](POLS1600_paper_template_files/figure-html/fig3-1.png){width=672}\n:::\n:::\n\n\n\n# Design \n\nNext, you will describe the empirical research design that you will use to test your expectations. You have two main tasks or goals for this section:\n\nFirst you need to explain how you will to **test your theoretical expectations** in terms of the **empirical estimates of your model** (e.g. the regression coefficients of your linear models). \n\nAt a minimum, you will likely want to specify at least two models:\n\n1. A baseline (bivariate) model\n\n$$\n\\text{Outcome} = \\beta_0 + \\beta_1 \\times \\text{Key Predictor} + \\epsilon\n$$\n\n2. A multiple regression model controlling for alternative explanations (things that predict both your outcome and key predictor)\n\n\n$$\n\\text{Outcome} = \\beta_0 + \\beta_1 \\times \\text{Key Predictor} + X\\beta + \\epsilon\n$$\nWhere $X\\beta$ is a matrix containing one or more additional predictors representing alternative explanations. Again tell the reader how to interpret this model in relation to your baseline.\n\nSecond, in framing your expectations and explaining how you interpret your models you can use this section to **demonstrate your mastery of some of the key statistical concepts** from the course.\n\nShow the reader that you understand:\n\n- What the identifying assumptions of your design\n\n- What linear regression is and how it works\n\n- What it means to control for variables in a multiple regression\n\n- How to quantify uncertainty in your estimates\n\nYou can also demonstrate your understanding of these concepts in the next section.\n\n# Results \n\nHaving described your data and mapped your theoretical expectations onto your empirical models, you will present your results.\n\nThis section should include the following:\n\n- A regression table (or tables) presenting the coefficients from estimated models\n\n- Interpretation of the the coefficients from these models in terms of your empirical expectations. \n  - Are the results consistent with your expectations?\n  - How and why do estimates vary from one model to the next?\n  - How confident should we be in a given estimate? \n  - Specifically, how should we interpret the confidence intervals and p-values associated with a given estimate? \n\n- A figure that helps illustrate one of your key findings:\n  - This will likely be a predicted values from one (or more) of your models, particularly if you are estimating a model with an interaction term, a polynomial term, or a generalized linear model.\n\nIn general, I would encourage you to start from the simplest, likely bivariate model. Use this as a chance to explain the mechanics of linear regression, the interpretation of linear regression as linear estimated of the Conditional Expectation Function, and demonstrate your mastery of the concepts of confidence intervals and hypothesis testing.\n\nThen turn results from more complicated models. Again provide a substantive interpretation the coefficients and possible changes sign, size, and/or significance of coefficients from one model to the next. Use this discussion to further demonstrate your understanding of what it means to control for variables -- both from a technical and substantive perspective.\n\nFinally use a figure (or figures) to help illustrate the substantive interpretation of your results. (e.g. How much is your outcome predicted to change if some key predictor moved from one standard deviation below its mean to one standard deviation above)\n\nAgain, **before you do any writing** in this section, you should have code that:\n\n- Estimates models\n\n\n\n\n\n- Present your results in one or more regression tables\n\n\n\n\n\nHere's an example reporting the confidence intervals instead of standard errors\n\n\n\n\n\nAnd produce a plot of predicted values to illustrate a key relationship\n\n\n\n\n\n\nHere's where you would write the interpretation of `fig4`, which is displayed in by the code chunk below\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 4: Differences in Trust by Race, Class, and Contact with the Police](POLS1600_paper_template_files/figure-html/fig4-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n# Conclusion \n\n\nFinally, conclude by summarizing the results of your project. \n\n- What did you set out to learn? \n- What did you find? \n- What are some the strengths and weaknesses of your approach?\n- What should future research on this topic look like?\n- A list of correctly formatted references\n\n## References\n\nI'd use a bulleted list to format your references. Aim for at least three, academic citations.\n\n- Citrin, J. (1974). Comment: The political relevance of trust in government. *American Political Science Review*, 68(3), 973-988.\n\n- Lerman, Amy E., and Vesla M. Weaver. (2014) *Arresting Citizenship*. University of Chicago Press, 2014.\n\n- Jeong, J., & Han, S. (2020). Trust in police as an influencing factor on trust in government: 2SLS analysis using perception of safety. *Policing: An International Journal.*\n\n# Appendix \n\nFinally, at the end of your document, you should provide a:\n\n- Codebook\n- Code Appendix.\n\n\n## Code book\n\nYour code book should describe be organized conceptually by variable type:\n\n- Outcome\n- Key Predictors\n- Covariates\n\nFor each variable, provide:\n\n- `variable_name_used_in_code` | Conceptual name\n  - Description of variable/Survey Question Wording\n  - Original name in raw data.\n  - Summary of any recoding, transformations (e.g. Collapsing categories, or reverse coding endpoints of scales)\n  - Summary of range of values (e.g. 1= Strong Democrat ... 7 = Strong Republican)\n\n\n- `trust_in_gov` | Trust in Government\n  - **Question:** \"How often can you trust the federal government in Washington\nto do what is right?\"\n  - **Original variable:** `V201233`\n  - **Recoding:** `V201233` reverse coded so that in `trust_in_gov`, 0 = \"Never\", 1 = \"Some of the Time\", 2 = \"About half the time\", 3 = \"Most of the time\" and 4 = \"Always\" \n  - **Range:** 0 (\"Never) to 4 (\"Always)\n\n## Code Appendix\n\nFinally, in your code appendix you will display the all the code from the previous code chunks in one single code chunk by:\n\n- setting `echo = T, eval = F` in the code chunk's header\n\n- typing the `<<chunk_label>>` for each of your code chunks sequentially where `chunk_label` is replaced with the of the corresponding code chunk (e.g. `<<data>>)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pacakges used in analysis\nthe_packages <- c(\n  ## R Markdown\n  \"kableExtra\",\"DT\",\"texreg\",\"htmltools\",\n  ## Tidyverse\n  \"tidyverse\", \"lubridate\", \"forcats\", \"haven\", \"labelled\",\n  \"modelr\", \"purrr\",\n  ## Extensions for ggplot\n  \"ggmap\",\"ggrepel\", \"ggridges\", \"ggthemes\", \"ggpubr\", \n  \"GGally\", \"scales\", \"dagitty\", \"ggdag\", \"ggforce\",\n  # Data \n  \"COVID19\",\"maps\",\"mapdata\",\"qss\",\"tidycensus\", \"dataverse\",\n  # Analysis\n  \"DeclareDesign\", \"boot\"\n)\n\n# Define function to load packages\nipak <- function(pkg){\n    new.pkg <- pkg[!(pkg %in% installed.packages()[, \"Package\"])]\n    if (length(new.pkg)) \n        install.packages(new.pkg, dependencies = TRUE)\n    sapply(pkg, require, character.only = TRUE)\n}\n\nipak(the_packages)\n\n# Uncomment to install | Recomment after installing\n# remotes::install_github(\"jamesmartherus/anesr\")\nlibrary(anesr)\n\n# Load 2020 NES\ndata(\"timeseries_2020\", package =\"anesr\")\n\n# rename timeseries_2020 to df\ndf <- timeseries_2020\n\n\ndf %>%\n  mutate(\n    # ---- OUTCOMES ----\n    \n    ## V201233 PRE: HOW OFTEN TRUST GOVERNMENT IN WASHINGTON TO DO WHAT IS RIGHT\n    ### Reverse code so 0 = Never, 4 = Always\n    trust_gov = ifelse(V201233 < 0, NA, (V201233-5)*-1),\n    \n    # ---- KEY PREDICTORs ----\n    \n    ## V202457 POST: HAS R EVER BEEN ARRESTED\n    been_arrested = case_when(\n      V202457 == 2 ~ 0,\n      V202457 == 1 ~ 1,\n      T ~ NA_real_\n    ),\n    ## V202456: DURING PAST 12 MONTHS, R OR ANY FAMILY MEMBERS STOPPED BY POLICE\n    police_stop_12mo = case_when(\n      V202456 == 2 ~ 0,\n      V202456 == 1 ~ 1,\n      T ~ NA_real_\n    ),\n    \n    # ---- COVARIATES ----\n    \n    ## V201549x  PRE: SUMMARY: R self‐identified race/ethnicity\n    race_f = ifelse(\n      V201549x < 0, NA,\n      # Remove numbers from race variable labels\n      gsub(\"^[[:graph:]]* \", \"\", as_factor(V201549x))\n    ),\n    # Relevel race_f so white is reference category\n    race_f = forcats::fct_relevel(race_f,\"White, non-Hispanic\"),\n    # Create label variable with line breaks for plotting\n    race_l = stringr::str_wrap(race_f, width = 20),\n    is_white = ifelse(race_f == \"White, non-Hispanic\", 1, 0),\n    is_black = ifelse(race_f == \"Black, non-Hispanic\", 1, 0),\n    is_asian = ifelse(race_f == \"Asian or Native Hawaiian/other Pacific Islander, non-Hispanic alone\", 1, 0),\n    is_hispanic = ifelse(race_f == \"Hispanic\", 1, 0),\n    is_multiracial = ifelse(race_f == \"Multiple races, non-Hispanic\", 1, 0),\n    is_NA_AN_other = ifelse(race_f == \"Native American/Alaska Native or other race, non-Hispanic alone\", 1, 0),\n    is_nonwhite = ifelse(is_white == 1, 0, 1),\n    ## V201617x PRE: SUMMARY: Total (family) income\n    income  = ifelse(V201617x < 0, NA, V201617x),\n    income_class = case_when(\n      income <= 6 ~ \"Low income\",\n      income > 6 & income < 17 ~ \"Middle income\",\n      income >= 17 ~ \"High income\",\n      T ~ NA_character_\n    ) %>% factor(., levels = c(\"Middle income\",\"Low income\",\"High income\")) # Make middle income reference category\n    \n  ) -> df\n\n\n\n# ---- Check Recodes ----\n\n## Trust\ntable(df$V201233, df$trust_gov, useNA = \"ifany\")\n## CJS Contact\n\n### Respondented Arrested Ever\ntable(df$V202457, df$been_arrested, useNA = \"ifany\")\n\n### Respondent or peers/family been stopped by police in past year\ntable(df$V202456, df$police_stop_12mo, useNA = \"ifany\")\n\n## Race\ntable(df$race_f, df$V201549x, useNA = \"ifany\")\n### White indicator\ntable(df$race_f, df$is_white, useNA = \"ifany\")\n\n### Non-White indicator\ntable(df$race_f, df$is_nonwhite, useNA = \"ifany\")\n\n## Income\ntable(df$income, df$income_class)\n\n# ---- Descriptive Statistics ----\n\n# Variables for table of descriptive statistics:\nthe_vars <- c(\"trust_gov\",\n              \"been_arrested\", \"police_stop_12mo\",\n              \"income\", df%>%select(starts_with(\"is_\"))%>%names())\n\n# Create table of summary statistics\n\ndf %>%\n  select(all_of(the_vars))%>%\n  pivot_longer(\n    cols = all_of(the_vars),\n    names_to = \"Variable\"\n  )%>%\n  mutate(\n    Variable = factor(Variable, levels = the_vars)\n  )%>%\n  arrange(Variable)%>%\n  dplyr::group_by(Variable)%>%\n  dplyr::summarise(\n    min = min(value, na.rm=T),\n    p25 = quantile(value, na.rm=T, prob = 0.25),\n    Median = quantile(value, na.rm=T, prob = 0.5),\n    mean = mean(value, na.rm=T),\n    p75 = quantile(value, na.rm=T, prob = 0.25),\n    max = max(value, na.rm=T),\n    missing = sum(is.na(value))\n  ) %>%\n  mutate(\n    Variable = case_when(\n      Variable == \"been_arrested\" ~ \"Ever Arrested\",\n      Variable == \"income\" ~ \"Income\",\n      Variable == \"police_stop_12mo\" ~ \"Stopped by Police in Past Year\",\n      Variable == \"is_nonwhite\" ~ \"Non-White\",\n      Variable == \"is_white\" ~ \"White\",\n      Variable == \"is_black\" ~ \"Black\",\n      Variable == \"is_hispanic\" ~ \"Hispanic\",\n      Variable == \"is_asian\" ~ \"Asian\",\n      Variable == \"is_NA_AN_other\" ~ \"Native American, Alaskan Native, or Other\",\n      Variable == \"is_multiracial\" ~ \"Multiracial\",\n      Variable == \"trust_gov\" ~ \"Trust in Government\"\n    )\n  ) -> sum_df\n\n\n\n# ---- Descriptive Figures ----\n\n\n## Distribution of trust in Government\nfig1 <- df %>%\n  ggplot(aes(trust_gov))+\n  geom_histogram()+\n  labs(\n    x = \"Trust in Government\"\n  )\n\n## Average proportion of respendents reporting Police Stops by Race\n\nfig2 <- df %>%\n  filter(!is.na(race_l))%>%\n  group_by(race_l)%>%\n  summarise(\n    stop = mean(police_stop_12mo, na.rm=T)\n  )%>%\n  mutate(\n    race_l = fct_reorder(race_l,stop)\n  )%>%\n  ggplot(aes(race_l, stop, \n             fill = race_l,\n             label = scales::percent(stop),\n             ))+\n  geom_bar(stat = \"identity\")+\n  scale_y_continuous(labels = scales::percent,\n                     expand = expansion(mult = c(0,0.5))\n                     )+\n  labs(\n    y = \"% Experiencing Police Stop\\nin Past Year\",\n    x= \"\"\n  )+\n  geom_text_repel(direction = \"x\", hjust = 1)+\n  coord_flip()+\n  guides(fill = \"none\")+\n\n  theme_bw()\n\n## Average trust by Arrest Status\nfig3 <- df %>%\n  mutate(\n    `Ever Arrested` = ifelse(been_arrested == 1, \"Yes\", \"No\")\n  ) %>%\n  filter(!is.na(`Ever Arrested`))%>%\n  ggplot(aes(`Ever Arrested`,trust_gov, \n             fill = `Ever Arrested`,\n             group = `Ever Arrested`))+\n  stat_summary()+\n  labs(\n    y = \"Trust in Government\\n(0 = Never, 4 = Always)\"\n  )\n\n\n# Table of descriptive statistics\nknitr::kable(sum_df,\n             caption = \"Descriptive Statistics\",\n             digits = 2) %>%\n  kableExtra::kable_styling() %>%\n  kableExtra::pack_rows(\"Outcome\", start_row = 1, end_row =1) %>%\n  kableExtra::pack_rows(\"Key Predictors\", start_row = 2, end_row =3) %>%\n  kableExtra::pack_rows(\"Covariates\", start_row = 4, end_row =11)\n\n\nfig1\n\nfig2\n\n# Figure 3\nfig3\n\n# ---- Regression Models ----\n\n\n# Bivariate\nm1 <- lm(trust_gov ~ been_arrested, df)\nm2 <- lm(trust_gov ~ police_stop_12mo, df)\nm3 <- lm(trust_gov ~ race_f, df)\nm4 <- lm(trust_gov ~ income_class, df)\n\n# Mutliple regression\nm5 <- lm(trust_gov ~ been_arrested + police_stop_12mo + race_f + income_class, df)\n\n\n\ntexreg::htmlreg(\n  list(m1, m2, m3,m4),\n  custom.coef.names = c(\"(Intercept)\",\n                        \"Ever Arrested\", \"Police Stopped in Past Yr\", \n                        \"Asian\",\n                        \"Black\",\n                        \"Hispanic\",\n                        \"Multiracial\",\n                        \"NA, AN, or Other\",\n                        \"Low Income\",\n                        \"High Income\"),\n  custom.model.names = c(\"Arrests\",\"Stops\",\"Race\",\"Class\"),\n  custom.header = list(\"Outcome: Trust in Government\" = 1:4),\n  caption = \"Baseline Models\"\n  \n)\n\ntexreg::htmlreg(\n  list(m5),\n  custom.coef.names = c(\"(Intercept)\",\n                        \"Ever Arrested\", \"Police Stopped in Past Yr\", \n                        \"Asian\",\n                        \"Black\",\n                        \"Hispanic\",\n                        \"Multiracial\",\n                        \"NA, AN, or Other\",\n                        \"Low Income\",\n                        \"High Income\"),\n  ci.force = T,\n  caption = \"Multiple regression\"\n  \n)\n\n\n# Figure 4\nfig4\n```\n:::\n",
    "supporting": [
      "POLS1600_paper_template_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}